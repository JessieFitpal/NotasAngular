(self.webpackChunknotas_angular=self.webpackChunknotas_angular||[]).push([[179],{8255:et=>{function Te(V){return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+V+"'");throw m.code="MODULE_NOT_FOUND",m})}Te.keys=()=>[],Te.resolve=Te,Te.id=8255,et.exports=Te},3018:(et,Te,V)=>{"use strict";V.d(Te,{deG:()=>Xu,tb:()=>g0,AFp:()=>kD,ip1:()=>h0,CZH:()=>Rc,hGG:()=>Ng,z2F:()=>I_,sBO:()=>wI,Sil:()=>Nc,_Vd:()=>Vh,EJc:()=>LD,SBq:()=>ko,qLn:()=>de,vpe:()=>Bo,gxx:()=>dc,tBr:()=>Io,XFs:()=>Re,OlP:()=>vn,zs3:()=>wn,ZZ4:()=>Un,aQg:()=>Dn,soG:()=>cf,YKP:()=>DI,v3s:()=>Cx,h0i:()=>td,PXZ:()=>vx,R0b:()=>Ur,FiY:()=>li,Lbi:()=>g_,g9A:()=>p0,Qsj:()=>dS,FYo:()=>Uy,JOm:()=>ma,Tiy:()=>fw,q3G:()=>qe,tp0:()=>pa,EAV:()=>tT,Rgc:()=>jh,dDg:()=>zD,DyG:()=>Ti,q4F:()=>jy,GfV:()=>pw,s_b:()=>Jn,ifc:()=>hn,eFA:()=>D0,G48:()=>ZD,Gpc:()=>fe,X6Q:()=>E_,_c5:()=>M_,VLi:()=>mx,c2e:()=>FD,zSh:()=>va,wAp:()=>at,vHH:()=>pe,EiD:()=>lv,mCW:()=>uu,qzn:()=>au,JVY:()=>om,pB0:()=>rv,eBb:()=>yl,L6k:()=>tv,LAX:()=>nv,cg1:()=>KE,Tjo:()=>O0,kL8:()=>Mr,yhl:()=>Zd,dqk:()=>j,sIi:()=>Ep,CqO:()=>Ll,QGY:()=>hy,F4k:()=>PC,RDi:()=>Li,AaK:()=>K,z3N:()=>ws,qOj:()=>_p,TTD:()=>qc,_Bn:()=>Lh,xp6:()=>sh,uIk:()=>wp,ekj:()=>my,Suo:()=>i_,Xpm:()=>$o,lG2:()=>vf,Yz7:()=>rn,cJS:()=>_i,oAB:()=>Na,Yjl:()=>Ou,Y36:()=>Ch,_UZ:()=>vE,qZA:()=>Fl,TgZ:()=>Ih,EpF:()=>wE,n5z:()=>il,Ikx:()=>WE,LFG:()=>un,$8M:()=>Qu,NdJ:()=>fy,CRH:()=>Iu,oxw:()=>gy,Q6J:()=>Ap,WLB:()=>rD,iGM:()=>Qw,CHM:()=>zc,LSH:()=>Yr,kYT:()=>Ss,YNc:()=>iE,_uU:()=>OE,Oqu:()=>wy});var m=V(9765),ee=V(5319),F=V(7574),ce=V(6682),te=V(2441);var he=V(1307);function W(){return new m.xQ}function L(r){for(let i in r)if(r[i]===L)return i;throw Error("Could not find renamed property on target object.")}function Q(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function K(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(K).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function re(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const we=L({__forward_ref__:L});function fe(r){return r.__forward_ref__=fe,r.toString=function(){return K(this())},r}function q(r){return _e(r)?r():r}function _e(r){return"function"==typeof r&&r.hasOwnProperty(we)&&r.__forward_ref__===fe}class pe extends Error{constructor(i,o){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,o)),this.code=i}}function Le(r){return"string"==typeof r?r:null==r?"":String(r)}function yt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Le(r)}function oe(r,i){const o=i?` in ${i}`:"";throw new pe("201",`No provider for ${yt(r)} found${o}`)}function ln(r,i){null==r&&function(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function rn(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function _i(r){return{providers:r.providers||[],imports:r.imports||[]}}function Dr(r){return si(r,bn)||si(r,ro)}function si(r,i){return r.hasOwnProperty(i)?r[i]:null}function oi(r){return r&&(r.hasOwnProperty(mr)||r.hasOwnProperty(ot))?r[mr]:null}const bn=L({\u0275prov:L}),mr=L({\u0275inj:L}),ro=L({ngInjectableDef:L}),ot=L({ngInjectorDef:L});var Re=(()=>((Re=Re||{})[Re.Default=0]="Default",Re[Re.Host=1]="Host",Re[Re.Self=2]="Self",Re[Re.SkipSelf=4]="SkipSelf",Re[Re.Optional=8]="Optional",Re))();let jt;function dn(r){const i=jt;return jt=r,i}function kt(r,i,o){const u=Dr(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Re.Optional?null:void 0!==i?i:void oe(K(r),"Injector")}function Qe(r){return{toString:r}.toString()}var yn=(()=>((yn=yn||{})[yn.OnPush=0]="OnPush",yn[yn.Default=1]="Default",yn))(),hn=(()=>((hn=hn||{})[hn.Emulated=0]="Emulated",hn[hn.None=2]="None",hn[hn.ShadowDom=3]="ShadowDom",hn))();const Tr="undefined"!=typeof globalThis&&globalThis,io="undefined"!=typeof window&&window,$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j=Tr||"undefined"!=typeof global&&global||io||$,We={},$e=[],Ft=L({\u0275cmp:L}),Jt=L({\u0275dir:L}),Yt=L({\u0275pipe:L}),$r=L({\u0275mod:L}),It=L({\u0275loc:L}),Xt=L({\u0275fac:L}),tr=L({__NG_ELEMENT_ID__:L});let Nu=0;function $o(r){return Qe(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===yn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||$e,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||hn.Emulated,id:"c",styles:r.styles||$e,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,d=r.features,g=r.pipes;return u.id+=Nu++,u.inputs=Ei(r.inputs,o),u.outputs=Ei(r.outputs),d&&d.forEach(y=>y(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(Ra):null,u.pipeDefs=g?()=>("function"==typeof g?g():g).map(Mu):null,u})}function Ra(r){return nr(r)||function(r){return r[Jt]||null}(r)}function Mu(r){return function(r){return r[Yt]||null}(r)}const As={};function Na(r){return Qe(()=>{const i={type:r.type,bootstrap:r.bootstrap||$e,declarations:r.declarations||$e,imports:r.imports||$e,exports:r.exports||$e,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(As[r.id]=r.type),i})}function Ss(r,i){return Qe(()=>{const o=$n(r,!0);o.declarations=i.declarations||$e,o.imports=i.imports||$e,o.exports=i.exports||$e})}function Ei(r,i){if(null==r)return We;const o={};for(const u in r)if(r.hasOwnProperty(u)){let c=r[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=u,i&&(i[c]=d)}return o}const vf=$o;function Ou(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function nr(r){return r[Ft]||null}function $n(r,i){const o=r[$r]||null;if(!o&&!0===i)throw new Error(`Type ${K(r)} does not have '\u0275mod' property.`);return o}function Gr(r){return Array.isArray(r)&&"object"==typeof r[1]}function Ht(r){return Array.isArray(r)&&!0===r[1]}function ka(r){return 0!=(8&r.flags)}function Pu(r){return 2==(2&r.flags)}function qr(r){return 1==(1&r.flags)}function bi(r){return null!==r.template}function $c(r){return 0!=(512&r[2])}function Ar(r,i){return r.hasOwnProperty(Xt)?r[Xt]:null}class Ci{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function qc(){return lo}function lo(r){return r.type.prototype.ngOnChanges&&(r.setInput=xd),Ii}function Ii(){const r=ho(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===We)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function xd(r,i,o,u){const c=ho(r)||function(r,i){return r[Ef]=i}(r,{previous:We,current:null}),d=c.current||(c.current={}),g=c.previous,y=this.declaredInputs[o],w=g[y];d[y]=new Ci(w&&w.currentValue,i,g===We),r[u]=i}qc.ngInherit=!0;const Ef="__ngSimpleChanges__";function ho(r){return r[Ef]||null}let Os;function Li(r){Os=r}function sn(r){return!!r.listen}const Qo={createRenderer:(r,i)=>void 0!==Os?Os:"undefined"!=typeof document?document:void 0};function bt(r){for(;Array.isArray(r);)r=r[0];return r}function Va(r,i){return bt(i[r])}function _r(r,i){return bt(i[r.index])}function Vi(r,i){return r.data[i]}function qn(r,i){const o=i[r];return Gr(o)?o:o[0]}function go(r){return 4==(4&r[2])}function Jo(r){return 128==(128&r[2])}function Ps(r,i){return null==i?null:r[i]}function Xo(r){r[18]=0}function ju(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const ct={lFrame:qu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wc(){return ct.bindingsEnabled}function Se(){return ct.lFrame.lView}function Dt(){return ct.lFrame.tView}function zc(r){return ct.lFrame.contextLView=r,r[8]}function _n(){let r=Od();for(;null!==r&&64===r.type;)r=r.parent;return r}function Od(){return ct.lFrame.currentTNode}function ai(r,i){const o=ct.lFrame;o.currentTNode=r,o.isParent=i}function Ba(){return ct.lFrame.isParent}function na(){return ct.isInCheckNoChangesMode}function Ui(r){ct.isInCheckNoChangesMode=r}function Bi(){return ct.lFrame.bindingIndex++}function Kc(r,i){const o=ct.lFrame;o.bindingIndex=o.bindingRootIndex=r,ra(i)}function ra(r){ct.lFrame.currentDirectiveIndex=r}function yo(){return ct.lFrame.currentQueryIndex}function Zc(r){ct.lFrame.currentQueryIndex=r}function bf(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Fd(r,i,o){if(o&Re.SkipSelf){let c=i,d=r;for(;!(c=c.parent,null!==c||o&Re.Host||(c=bf(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;i=c,r=d}const u=ct.lFrame=Ld();return u.currentTNode=i,u.lView=r,!0}function _o(r){const i=Ld(),o=r[1];ct.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Ld(){const r=ct.lFrame,i=null===r?null:r.child;return null===i?qu(r):i}function qu(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function Vd(){const r=ct.lFrame;return ct.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const z_=Vd;function Cf(){const r=Vd();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Wr(){return ct.lFrame.selectedIndex}function ji(r){ct.lFrame.selectedIndex=r}function on(){const r=ct.lFrame;return Vi(r.tView,r.selectedIndex)}function ia(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const d=r.data[o].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:I,ngOnDestroy:T}=d;g&&(r.contentHooks||(r.contentHooks=[])).push(-o,g),y&&((r.contentHooks||(r.contentHooks=[])).push(o,y),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,y)),w&&(r.viewHooks||(r.viewHooks=[])).push(-o,w),I&&((r.viewHooks||(r.viewHooks=[])).push(o,I),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,I)),null!=T&&(r.destroyHooks||(r.destroyHooks=[])).push(o,T)}}function sa(r,i,o){Xc(r,i,3,o)}function Jc(r,i,o,u){(3&r[2])===o&&Xc(r,i,o,u)}function vo(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function Xc(r,i,o,u){const d=null!=u?u:-1,g=i.length-1;let y=0;for(let w=void 0!==u?65535&r[18]:0;w<g;w++)if("number"==typeof i[w+1]){if(y=i[w],null!=u&&y>=u)break}else i[w]<0&&(r[18]+=65536),(y<d||-1==d)&&(el(r,o,i,w),r[18]=(4294901760&r[18])+w+2),w++}function el(r,i,o,u){const c=o[u]<0,d=o[u+1],y=r[c?-o[u]:o[u]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{d.call(y)}finally{}}}else try{d.call(y)}finally{}}class Ha{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function an(r,i,o){const u=sn(r);let c=0;for(;c<o.length;){const d=o[c];if("number"==typeof d){if(0!==d)break;c++;const g=o[c++],y=o[c++],w=o[c++];u?r.setAttribute(i,y,w,g):i.setAttributeNS(g,y,w)}else{const g=d,y=o[++c];zu(g)?u&&r.setProperty(i,g,y):u?r.setAttribute(i,g,y):i.setAttribute(g,y),c++}}return c}function qa(r){return 3===r||4===r||6===r}function zu(r){return 64===r.charCodeAt(0)}function Wa(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||Ku(r,o,c,null,-1===o||2===o?i[++u]:null)}}return r}function Ku(r,i,o,u,c){let d=0,g=r.length;if(-1===i)g=-1;else for(;d<r.length;){const y=r[d++];if("number"==typeof y){if(y===i){g=-1;break}if(y>i){g=d-1;break}}}for(;d<r.length;){const y=r[d];if("number"==typeof y)break;if(y===o){if(null===u)return void(null!==c&&(r[d+1]=c));if(u===r[d+1])return void(r[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==g&&(r.splice(g,0,i),d=g+1),r.splice(d++,0,o),null!==u&&r.splice(d++,0,u),null!==c&&r.splice(d++,0,c)}function Zu(r){return-1!==r}function za(r){return 32767&r}function Ka(r,i){let o=function(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let Za=!0;function oa(r){const i=Za;return Za=r,i}let Cn=0;function ht(r,i){const o=ca(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,ua(u.data,r),ua(i,null),ua(u.blueprint,null));const c=ls(r,i),d=r.injectorIndex;if(Zu(c)){const g=za(c),y=Ka(c,i),w=y[1].data;for(let I=0;I<8;I++)i[d+I]=y[g+I]|w[g+I]}return i[d+8]=c,d}function ua(r,i){r.push(0,0,0,0,0,0,0,0,i)}function ca(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function ls(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){const d=c[1],g=d.type;if(u=2===g?d.declTNode:1===g?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function ds(r,i,o){!function(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(tr)&&(u=o[tr]),null==u&&(u=o[tr]=Cn++);const c=255&u;i.data[r+(c>>5)]|=1<<c}(r,i,o)}function fs(r,i,o){if(o&Re.Optional)return r;oe(i,"NodeInjector")}function la(r,i,o,u){if(o&Re.Optional&&void 0===u&&(u=null),0==(o&(Re.Self|Re.Host))){const c=r[9],d=dn(void 0);try{return c?c.get(i,u,o&Re.Optional):kt(i,u,o&Re.Optional)}finally{dn(d)}}return fs(u,i,o)}function tl(r,i,o,u=Re.Default,c){if(null!==r){const d=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(tr)?r[tr]:void 0;return"number"==typeof i?i>=0?255&i:nl:i}(o);if("function"==typeof d){if(!Fd(i,r,u))return u&Re.Host?fs(c,o,u):la(i,o,u,c);try{const g=d(u);if(null!=g||u&Re.Optional)return g;oe(o)}finally{z_()}}else if("number"==typeof d){let g=null,y=ca(r,i),w=-1,I=u&Re.Host?i[16][6]:null;for((-1===y||u&Re.SkipSelf)&&(w=-1===y?ls(r,i):i[y+8],-1!==w&&Di(u,!1)?(g=i[1],y=za(w),i=Ka(w,i)):y=-1);-1!==y;){const T=i[1];if(zn(d,y,T.data)){const R=rl(y,i,o,g,u,I);if(R!==$d)return R}w=i[y+8],-1!==w&&Di(u,i[1].data[y+8]===I)&&zn(d,y,i)?(g=T,y=za(w),i=Ka(w,i)):y=-1}}}return la(i,o,u,c)}const $d={};function nl(){return new gs(_n(),Se())}function rl(r,i,o,u,c,d){const g=i[1],y=g.data[r+8],T=ps(y,g,o,null==u?Pu(y)&&Za:u!=g&&0!=(3&y.type),c&Re.Host&&d===y);return null!==T?zr(i,g,T,y):$d}function ps(r,i,o,u,c){const d=r.providerIndexes,g=i.data,y=1048575&d,w=r.directiveStart,T=d>>20,O=c?y+T:r.directiveEnd;for(let B=u?y:y+T;B<O;B++){const H=g[B];if(B<w&&o===H||B>=w&&H.type===o)return B}if(c){const B=g[w];if(B&&bi(B)&&B.type===o)return w}return null}function zr(r,i,o,u){let c=r[o];const d=i.data;if(function(r){return r instanceof Ha}(c)){const g=c;g.resolving&&function(r,i){throw new pe("200",`Circular dependency in DI detected for ${r}`)}(yt(d[o]));const y=oa(g.canSeeViewProviders);g.resolving=!0;const w=g.injectImpl?dn(g.injectImpl):null;Fd(r,u,Re.Default);try{c=r[o]=g.factory(void 0,d,r,u),i.firstCreatePass&&o>=u.directiveStart&&function(r,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=i.type.prototype;if(u){const g=lo(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,g),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,g)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,d))}(o,d[o],i)}finally{null!==w&&dn(w),oa(y),g.resolving=!1,z_()}}return c}function zn(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function Di(r,i){return!(r&Re.Self||r&Re.Host&&i)}class gs{constructor(i,o){this._tNode=i,this._lView=o}get(i,o){return tl(this._tNode,this._lView,i,void 0,o)}}function il(r){return Qe(()=>{const i=r.prototype.constructor,o=i[Xt]||sl(i),u=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==u;){const d=c[Xt]||sl(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function sl(r){return _e(r)?()=>{const i=sl(q(r));return i&&i()}:Ar(r)}function Qu(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const d=o[c];if(qa(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(d===i)return o[c+1];c+=2}}}return null}(_n(),r)}const ys="__parameters__";function Eo(r,i,o){return Qe(()=>{const u=function(r){return function(...o){if(r){const u=r(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...d){if(this instanceof c)return u.apply(this,d),this;const g=new c(...d);return y.annotation=g,y;function y(w,I,T){const R=w.hasOwnProperty(ys)?w[ys]:Object.defineProperty(w,ys,{value:[]})[ys];for(;R.length<=T;)R.push(null);return(R[T]=R[T]||[]).push(g),w}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class vn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=rn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Xu=new vn("AnalyzeForEntryComponents"),Ti=Function;function Kr(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(i===r&&(i=r.slice(0,o)),Kr(u,i)):i!==r&&i.push(u)}return i}function Zr(r,i){r.forEach(o=>Array.isArray(o)?Zr(o,i):i(o))}function ui(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function ci(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function C(r,i,o){let u=x(r,i);return u>=0?r[1|u]=o:(u=~u,function(r,i,o,u){let c=r.length;if(c==i)r.push(o,u);else if(1===c)r.push(u,r[0]),r[0]=o;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=o,r[i+1]=u}}(r,u,i,o)),u}function D(r,i){const o=x(r,i);if(o>=0)return r[1|o]}function x(r,i){return function(r,i,o){let u=0,c=r.length>>o;for(;c!==u;){const d=u+(c-u>>1),g=r[d<<o];if(i===g)return d<<o;g>i?c=d:u=d+1}return~(c<<o)}(r,i,1)}const Ai={},ru="__NG_DI_FLAG__",Si="ngTempTokenPath",Hi=/\n/gm,nc="__source",iu=L({provide:String,useValue:L});let dl;function Es(r){const i=dl;return dl=r,i}function qd(r,i=Re.Default){if(void 0===dl)throw new Error("inject() must be called from an injection context");return null===dl?kt(r,void 0,i):dl.get(r,i&Re.Optional?null:void 0,i)}function un(r,i=Re.Default){return(jt||qd)(q(r),i)}function Co(r){const i=[];for(let o=0;o<r.length;o++){const u=q(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,d=Re.Default;for(let g=0;g<u.length;g++){const y=u[g],w=hl(y);"number"==typeof w?-1===w?c=y.token:d|=w:c=y}i.push(un(c,d))}else i.push(un(u))}return i}function rc(r,i){return r[ru]=i,r.prototype[ru]=i,r}function hl(r){return r[ru]}function Nf(r,i,o,u){const c=r[Si];throw i[nc]&&c.unshift(i[nc]),r.message=function(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=K(i);if(Array.isArray(i))c=i.map(K).join(" -> ");else if("object"==typeof i){let d=[];for(let g in i)if(i.hasOwnProperty(g)){let y=i[g];d.push(g+":"+("string"==typeof y?JSON.stringify(y):K(y)))}c=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${r.replace(Hi,"\n  ")}`}("\n"+r.message,c,o,u),r.ngTokenPath=c,r[Si]=null,r}const Io=rc(Eo("Inject",r=>({token:r})),-1),li=rc(Eo("Optional"),8),pa=rc(Eo("SkipSelf"),4);let oc;function Do(r){var i;return(null===(i=function(){if(void 0===oc&&(oc=null,j.trustedTypes))try{oc=j.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return oc}())||void 0===i?void 0:i.createHTML(r))||r}class To{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ev extends To{getTypeName(){return"HTML"}}class im extends To{getTypeName(){return"Style"}}class ou extends To{getTypeName(){return"Script"}}class Ff extends To{getTypeName(){return"URL"}}class sm extends To{getTypeName(){return"ResourceURL"}}function ws(r){return r instanceof To?r.changingThisBreaksApplicationSecurity:r}function au(r,i){const o=Zd(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function Zd(r){return r instanceof To&&r.getTypeName()||null}function om(r){return new ev(r)}function tv(r){return new im(r)}function yl(r){return new ou(r)}function nv(r){return new Ff(r)}function rv(r){return new sm(r)}class iv{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Do(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class nb{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Do(i),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Do(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const o=i.attributes;for(let c=o.length-1;0<c;c--){const g=o.item(c).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&i.removeAttribute(g)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const sv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Vf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function uu(r){return(r=String(r)).match(sv)||r.match(Vf)?r:"unsafe:"+r}function Us(r){const i={};for(const o of r.split(","))i[o]=!0;return i}function ga(...r){const i={};for(const o of r)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const Yd=Us("area,br,col,hr,img,wbr"),am=Us("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qd=Us("rp,rt"),Bf=ga(Yd,ga(am,Us("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ga(Qd,Us("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ga(Qd,am)),vl=Us("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jf=Us("srcset"),$f=ga(vl,jf,Us("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Us("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hf=Us("script,style,template");class sb{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Bf.hasOwnProperty(o))return this.sanitizedSomething=!0,!Hf.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let c=0;c<u.length;c++){const d=u.item(c),g=d.name,y=g.toLowerCase();if(!$f.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=d.value;vl[y]&&(w=uu(w)),jf[y]&&(r=w,w=(r=String(r)).split(",").map(i=>uu(i.trim())).join(", ")),this.buf.push(" ",g,'="',cm(w),'"')}var r;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Bf.hasOwnProperty(o)&&!Yd.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(cm(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const cv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,um=/([^\#-~ |!])/g;function cm(r){return r.replace(/&/g,"&amp;").replace(cv,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(um,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gf;function lv(r,i){let o=null;try{Gf=Gf||function(r){const i=new nb(r);return function(){try{return!!(new window.DOMParser).parseFromString(Do(""),"text/html")}catch(r){return!1}}()?new iv(i):i}(r);let u=i?String(i):"";o=Gf.getInertBodyElement(u);let c=5,d=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=d,d=o.innerHTML,o=Gf.getInertBodyElement(u)}while(u!==d);return Do((new sb).sanitizeChildren(qf(o)||o))}finally{if(o){const u=qf(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function qf(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var qe=(()=>((qe=qe||{})[qe.NONE=0]="NONE",qe[qe.HTML=1]="HTML",qe[qe.STYLE=2]="STYLE",qe[qe.SCRIPT=3]="SCRIPT",qe[qe.URL=4]="URL",qe[qe.RESOURCE_URL=5]="RESOURCE_URL",qe))();function Yr(r){const i=function(){const r=Se();return r&&r[12]}();return i?i.sanitize(qe.URL,r)||"":au(r,"URL")?ws(r):uu(Le(r))}const wl="__ngContext__";function Zn(r,i){r[wl]=i}function ar(r){const i=function(r){return r[wl]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function A(r){return r.ngOriginalError}function z(r,...i){r.error(...i)}class de{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),u=this._findContext(i),c=(r=i)&&r.ngErrorLogger||z;var r;c(this._console,"ERROR",i),o&&c(this._console,"ORIGINAL ERROR",o),u&&c(this._console,"ERROR CONTEXT",u)}_findContext(i){return i?i.ngDebugContext||this._findContext(A(i)):null}_findOriginalError(i){let o=i&&A(i);for(;o&&A(o);)o=A(o);return o||null}}const ep=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function En(r){return r instanceof Function?r():r}var ma=(()=>((ma=ma||{})[ma.Important=1]="Important",ma[ma.DashCase=2]="DashCase",ma))();function tp(r,i){return undefined(r,i)}function rp(r){const i=r[3];return Ht(i)?i[3]:i}function pv(r){return db(r[13])}function gv(r){return db(r[4])}function db(r){for(;null!==r&&!Ht(r);)r=r[4];return r}function bl(r,i,o,u,c){if(null!=u){let d,g=!1;Ht(u)?d=u:Gr(u)&&(g=!0,u=u[0]);const y=bt(u);0===r&&null!==o?null==c?xo(i,o,y):Ln(i,o,y,c||null,!0):1===r&&null!==o?Ln(i,o,y,c||null,!0):2===r?function(r,i,o){const u=ip(r,i);u&&function(r,i,o,u){sn(r)?r.removeChild(i,o,u):i.removeChild(o)}(r,u,i,o)}(i,y,g):3===r&&i.destroyNode(y),null!=d&&function(r,i,o,u,c){const d=o[7];d!==bt(o)&&bl(i,r,u,d,c);for(let y=10;y<o.length;y++){const w=o[y];sp(w[1],w,r,i,u,d)}}(i,r,d,o,c)}}function yv(r,i,o){return sn(r)?r.createElement(i,o):null===o?r.createElement(i):r.createElementNS(o,i)}function gb(r,i){const o=r[9],u=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,ju(c,-1)),o.splice(u,1)}function vv(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const c=u[17];null!==c&&c!==r&&gb(c,u),i>0&&(r[o-1][4]=u[4]);const d=ci(r,10+i);!function(r,i){sp(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const g=d[19];null!==g&&g.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function mb(r,i){if(!(256&i[2])){const o=i[11];sn(o)&&o.destroyNode&&sp(r,i,o,3,null,null),function(r){let i=r[13];if(!i)return js(r[1],r);for(;i;){let o=null;if(Gr(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)Gr(i)&&js(i[1],i),i=i[3];null===i&&(i=r),Gr(i)&&js(i[1],i),o=i&&i[4]}i=o}}(i)}}function js(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof Ha)){const d=o[u+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const y=c[d[g]],w=d[g+1];try{w.call(y)}finally{}}else try{d.call(c)}finally{}}}}(r,i),function(r,i){const o=r.cleanup,u=i[7];let c=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const g=o[d+1],y="function"==typeof g?g(i):bt(i[g]),w=u[c=o[d+2]],I=o[d+3];"boolean"==typeof I?y.removeEventListener(o[d],w,I):I>=0?u[c=I]():u[c=-I].unsubscribe(),d+=2}else{const g=u[c=o[d+1]];o[d].call(g)}if(null!==u){for(let d=c+1;d<u.length;d++)u[d]();i[7]=null}}(r,i),1===i[1].type&&sn(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&Ht(i[3])){o!==i[3]&&gb(o,i);const u=i[19];null!==u&&u.detachView(r)}}}function Ev(r,i,o){return function(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const c=r.data[u.directiveStart].encapsulation;if(c===hn.None||c===hn.Emulated)return null}return _r(u,o)}(r,i.parent,o)}function Ln(r,i,o,u,c){sn(r)?r.insertBefore(i,o,u,c):i.insertBefore(o,u,c)}function xo(r,i,o){sn(r)?r.appendChild(i,o):i.appendChild(o)}function vb(r,i,o,u,c){null!==u?Ln(r,i,o,u,c):xo(r,i,o)}function ip(r,i){return sn(r)?r.parentNode(i):i.parentNode}let bb=function(r,i,o){return 40&r.type?_r(r,o):null};function Cl(r,i,o,u){const c=Ev(r,u,i),d=i[11],y=function(r,i,o){return bb(r,i,o)}(u.parent||i[6],u,i);if(null!=c)if(Array.isArray(o))for(let w=0;w<o.length;w++)vb(d,c,o[w],y,!1);else vb(d,c,o,y,!1)}function ya(r,i){if(null!==i){const o=i.type;if(3&o)return _r(i,r);if(4&o)return Il(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return ya(r,u);{const c=r[i.index];return Ht(c)?Il(-1,c):bt(c)}}if(32&o)return tp(i,r)()||bt(r[i.index]);{const u=Rt(r,i);return null!==u?Array.isArray(u)?u[0]:ya(rp(r[16]),u):ya(r,i.next)}}return null}function Rt(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Il(r,i){const o=10+r+1;if(o<i.length){const u=i[o],c=u[1].firstChild;if(null!==c)return ya(u,c)}return i[7]}function cu(r,i,o,u,c,d,g){for(;null!=o;){const y=u[o.index],w=o.type;if(g&&0===i&&(y&&Zn(bt(y),u),o.flags|=4),64!=(64&o.flags))if(8&w)cu(r,i,o.child,u,c,d,!1),bl(i,r,c,y,d);else if(32&w){const I=tp(o,u);let T;for(;T=I();)bl(i,r,c,T,d);bl(i,r,c,y,d)}else 16&w?Iv(r,i,u,o,c,d):bl(i,r,c,y,d);o=g?o.projectionNext:o.next}}function sp(r,i,o,u,c,d){cu(o,u,r.firstChild,i,c,d,!1)}function Iv(r,i,o,u,c,d){const g=o[16],w=g[6].projection[u.projection];if(Array.isArray(w))for(let I=0;I<w.length;I++)bl(i,r,c,w[I],d);else cu(r,i,w,g[3],c,d,!0)}function ih(r,i,o){sn(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function Im(r,i,o){sn(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function op(r,i,o){let u=r.length;for(;;){const c=r.indexOf(i,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const d=i.length;if(c+d===u||r.charCodeAt(c+d)<=32)return c}o=c+1}}const Dm="ng-template";function Tm(r,i,o){let u=0;for(;u<r.length;){let c=r[u++];if(o&&"class"===c){if(c=r[u],-1!==op(c.toLowerCase(),i,0))return!0}else if(1===c){for(;u<r.length&&"string"==typeof(c=r[u++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function Dv(r){return 4===r.type&&r.value!==Dm}function Ib(r,i,o){return i===(4!==r.type||o?r.value:Dm)}function VT(r,i,o){let u=4;const c=r.attrs||[],d=function(r){for(let i=0;i<r.length;i++)if(qa(r[i]))return i;return r.length}(c);let g=!1;for(let y=0;y<i.length;y++){const w=i[y];if("number"!=typeof w){if(!g)if(4&u){if(u=2|1&u,""!==w&&!Ib(r,w,o)||""===w&&1===i.length){if(Ro(u))return!1;g=!0}}else{const I=8&u?w:i[++y];if(8&u&&null!==r.attrs){if(!Tm(r.attrs,I,o)){if(Ro(u))return!1;g=!0}continue}const R=UT(8&u?"class":w,c,Dv(r),o);if(-1===R){if(Ro(u))return!1;g=!0;continue}if(""!==I){let O;O=R>d?"":c[R+1].toLowerCase();const B=8&u?O:null;if(B&&-1!==op(B,I,0)||2&u&&I!==O){if(Ro(u))return!1;g=!0}}}}else{if(!g&&!Ro(u)&&!Ro(w))return!1;if(g&&Ro(w))continue;g=!1,u=w|1&u}}return Ro(u)||g}function Ro(r){return 0==(1&r)}function UT(r,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let d=!1;for(;c<i.length;){const g=i[c];if(g===r)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let y=i[++c];for(;"string"==typeof y;)y=i[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function ap(r,i,o=!1){for(let u=0;u<i.length;u++)if(VT(r,i[u],o))return!0;return!1}function Db(r,i){return r?":not("+i.trim()+")":i}function Tb(r){let i=r[0],o=1,u=2,c="",d=!1;for(;o<r.length;){let g=r[o];if("string"==typeof g)if(2&u){const y=r[++o];c+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?c+="."+g:4&u&&(c+=" "+g);else""!==c&&!Ro(g)&&(i+=Db(d,c),c=""),u=g,d=d||!Ro(u);o++}return""!==c&&(i+=Db(d,c)),i}const lt={};function sh(r){Sv(Dt(),Se(),Wr()+r,na())}function Sv(r,i,o,u){if(!u)if(3==(3&i[2])){const d=r.preOrderCheckHooks;null!==d&&sa(i,d,o)}else{const d=r.preOrderHooks;null!==d&&Jc(i,d,0,o)}ji(o)}function up(r,i){return r<<17|i<<2}function No(r){return r>>17&32767}function xv(r){return 2|r}function $s(r){return(131068&r)>>2}function Am(r,i){return-131069&r|i<<2}function xm(r){return 1|r}function kb(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],d=o[u+1];if(-1!==d){const g=r.data[d];Zc(c),g.contentQueries(2,i[d],d)}}}function uh(r,i,o,u,c,d,g,y,w,I){const T=i.blueprint.slice();return T[0]=c,T[2]=140|u,Xo(T),T[3]=T[15]=r,T[8]=o,T[10]=g||r&&r[10],T[11]=y||r&&r[11],T[12]=w||r&&r[12]||null,T[9]=I||r&&r[9]||null,T[6]=d,T[16]=2==i.type?r[16]:T,T}function Tl(r,i,o,u,c){let d=r.data[i];if(null===d)d=function(r,i,o,u,c){const d=Od(),g=Ba(),w=r.data[i]=function(r,i,o,u,c,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,o,i,u,c);return null===r.firstChild&&(r.firstChild=w),null!==d&&(g?null==d.child&&null!==w.parent&&(d.child=w):null===d.next&&(d.next=w)),w}(r,i,o,u,c),ct.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=c;const g=function(){const r=ct.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return ai(d,!0),d}function du(r,i,o,u){if(0===o)return-1;const c=i.length;for(let d=0;d<o;d++)i.push(u),r.blueprint.push(u),r.data.push(null);return c}function hp(r,i,o){_o(i);try{const u=r.viewQuery;null!==u&&$m(1,u,o);const c=r.template;null!==c&&Fb(r,i,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&kb(r,i),r.staticViewQueries&&$m(2,r.viewQuery,o);const d=r.components;null!==d&&function(r,i){for(let o=0;o<i.length;o++)gA(r,i[o])}(i,d)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,Cf()}}function lh(r,i,o,u){const c=i[2];if(256==(256&c))return;_o(i);const d=na();try{Xo(i),function(r){ct.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Fb(r,i,o,2,u);const g=3==(3&c);if(!d)if(g){const I=r.preOrderCheckHooks;null!==I&&sa(i,I,null)}else{const I=r.preOrderHooks;null!==I&&Jc(i,I,0,null),vo(i,0)}if(function(r){for(let i=pv(r);null!==i;i=gv(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const c=o[u],d=c[3];0==(1024&c[2])&&ju(d,1),c[2]|=1024}}}(i),function(r){for(let i=pv(r);null!==i;i=gv(i))for(let o=10;o<i.length;o++){const u=i[o],c=u[1];Jo(u)&&lh(c,u,c.template,u[8])}}(i),null!==r.contentQueries&&kb(r,i),!d)if(g){const I=r.contentCheckHooks;null!==I&&sa(i,I)}else{const I=r.contentHooks;null!==I&&Jc(i,I,1),vo(i,1)}!function(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)ji(~c);else{const d=c,g=o[++u],y=o[++u];Kc(g,d),y(2,i[d])}}}finally{ji(-1)}}(r,i);const y=r.components;null!==y&&function(r,i){for(let o=0;o<i.length;o++)Wb(r,i[o])}(i,y);const w=r.viewQuery;if(null!==w&&$m(2,w,u),!d)if(g){const I=r.viewCheckHooks;null!==I&&sa(i,I)}else{const I=r.viewHooks;null!==I&&Jc(i,I,2),vo(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),d||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,ju(i[3],-1))}finally{Cf()}}function XT(r,i,o,u){const c=i[10],d=!na(),g=go(i);try{d&&!g&&c.begin&&c.begin(),g&&hp(r,i,u),lh(r,i,o,u)}finally{d&&!g&&c.end&&c.end()}}function Fb(r,i,o,u,c){const d=Wr(),g=2&u;try{ji(-1),g&&i.length>20&&Sv(r,i,20,na()),o(u,c)}finally{ji(d)}}function km(r,i,o){!Wc()||(function(r,i,o,u){const c=o.directiveStart,d=o.directiveEnd;r.firstCreatePass||ht(o,i),Zn(u,i);const g=o.initialInputs;for(let y=c;y<d;y++){const w=r.data[y],I=bi(w);I&&lA(i,o,w);const T=zr(i,r,y,o);Zn(T,i),null!==g&&dA(0,y-c,T,w,0,g),I&&(qn(o.index,i)[8]=T)}}(r,i,o,_r(o,i)),128==(128&o.flags)&&function(r,i,o){const u=o.directiveStart,c=o.directiveEnd,g=o.index,y=ct.lFrame.currentDirectiveIndex;try{ji(g);for(let w=u;w<c;w++){const I=r.data[w],T=i[w];ra(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&jb(I,T)}}finally{ji(-1),ra(y)}}(r,i,o))}function Fm(r,i,o=_r){const u=i.localNames;if(null!==u){let c=i.index+1;for(let d=0;d<u.length;d+=2){const g=u[d+1],y=-1===g?o(i,r):r[g];r[c++]=y}}}function dh(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=pp(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function pp(r,i,o,u,c,d,g,y,w,I){const T=20+u,R=T+c,O=function(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:lt);return o}(T,R),B="function"==typeof I?I():I;return O[1]={type:r,blueprint:O,template:o,queries:null,viewQuery:y,declTNode:i,data:O.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:w,consts:B,incompleteFirstPass:!1}}function Vb(r,i,o,u){const c=Kb(i);null===o?c.push(u):(c.push(o),r.firstCreatePass&&Zb(r).push(u,c.length-1))}function Ub(r,i,o){for(let u in r)if(r.hasOwnProperty(u)){const c=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,c):o[u]=[i,c]}return o}function qi(r,i,o,u,c,d,g,y){const w=_r(i,o);let T,I=i.inputs;!y&&null!=I&&(T=I[u])?(Gv(r,o,T,u,c),Pu(i)&&function(r,i){const o=qn(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),c=null!=g?g(c,i.value||"",u):c,sn(d)?d.setProperty(w,u,c):zu(u)||(w.setProperty?w.setProperty(u,c):w[u]=c))}function Vv(r,i,o,u){let c=!1;if(Wc()){const d=function(r,i,o){const u=r.directiveRegistry;let c=null;if(u)for(let d=0;d<u.length;d++){const g=u[d];ap(o,g.selectors,!1)&&(c||(c=[]),ds(ht(o,i),r,g.type),bi(g)?($b(r,o),c.unshift(g)):c.push(g))}return c}(r,i,o),g=null===u?null:{"":-1};if(null!==d){c=!0,Hb(o,r.data.length,d.length);for(let T=0;T<d.length;T++){const R=d[T];R.providersResolver&&R.providersResolver(R)}let y=!1,w=!1,I=du(r,i,d.length,null);for(let T=0;T<d.length;T++){const R=d[T];o.mergedAttrs=Wa(o.mergedAttrs,R.hostAttrs),Uv(r,o,i,I,R),cA(I,R,g),null!==R.contentQueries&&(o.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(o.flags|=128);const O=R.type.prototype;!y&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),y=!0),!w&&(O.ngOnChanges||O.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),w=!0),I++}!function(r,i){const u=i.directiveEnd,c=r.data,d=i.attrs,g=[];let y=null,w=null;for(let I=i.directiveStart;I<u;I++){const T=c[I],R=T.inputs,O=null===d||Dv(i)?null:hA(R,d);g.push(O),y=Ub(R,I,y),w=Ub(T.outputs,I,w)}null!==y&&(y.hasOwnProperty("class")&&(i.flags|=16),y.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=g,i.inputs=y,i.outputs=w}(r,o)}g&&function(r,i,o){if(i){const u=r.localNames=[];for(let c=0;c<i.length;c+=2){const d=o[i[c+1]];if(null==d)throw new pe("301",`Export of name '${i[c+1]}' not found!`);u.push(i[c],d)}}}(o,u,g)}return o.mergedAttrs=Wa(o.mergedAttrs,o.attrs),c}function hh(r,i,o,u,c,d){const g=d.hostBindings;if(g){let y=r.hostBindingOpCodes;null===y&&(y=r.hostBindingOpCodes=[]);const w=~i.index;(function(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=w&&y.push(w),y.push(u,c,g)}}function jb(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function $b(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function cA(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;bi(i)&&(o[""]=r)}}function Hb(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function Uv(r,i,o,u,c){r.data[u]=c;const d=c.factory||(c.factory=Ar(c.type)),g=new Ha(d,bi(c),null);r.blueprint[u]=g,o[u]=g,hh(r,i,0,u,du(r,o,c.hostVars,lt),c)}function lA(r,i,o){const u=_r(i,r),c=dh(o),d=r[10],g=jm(r,uh(r,c,null,o.onPush?64:16,u,i,d,d.createRenderer(u,o),null,null));r[i.index]=g}function _a(r,i,o,u,c,d){const g=_r(r,i);!function(r,i,o,u,c,d,g){if(null==d)sn(r)?r.removeAttribute(i,c,o):i.removeAttribute(c);else{const y=null==g?Le(d):g(d,u||"",c);sn(r)?r.setAttribute(i,c,y,o):o?i.setAttributeNS(o,c,y):i.setAttribute(c,y)}}(i[11],g,d,r.value,o,u,c)}function dA(r,i,o,u,c,d){const g=d[i];if(null!==g){const y=u.setInput;for(let w=0;w<g.length;){const I=g[w++],T=g[w++],R=g[w++];null!==y?u.setInput(o,R,I,T):o[T]=R}}}function hA(r,i){let o=null,u=0;for(;u<i.length;){const c=i[u];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,r[c],i[u+1])),u+=2}else u+=2;else u+=4}return o}function pA(r,i,o,u){return new Array(r,!0,!1,i,null,0,u,o,null,null)}function Wb(r,i){const o=qn(i,r);if(Jo(o)){const u=o[1];80&o[2]?lh(u,o,u.template,o[8]):o[5]>0&&Bm(o)}}function Bm(r){for(let u=pv(r);null!==u;u=gv(u))for(let c=10;c<u.length;c++){const d=u[c];if(1024&d[2]){const g=d[1];lh(g,d,g.template,d[8])}else d[5]>0&&Bm(d)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=qn(o[u],r);Jo(c)&&c[5]>0&&Bm(c)}}function gA(r,i){const o=qn(i,r),u=o[1];(function(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),hp(u,o,o[8])}function jm(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function jv(r){for(;r;){r[2]|=64;const i=rp(r);if($c(r)&&!i)return r;r=i}return null}function $v(r,i,o){const u=i[10];u.begin&&u.begin();try{lh(r,i,r.template,o)}catch(c){throw Qb(i,c),c}finally{u.end&&u.end()}}function zb(r){!function(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],u=ar(o),c=u[1];XT(c,u,c.template,o)}}(r[8])}function $m(r,i,o){Zc(0),i(r,o)}const fh=(()=>Promise.resolve(null))();function Kb(r){return r[7]||(r[7]=[])}function Zb(r){return r.cleanup||(r.cleanup=[])}function Qb(r,i){const o=r[9],u=o?o.get(de,null):null;u&&u.handleError(i)}function Gv(r,i,o,u,c){for(let d=0;d<o.length;){const g=o[d++],y=o[d++],w=i[g],I=r.data[g];null!==I.setInput?I.setInput(w,c,u,y):w[y]=c}}function hu(r,i,o){const u=Va(i,r);!function(r,i,o){sn(r)?r.setValue(i,o):i.textContent=o}(r[11],u,o)}function Hm(r,i,o){let u=o?r.styles:null,c=o?r.classes:null,d=0;if(null!==i)for(let g=0;g<i.length;g++){const y=i[g];"number"==typeof y?d=y:1==d?c=re(c,y):2==d&&(u=re(u,y+": "+i[++g]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=c:r.classesWithoutHost=c}const dc=new vn("INJECTOR",-1);class Gm{get(i,o=Ai){if(o===Ai){const u=new Error(`NullInjectorError: No provider for ${K(i)}!`);throw u.name="NullInjectorError",u}return o}}const va=new vn("Set Injector scope."),mp={},EA={};let qm;function Jb(){return void 0===qm&&(qm=new Gm),qm}function eC(r,i=null,o=null,u){return new tC(r,o,i||Jb(),u)}class tC{constructor(i,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&Zr(o,y=>this.processProvider(y,i,o)),Zr([i],y=>this.processInjectorType(y,[],d)),this.records.set(dc,Al(void 0,this));const g=this.records.get(va);this.scope=null!=g?g.value:null,this.source=c||("object"==typeof i?null:K(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=Ai,u=Re.Default){this.assertNotDestroyed();const c=Es(this),d=dn(void 0);try{if(!(u&Re.SkipSelf)){let y=this.records.get(i);if(void 0===y){const w=("function"==typeof(r=i)||"object"==typeof r&&r instanceof vn)&&Dr(i);y=w&&this.injectableDefInScope(w)?Al(Wm(i),mp):null,this.records.set(i,y)}if(null!=y)return this.hydrate(i,y)}return(u&Re.Self?Jb():this.parent).get(i,o=u&Re.Optional&&o===Ai?null:o)}catch(g){if("NullInjectorError"===g.name){if((g[Si]=g[Si]||[]).unshift(K(i)),c)throw g;return Nf(g,i,"R3InjectorError",this.source)}throw g}finally{dn(d),Es(c)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,c)=>i.push(K(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,o,u){if(!(i=q(i)))return!1;let c=oi(i);const d=null==c&&i.ngModule||void 0,g=void 0===d?i:d,y=-1!==u.indexOf(g);if(void 0!==d&&(c=oi(d)),null==c)return!1;if(null!=c.imports&&!y){let T;u.push(g);try{Zr(c.imports,R=>{this.processInjectorType(R,o,u)&&(void 0===T&&(T=[]),T.push(R))})}finally{}if(void 0!==T)for(let R=0;R<T.length;R++){const{ngModule:O,providers:B}=T[R];Zr(B,H=>this.processProvider(H,O,B||$e))}}this.injectorDefTypes.add(g);const w=Ar(g)||(()=>new g);this.records.set(g,Al(w,mp));const I=c.providers;if(null!=I&&!y){const T=i;Zr(I,R=>this.processProvider(R,T,I))}return void 0!==d&&void 0!==i.providers}processProvider(i,o,u){let c=Sl(i=q(i))?i:q(i&&i.provide);const d=nC(r=i)?Al(void 0,r.useValue):Al(hc(r),mp);var r;if(Sl(i)||!0!==i.multi)this.records.get(c);else{let g=this.records.get(c);g||(g=Al(void 0,mp,!0),g.factory=()=>Co(g.multi),this.records.set(c,g)),c=i,g.multi.push(i)}this.records.set(c,d)}hydrate(i,o){return o.value===mp&&(o.value=EA,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(r=o.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const o=q(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Wm(r){const i=Dr(r),o=null!==i?i.factory:Ar(r);if(null!==o)return o;if(r instanceof vn)throw new Error(`Token ${K(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const u=function(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}(i,"?");throw new Error(`Can't resolve all parameters for ${K(r)}: (${u.join(", ")}).`)}const o=function(r){const i=r&&(r[bn]||r[ro]);if(i){const o=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Error("unreachable")}function hc(r,i,o){let u;if(Sl(r)){const c=q(r);return Ar(c)||Wm(c)}if(nC(r))u=()=>q(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Co(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>un(q(r.useExisting));else{const c=q(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return Ar(c)||Wm(c);u=()=>new c(...Co(r.deps))}return u}function Al(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function nC(r){return null!==r&&"object"==typeof r&&iu in r}function Sl(r){return"function"==typeof r}const iC=function(r,i,o){return function(r,i=null,o=null,u){const c=eC(r,i,o,u);return c._resolveInjectorDefTypes(),c}({name:o},i,r,o)};let wn=(()=>{class r{static create(o,u){return Array.isArray(o)?iC(o,u,""):iC(o.providers,o.parent,o.name||"")}}return r.THROW_IF_NOT_FOUND=Ai,r.NULL=new Gm,r.\u0275prov=rn({token:r,providedIn:"any",factory:()=>un(dc)}),r.__NG_ELEMENT_ID__=-1,r})();function pC(r,i){ia(ar(r)[1],_n())}function _p(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;i;){let c;if(bi(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");c=i.\u0275dir}if(c){if(o){u.push(c);const g=r;g.inputs=Xm(r.inputs),g.declaredInputs=Xm(r.declaredInputs),g.outputs=Xm(r.outputs);const y=c.hostBindings;y&&Ri(r,y);const w=c.viewQuery,I=c.contentQueries;if(w&&xi(r,w),I&&eE(r,I),Q(r.inputs,c.inputs),Q(r.declaredInputs,c.declaredInputs),Q(r.outputs,c.outputs),bi(c)&&c.data.animation){const T=r.data;T.animation=(T.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const y=d[g];y&&y.ngInherit&&y(r),y===_p&&(o=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,o=null;for(let u=r.length-1;u>=0;u--){const c=r[u];c.hostVars=i+=c.hostVars,c.hostAttrs=Wa(c.hostAttrs,o=Wa(o,c.hostAttrs))}}(u)}function Xm(r){return r===We?{}:r===$e?[]:r}function xi(r,i){const o=r.viewQuery;r.viewQuery=o?(u,c)=>{i(u,c),o(u,c)}:i}function eE(r,i){const o=r.contentQueries;r.contentQueries=o?(u,c,d)=>{i(u,c,d),o(u,c,d)}:i}function Ri(r,i){const o=r.hostBindings;r.hostBindings=o?(u,c)=>{i(u,c),o(u,c)}:i}let vp=null;function Rl(){if(!vp){const r=j.Symbol;if(r&&r.iterator)vp=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(vp=u)}}}return vp}function Ep(r){return!!ey(r)&&(Array.isArray(r)||!(r instanceof Map)&&Rl()in r)}function ey(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function pi(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function wp(r,i,o,u){const c=Se();return pi(c,Bi(),i)&&(Dt(),_a(on(),c,r,i,o,u)),wp}function iE(r,i,o,u,c,d,g,y){const w=Se(),I=Dt(),T=r+20,R=I.firstCreatePass?function(r,i,o,u,c,d,g,y,w){const I=i.consts,T=Tl(i,r,4,g||null,Ps(I,y));Vv(i,o,T,Ps(I,w)),ia(i,T);const R=T.tViews=pp(2,T,u,c,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,I);return null!==i.queries&&(i.queries.template(i,T),R.queries=i.queries.embeddedTView(T)),T}(T,I,w,i,o,u,c,d,g):I.data[T];ai(R,!1);const O=w[11].createComment("");Cl(I,w,O,R),Zn(O,w),jm(w,w[T]=pA(O,w,O,R)),qr(R)&&km(I,w,R),null!=g&&Fm(w,R,y)}function Ch(r,i=Re.Default){const o=Se();return null===o?un(r,i):tl(_n(),o,q(r),i)}function Ap(r,i,o){const u=Se();return pi(u,Bi(),i)&&qi(Dt(),on(),u,r,i,u[11],o,!1),Ap}function Sp(r,i,o,u,c){const g=c?"class":"style";Gv(r,o,i.inputs[g],g,u)}function Ih(r,i,o,u){const c=Se(),d=Dt(),g=20+r,y=c[11],w=c[g]=yv(y,i,ct.lFrame.currentNamespace),I=d.firstCreatePass?function(r,i,o,u,c,d,g){const y=i.consts,I=Tl(i,r,2,c,Ps(y,d));return Vv(i,o,I,Ps(y,g)),null!==I.attrs&&Hm(I,I.attrs,!1),null!==I.mergedAttrs&&Hm(I,I.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,I),I}(g,d,c,0,i,o,u):d.data[g];ai(I,!0);const T=I.mergedAttrs;null!==T&&an(y,w,T);const R=I.classes;null!==R&&Im(y,w,R);const O=I.styles;null!==O&&ih(y,w,O),64!=(64&I.flags)&&Cl(d,c,w,I),0===ct.lFrame.elementDepthCount&&Zn(w,c),ct.lFrame.elementDepthCount++,qr(I)&&(km(d,c,I),function(r,i,o){if(ka(i)){const c=i.directiveEnd;for(let d=i.directiveStart;d<c;d++){const g=r.data[d];g.contentQueries&&g.contentQueries(1,o[d],d)}}}(d,I,c)),null!==u&&Fm(c,I)}function Fl(){let r=_n();Ba()?ct.lFrame.isParent=!1:(r=r.parent,ai(r,!1));const i=r;ct.lFrame.elementDepthCount--;const o=Dt();o.firstCreatePass&&(ia(o,r),ka(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&Sp(o,i,Se(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&Sp(o,i,Se(),i.stylesWithoutHost,!1)}function vE(r,i,o,u){Ih(r,i,o,u),Fl()}function wE(){return Se()}function hy(r){return!!r&&"function"==typeof r.then}function PC(r){return!!r&&"function"==typeof r.subscribe}const Ll=PC;function fy(r,i,o,u){const c=Se(),d=Dt(),g=_n();return function(r,i,o,u,c,d,g,y){const w=qr(u),T=r.firstCreatePass&&Zb(r),R=i[8],O=Kb(i);let B=!0;if(3&u.type||y){const X=_r(u,i),ke=y?y(X):X,Ce=O.length,rt=y?pt=>y(bt(pt[u.index])):u.index;if(sn(o)){let pt=null;if(!y&&w&&(pt=function(r,i,o,u){const c=r.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===o&&c[d+1]===u){const y=i[7],w=c[d+2];return y.length>w?y[w]:null}"string"==typeof g&&(d+=2)}return null}(r,i,c,u.index)),null!==pt)(pt.__ngLastListenerFn__||pt).__ngNextListenerFn__=d,pt.__ngLastListenerFn__=d,B=!1;else{d=bE(u,i,R,d,!1);const At=o.listen(ke,c,d);O.push(d,At),T&&T.push(c,rt,Ce,Ce+1)}}else d=bE(u,i,R,d,!0),ke.addEventListener(c,d,g),O.push(d),T&&T.push(c,rt,Ce,g)}else d=bE(u,i,R,d,!1);const H=u.outputs;let ae;if(B&&null!==H&&(ae=H[c])){const X=ae.length;if(X)for(let ke=0;ke<X;ke+=2){const fr=i[ae[ke]][ae[ke+1]].subscribe(d),Xi=O.length;O.push(d,fr),T&&T.push(c,u.index,Xi,-(Xi+1))}}}(d,c,c[11],g,r,i,!!o,u),fy}function py(r,i,o,u){try{return!1!==o(u)}catch(c){return Qb(r,c),!1}}function bE(r,i,o,u,c){return function d(g){if(g===Function)return u;const y=2&r.flags?qn(r.index,i):i;0==(32&i[2])&&jv(y);let w=py(i,0,u,g),I=d.__ngNextListenerFn__;for(;I;)w=py(i,0,I,g)&&w,I=I.__ngNextListenerFn__;return c&&!1===w&&(g.preventDefault(),g.returnValue=!1),w}}function gy(r=1){return function(r){return(ct.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,ct.lFrame.contextLView))[8]}(r)}function Th(r,i,o,u,c){const d=r[o+1],g=null===i;let y=u?No(d):$s(d),w=!1;for(;0!==y&&(!1===w||g);){const T=r[y+1];BA(r[y],i)&&(w=!0,r[y+1]=u?xm(T):xv(T)),y=u?No(T):$s(T)}w&&(r[o+1]=u?xv(d):xm(d))}function BA(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&x(r,i)>=0}function my(r,i){return function(r,i,o,u){const c=Se(),d=Dt(),g=function(r){const i=ct.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2);d.firstUpdatePass&&function(r,i,o,u){const c=r.data;if(null===c[o+1]){const d=c[Wr()],g=function(r,i){return i>=r.expandoStartIndex}(r,o);(function(r,i){return 0!=(r.flags&(i?16:32))})(d,u)&&null===i&&!g&&(i=!1),i=function(r,i,o,u){const c=function(r){const i=ct.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let d=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(o=pu(o=vy(null,r,i,o,u),i.attrs,u),d=null);else{const g=i.directiveStylingLast;if(-1===g||r[g]!==c)if(o=vy(c,r,i,o,u),null===d){let w=function(r,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==$s(u))return r[No(u)]}(r,i,u);void 0!==w&&Array.isArray(w)&&(w=vy(null,r,i,w[1],u),w=pu(w,i.attrs,u),function(r,i,o,u){r[No(o?i.classBindings:i.styleBindings)]=u}(r,i,u,w))}else d=function(r,i,o){let u;const c=i.directiveEnd;for(let d=1+i.directiveStylingLast;d<c;d++)u=pu(u,r[d].hostAttrs,o);return pu(u,i.attrs,o)}(r,i,u)}return void 0!==d&&(u?i.residualClasses=d:i.residualStyles=d),o}(c,d,i,u),function(r,i,o,u,c,d){let g=d?i.classBindings:i.styleBindings,y=No(g),w=$s(g);r[u]=o;let T,I=!1;if(Array.isArray(o)){const R=o;T=R[1],(null===T||x(R,T)>0)&&(I=!0)}else T=o;if(c)if(0!==w){const O=No(r[y+1]);r[u+1]=up(O,y),0!==O&&(r[O+1]=Am(r[O+1],u)),r[y+1]=function(r,i){return 131071&r|i<<17}(r[y+1],u)}else r[u+1]=up(y,0),0!==y&&(r[y+1]=Am(r[y+1],u)),y=u;else r[u+1]=up(w,0),0===y?y=u:r[w+1]=Am(r[w+1],u),w=u;I&&(r[u+1]=xv(r[u+1])),Th(r,T,u,!0),Th(r,T,u,!1),function(r,i,o,u,c){const d=c?r.residualClasses:r.residualStyles;null!=d&&"string"==typeof i&&x(d,i)>=0&&(o[u+1]=xm(o[u+1]))}(i,T,r,u,d),g=up(y,w),d?i.classBindings=g:i.styleBindings=g}(c,d,i,o,g,u)}}(d,r,g,u),i!==lt&&pi(c,g,i)&&function(r,i,o,u,c,d,g,y){if(!(3&i.type))return;const w=r.data,I=w[y+1];Ey(function(r){return 1==(1&r)}(I)?HC(w,i,o,c,$s(I),g):void 0)||(Ey(d)||function(r){return 2==(2&r)}(I)&&(d=HC(w,null,o,c,y,g)),function(r,i,o,u,c){const d=sn(r);if(i)c?d?r.addClass(o,u):o.classList.add(u):d?r.removeClass(o,u):o.classList.remove(u);else{let g=-1===u.indexOf("-")?void 0:ma.DashCase;if(null==c)d?r.removeStyle(o,u,g):o.style.removeProperty(u);else{const y="string"==typeof c&&c.endsWith("!important");y&&(c=c.slice(0,-10),g|=ma.Important),d?r.setStyle(o,u,c,g):o.style.setProperty(u,c,y?"important":"")}}}(u,g,Va(Wr(),o),c,d))}(d,d.data[Wr()],c,c[11],r,c[g+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=K(ws(r)))),r}(i,o),u,g)}(r,i,null,!0),my}function vy(r,i,o,u,c){let d=null;const g=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<g&&(d=i[y],u=pu(u,d.hostAttrs,c),d!==r);)y++;return null!==r&&(o.directiveStylingLast=y),u}function pu(r,i,o){const u=o?1:2;let c=-1;if(null!==i)for(let d=0;d<i.length;d++){const g=i[d];"number"==typeof g?c=g:c===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),C(r,g,!!o||i[++d]))}return void 0===r?null:r}function HC(r,i,o,u,c,d){const g=null===i;let y;for(;c>0;){const w=r[c],I=Array.isArray(w),T=I?w[1]:w,R=null===T;let O=o[c+1];O===lt&&(O=R?$e:void 0);let B=R?D(O,u):T===u?O:void 0;if(I&&!Ey(B)&&(B=D(w,u)),Ey(B)&&(y=B,g))return y;const H=r[c+1];c=g?No(H):$s(H)}if(null!==i){let w=d?i.residualClasses:i.residualStyles;null!=w&&(y=D(w,u))}return y}function Ey(r){return void 0!==r}function OE(r,i=""){const o=Se(),u=Dt(),c=r+20,d=u.firstCreatePass?Tl(u,c,1,i,null):u.data[c],g=o[c]=function(r,i){return sn(r)?r.createText(i):r.createTextNode(i)}(o[11],i);Cl(u,o,g,d),ai(d,!1)}function wy(r){return by("",r,""),wy}function by(r,i,o){const u=Se(),c=function(r,i,o,u){return pi(r,Bi(),o)?i+Le(o)+u:lt}(u,r,i,o);return c!==lt&&hu(u,Wr(),c),by}function WE(r,i,o){const u=Se();return pi(u,Bi(),i)&&qi(Dt(),on(),u,r,i,u[11],o,!0),WE}const $l=void 0;var tI=["en",[["a","p"],["AM","PM"],$l],[["AM","PM"],$l,$l],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$l,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$l,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$l,"{1} 'at' {0}",$l],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),o=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let xh={};function KE(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=Hl(i);if(o)return o;const u=i.split("-")[0];if(o=Hl(u),o)return o;if("en"===u)return tI;throw new Error(`Missing locale data for the locale "${r}".`)}function Mr(r){return KE(r)[at.PluralCase]}function Hl(r){return r in xh||(xh[r]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[r]),xh[r]}var at=(()=>((at=at||{})[at.LocaleId=0]="LocaleId",at[at.DayPeriodsFormat=1]="DayPeriodsFormat",at[at.DayPeriodsStandalone=2]="DayPeriodsStandalone",at[at.DaysFormat=3]="DaysFormat",at[at.DaysStandalone=4]="DaysStandalone",at[at.MonthsFormat=5]="MonthsFormat",at[at.MonthsStandalone=6]="MonthsStandalone",at[at.Eras=7]="Eras",at[at.FirstDayOfWeek=8]="FirstDayOfWeek",at[at.WeekendRange=9]="WeekendRange",at[at.DateFormat=10]="DateFormat",at[at.TimeFormat=11]="TimeFormat",at[at.DateTimeFormat=12]="DateTimeFormat",at[at.NumberSymbols=13]="NumberSymbols",at[at.NumberFormats=14]="NumberFormats",at[at.CurrencyCode=15]="CurrencyCode",at[at.CurrencySymbol=16]="CurrencySymbol",at[at.CurrencyName=17]="CurrencyName",at[at.Currencies=18]="Currencies",at[at.Directionality=19]="Directionality",at[at.PluralCase=20]="PluralCase",at[at.ExtraData=21]="ExtraData",at))();const Ec="en-US";let ye=Ec;function Oe(r){ln(r,"Expected localeId to be defined"),"string"==typeof r&&(ye=r.toLowerCase().replace(/_/g,"-"))}function Yp(r,i,o,u,c){if(r=q(r),Array.isArray(r))for(let d=0;d<r.length;d++)Yp(r[d],i,o,u,c);else{const d=Dt(),g=Se();let y=Sl(r)?r:q(r.provide),w=hc(r);const I=_n(),T=1048575&I.providerIndexes,R=I.directiveStart,O=I.providerIndexes>>20;if(Sl(r)||!r.multi){const B=new Ha(w,c,Ch),H=Zi(y,i,c?T:T+O,R);-1===H?(ds(ht(I,g),d,y),Qp(d,r,i.length),i.push(y),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(B),g.push(B)):(o[H]=B,g[H]=B)}else{const B=Zi(y,i,T+O,R),H=Zi(y,i,T,T+O),ae=B>=0&&o[B],X=H>=0&&o[H];if(c&&!X||!c&&!ae){ds(ht(I,g),d,y);const ke=function(r,i,o,u,c){const d=new Ha(r,o,Ch);return d.multi=[],d.index=i,d.componentProviders=0,Ql(d,c,u&&!o),d}(c?Jp:fI,o.length,c,u,w);!c&&X&&(o[H].providerFactory=ke),Qp(d,r,i.length,0),i.push(y),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(ke),g.push(ke)}else Qp(d,r,B>-1?B:H,Ql(o[c?H:B],w,!c&&u));!c&&u&&X&&o[H].componentProviders++}}}function Qp(r,i,o,u){const c=Sl(i);if(c||function(r){return!!r.useClass}(i)){const g=(i.useClass||i).prototype.ngOnDestroy;if(g){const y=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const w=y.indexOf(o);-1===w?y.push(o,[u,g]):y[w+1].push(u,g)}else y.push(o,g)}}}function Ql(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Zi(r,i,o,u){for(let c=o;c<u;c++)if(i[c]===r)return c;return-1}function fI(r,i,o,u){return ky(this.multi,[])}function Jp(r,i,o,u){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=zr(o,o[1],this.providerFactory.index,u);d=y.slice(0,g),ky(c,d);for(let w=g;w<y.length;w++)d.push(y[w])}else d=[],ky(c,d);return d}function ky(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function Lh(r,i=[]){return o=>{o.providersResolver=(u,c)=>function(r,i,o){const u=Dt();if(u.firstCreatePass){const c=bi(r);Yp(o,u.data,u.blueprint,c,!0),Yp(i,u.data,u.blueprint,c,!1)}}(u,c?c(r):r,i)}}class gI{}const cw="ngComponent";class Fy{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${K(r)}. Did you add it to @NgModule.entryComponents?`);return i[cw]=r,i}(i)}}let Vh=(()=>{class r{}return r.NULL=new Fy,r})();function vu(...r){}function Xl(r,i){return new ko(_r(r,i))}const Uh=function(){return Xl(_n(),Se())};let ko=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=Uh,r})();function lw(r){return r instanceof ko?r.nativeElement:r}class Uy{}let dS=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>By(),r})();const By=function(){const r=Se(),o=qn(_n().index,r);return function(r){return r[11]}(Gr(o)?o:r)};let fw=(()=>{class r{}return r.\u0275prov=rn({token:r,providedIn:"root",factory:()=>null}),r})();class pw{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const jy=new pw("12.2.12");class Bh{constructor(){}supports(i){return Ep(i)}create(i){return new mI(i)}}const wc=(r,i)=>i;class mI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||wc}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,d=null;for(;o||u;){const g=!u||o&&o.currentIndex<_I(u,c,d)?o:u,y=_I(g,c,d),w=g.currentIndex;if(g===u)c--,u=u._nextRemoved;else if(o=o._next,null==g.previousIndex)c++;else{d||(d=[]);const I=y-c,T=w-c;if(I!=T){for(let O=0;O<I;O++){const B=O<d.length?d[O]:d[O]=0,H=B+O;T<=H&&H<I&&(d[O]=B+1)}d[g.previousIndex]=T-I}}y!==w&&i(g,y,w)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Ep(i))throw new Error(`Error trying to diff '${K(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,d,g,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let y=0;y<this.length;y++)d=i[y],g=this._trackByFn(y,d),null!==o&&Object.is(o.trackById,g)?(u&&(o=this._verifyReinsertion(o,d,g,y)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,g,y),u=!0),o=o._next}else c=0,function(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Rl()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,y=>{g=this._trackByFn(c,y),null!==o&&Object.is(o.trackById,g)?(u&&(o=this._verifyReinsertion(o,y,g,c)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,g,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,d,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,d,c)):i=this._addAfter(new yI(o,u),d,c),i}_verifyReinsertion(i,o,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?i=this._reinsertAfter(d,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,d=i._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new $y),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $y),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class yI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Xp{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class $y{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new Xp,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _I(r,i,o){const u=r.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class Qn{constructor(){}supports(i){return i instanceof Map||ey(i)}create(){return new Vt}}class Vt{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||ey(i)))throw new Error(`Error trying to diff '${K(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const u=new vI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class vI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gw(){return new Un([new Bh])}let Un=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||gw()),deps:[[r,new pa,new li]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(r){return r.name||typeof r}(o)}'`)}}return r.\u0275prov=rn({token:r,providedIn:"root",factory:gw}),r})();function Pr(){return new Dn([new Qn])}let Dn=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||Pr()),deps:[[r,new pa,new li]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return r.\u0275prov=rn({token:r,providedIn:"root",factory:Pr}),r})();function eg(r,i,o,u,c=!1){for(;null!==o;){const d=i[o.index];if(null!==d&&u.push(bt(d)),Ht(d))for(let y=10;y<d.length;y++){const w=d[y],I=w[1].firstChild;null!==I&&eg(w[1],w,I,u)}const g=o.type;if(8&g)eg(r,i,o.child,u);else if(32&g){const y=tp(o,i);let w;for(;w=y();)u.push(w)}else if(16&g){const y=Rt(i,o);if(Array.isArray(y))u.push(...y);else{const w=rp(i[16]);eg(w[1],w,y,u,!0)}}o=c?o.projectionNext:o.next}return u}class tg{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return eg(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Ht(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(vv(i,u),ci(o,u))}this._attachedToViewContainer=!1}mb(this._lView[1],this._lView)}onDestroy(i){Vb(this._lView[1],this._lView,null,i)}markForCheck(){jv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$v(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,o){Ui(!0);try{$v(r,i,o)}finally{Ui(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,sp(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class zs extends tg{constructor(i){super(i),this._view=i}detectChanges(){zb(this._view)}checkNoChanges(){!function(r){Ui(!0);try{zb(r)}finally{Ui(!1)}}(this._view)}get context(){return null}}const gS=function(r){return function(r,i,o){if(Pu(r)&&!o){const u=qn(r.index,i);return new tg(u,u)}return 47&r.type?new tg(i[16],i):null}(_n(),Se(),16==(16&r))};let wI=(()=>{class r{}return r.__NG_ELEMENT_ID__=gS,r})();const yS=[new Qn],ng=new Un([new Bh]),rg=new Dn(yS),bI=function(){return Wy(_n(),Se())};let jh=(()=>{class r{}return r.__NG_ELEMENT_ID__=bI,r})();const vS=jh,CI=class extends vS{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i){const o=this._declarationTContainer.tViews,u=uh(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(o)),hp(o,u,i),new tg(u)}};function Wy(r,i){return 4&r.type?new CI(i,r,Xl(r,i)):null}class td{}class DI{}const wS=function(){return yw(_n(),Se())};let Jn=(()=>{class r{}return r.__NG_ELEMENT_ID__=wS,r})();const TI=Jn,$h=class extends TI{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Xl(this._hostTNode,this._hostLView)}get injector(){return new gs(this._hostTNode,this._hostLView)}get parentInjector(){const i=ls(this._hostTNode,this._hostLView);if(Zu(i)){const o=Ka(i,this._hostLView),u=za(i);return new gs(o[1].data[u+8],o)}return new gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Fo(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){const c=i.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(i,o,u,c,d){const g=u||this.parentInjector;if(!d&&null==i.ngModule&&g){const w=g.get(td,null);w&&(d=w)}const y=i.create(g,c,void 0,d);return this.insert(y.hostView,o),y}insert(i,o){const u=i._lView,c=u[1];if(Ht(u[3])){const T=this.indexOf(i);if(-1!==T)this.detach(T);else{const R=u[3],O=new $h(R,R[6],R[3]);O.detach(O.indexOf(i))}}const d=this._adjustIndex(o),g=this._lContainer;!function(r,i,o,u){const c=10+u,d=o.length;u>0&&(o[c-1][4]=i),u<d-10?(i[4]=o[c],ui(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const g=i[17];null!==g&&o!==g&&function(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(g,i);const y=i[19];null!==y&&y.insertView(r),i[2]|=128}(c,u,g,d);const y=Il(d,g),w=u[11],I=ip(w,g[7]);return null!==I&&function(r,i,o,u,c,d){u[0]=c,u[6]=i,sp(r,u,o,1,c,d)}(c,g[6],w,u,I,y),i.attachToViewContainerRef(),ui(sg(g),d,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Fo(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=vv(this._lContainer,o);u&&(ci(sg(this._lContainer),o),mb(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=vv(this._lContainer,o);return u&&null!=ci(sg(this._lContainer),o)?new tg(u):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function Fo(r){return r[8]}function sg(r){return r[8]||(r[8]=[])}function yw(r,i){let o;const u=i[r.index];if(Ht(u))o=u;else{let c;if(8&r.type)c=bt(u);else{const d=i[11];c=d.createComment("");const g=_r(r,i);Ln(d,ip(d,g),c,function(r,i){return sn(r)?r.nextSibling(i):i.nextSibling}(d,g),!1)}i[r.index]=o=pA(u,i,c,r),jm(i,o)}return new $h(o,r,i)}const Cu={};class Mw extends Vh{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=nr(i);return new eD(o,this.ngModule)}}function Ow(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}const PS=new vn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ep});class eD extends gI{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=i.selectors.map(Tb).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Ow(this.componentDef.inputs)}get outputs(){return Ow(this.componentDef.outputs)}create(i,o,u,c){const d=(c=c||this.ngModule)?function(r,i){return{get:(o,u,c)=>{const d=r.get(o,Cu,c);return d!==Cu||u===Cu?d:i.get(o,u,c)}}}(i,c.injector):i,g=d.get(Uy,Qo),y=d.get(fw,null),w=g.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",T=u?function(r,i,o){if(sn(r))return r.selectRootElement(i,o===hn.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(w,u,this.componentDef.encapsulation):yv(g.createRenderer(null,this.componentDef),I,function(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(I)),R=this.componentDef.onPush?576:528,O=function(r,i){return{components:[],scheduler:r||ep,clean:fh,playerHandler:i||null,flags:0}}(),B=pp(0,null,null,1,0,null,null,null,null,null),H=uh(null,B,O,R,null,null,g,w,y,d);let ae,X;_o(H);try{const ke=function(r,i,o,u,c,d){const g=o[1];o[20]=r;const w=Tl(g,20,2,"#host",null),I=w.mergedAttrs=i.hostAttrs;null!==I&&(Hm(w,I,!0),null!==r&&(an(c,r,I),null!==w.classes&&Im(c,r,w.classes),null!==w.styles&&ih(c,r,w.styles)));const T=u.createRenderer(r,i),R=uh(o,dh(i),null,i.onPush?64:16,o[20],w,u,T,d||null,null);return g.firstCreatePass&&(ds(ht(w,o),g,i.type),$b(g,w),Hb(w,o.length,1)),jm(o,R),o[20]=R}(T,this.componentDef,H,g,w);if(T)if(u)an(w,T,["ng-version",jy.full]);else{const{attrs:Ce,classes:rt}=function(r){const i=[],o=[];let u=1,c=2;for(;u<r.length;){let d=r[u];if("string"==typeof d)2===c?""!==d&&i.push(d,r[++u]):8===c&&o.push(d);else{if(!Ro(c))break;c=d}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Ce&&an(w,T,Ce),rt&&rt.length>0&&Im(w,T,rt.join(" "))}if(X=Vi(B,20),void 0!==o){const Ce=X.projection=[];for(let rt=0;rt<this.ngContentSelectors.length;rt++){const pt=o[rt];Ce.push(null!=pt?Array.from(pt):null)}}ae=function(r,i,o,u,c){const d=o[1],g=function(r,i,o){const u=_n();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Uv(r,u,i,du(r,i,1,null),o));const c=zr(i,r,u.directiveStart,u);Zn(c,i);const d=_r(u,i);return d&&Zn(d,i),c}(d,o,i);if(u.components.push(g),r[8]=g,c&&c.forEach(w=>w(g,i)),i.contentQueries){const w=_n();i.contentQueries(1,g,w.directiveStart)}const y=_n();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(ji(y.index),hh(o[1],y,0,y.directiveStart,y.directiveEnd,i),jb(i,g)),g}(ke,this.componentDef,H,O,[pC]),hp(B,H,null)}finally{Cf()}return new Xh(this.componentType,ae,Xl(X,H),H,X)}}class Xh extends class{}{constructor(i,o,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new zs(c),this.componentType=i}get injector(){return new gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Dc=new Map;class kS extends td{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Mw(this);const u=$n(i),c=i[It]||null;c&&Oe(c),this._bootstrapComponents=En(u.bootstrap),this._r3Injector=eC(i,o,[{provide:td,useValue:this},{provide:Vh,useValue:this.componentFactoryResolver}],K(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=wn.THROW_IF_NOT_FOUND,u=Re.Default){return i===wn||i===td||i===dc?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class yg extends DI{constructor(i){super(),this.moduleType=i,null!==$n(i)&&function(r){const i=new Set;!function o(u){const c=$n(u,!0),d=c.id;null!==d&&(function(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${K(i)} vs ${K(i.name)}`)}(d,Dc.get(d),u),Dc.set(d,u));const g=En(c.imports);for(const y of g)i.has(y)||(i.add(y),o(y))}(r)}(i)}create(i){return new kS(this.moduleType,i)}}function rD(r,i,o,u,c){return function(r,i,o,u,c,d,g){const y=i+o;return function(r,i,o,u){const c=pi(r,i,o);return pi(r,i+1,u)||c}(r,y,c,d)?function(r,i,o){return r[i]=o}(r,y+2,g?u.call(g,c,d):u(c,d)):function(r,i){const o=r[i];return o===lt?void 0:o}(r,y+2)}(Se(),function(){const r=ct.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}(),r,i,o,u,c)}function Gw(r){return i=>{setTimeout(r,void 0,i)}}const Bo=class extends m.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){var c,d,g;let y=i,w=o||(()=>null),I=u;if(i&&"object"==typeof i){const R=i;y=null===(c=R.next)||void 0===c?void 0:c.bind(R),w=null===(d=R.error)||void 0===d?void 0:d.bind(R),I=null===(g=R.complete)||void 0===g?void 0:g.bind(R)}this.__isAsync&&(w=Gw(w),y&&(y=Gw(y)),I&&(I=Gw(I)));const T=super.subscribe({next:y,error:w,complete:I});return i instanceof ee.w&&i.add(T),T}};function n_(){return this._results[Rl()]()}class Tc{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Rl(),u=Tc.prototype;u[o]||(u[o]=n_)}get changes(){return this._changes||(this._changes=new Bo)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=Kr(i);(this._changesDetected=!function(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let c=r[u],d=i[u];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ww{constructor(i){this.queryList=i,this.matches=null}clone(){return new Ww(this.queryList)}setDirty(){this.queryList.setDirty()}}class zw{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let d=0;d<u;d++){const g=o.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new zw(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==o_(i,o).matches&&this.queries[o].setDirty()}}class oD{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class Kw{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(i,c);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new Kw(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class ud{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new ud(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(i,o,Zw(o,d)),this.matchTNodeWithReadOption(i,o,ps(o,i,d,!1,!1))}else u===jh?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,ps(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===ko||c===Jn||c===jh&&4&o.type)this.addMatch(o.index,-2);else{const d=ps(o,i,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function Zw(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function Yw(r,i,o,u){return-1===o?function(r,i){return 11&r.type?Xl(r,i):4&r.type?Wy(r,i):null}(i,r):-2===o?function(r,i,o){return o===ko?Xl(i,r):o===jh?Wy(i,r):o===Jn?yw(i,r):void 0}(r,i,u):zr(r,r[1],o,i)}function rf(r,i,o,u){const c=i[19].queries[u];if(null===c.matches){const d=r.data,g=o.matches,y=[];for(let w=0;w<g.length;w+=2){const I=g[w];y.push(I<0?null:Yw(i,d[I],g[w+1],o.metadata.read))}c.matches=y}return c.matches}function bg(r,i,o,u){const c=r.queries.getByIndex(o),d=c.matches;if(null!==d){const g=rf(r,i,c,o);for(let y=0;y<d.length;y+=2){const w=d[y];if(w>0)u.push(g[y/2]);else{const I=d[y+1],T=i[-w];for(let R=10;R<T.length;R++){const O=T[R];O[17]===O[3]&&bg(O[1],O,I,u)}if(null!==T[9]){const R=T[9];for(let O=0;O<R.length;O++){const B=R[O];bg(B[1],B,I,u)}}}}}return u}function Qw(r){const i=Se(),o=Dt(),u=yo();Zc(u+1);const c=o_(o,u);if(r.dirty&&go(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const d=c.crossesNgTemplate?bg(o,i,u,[]):rf(o,i,c,u);r.reset(d,lw),r.notifyOnChanges()}return!0}return!1}function i_(r,i,o,u){const c=Dt();if(c.firstCreatePass){const d=_n();(function(r,i,o){null===r.queries&&(r.queries=new Kw),r.queries.track(new ud(i,o))})(c,new oD(i,o,u),d.index),function(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}!function(r,i,o){const u=new Tc(4==(4&o));Vb(r,i,u,u.destroy),null===i[19]&&(i[19]=new zw),i[19].queries.push(new Ww(u))}(c,Se(),o)}function Iu(){return r=Se(),i=yo(),r[19].queries[i].queryList;var r,i}function o_(r,i){return r.queries.getByIndex(i)}const h0=new vn("Application Initializer");let Rc=(()=>{class r{constructor(o){this.appInits=o,this.resolve=vu,this.reject=vu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(hy(d))o.push(d);else if(Ll(d)){const g=new Promise((y,w)=>{d.subscribe({complete:y,error:w})});o.push(g)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(un(h0,8))},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();const kD=new vn("AppId"),ix={provide:kD,useFactory:function(){return`${Ag()}${Ag()}${Ag()}`},deps:[]};function Ag(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const p0=new vn("Platform Initializer"),g_=new vn("Platform ID"),g0=new vn("appBootstrapListener");let FD=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();const cf=new vn("LocaleId"),LD=new vn("DefaultCurrencyCode");class ax{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}const lf=function(r){return new yg(r)},cx=lf,lx=function(r){return Promise.resolve(lf(r))},m_=function(r){const i=lf(r),u=En($n(r).declarations).reduce((c,d)=>{const g=nr(d);return g&&c.push(new eD(g)),c},[]);return new ax(i,u)},$D=m_,m0=function(r){return Promise.resolve(m_(r))};let Nc=(()=>{class r{constructor(){this.compileModuleSync=cx,this.compileModuleAsync=lx,this.compileModuleAndAllComponentsSync=$D,this.compileModuleAndAllComponentsAsync=m0}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();const _0=(()=>Promise.resolve(0))();function y_(r){"undefined"==typeof Zone?_0.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Ur{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bo(!1),this.onMicrotaskEmpty=new Bo(!1),this.onStable=new Bo(!1),this.onError=new Bo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let r=j.requestAnimationFrame,i=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(j,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,__(r),r.isCheckStableRunning=!0,w0(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),__(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,d,g,y)=>{try{return WD(r),o.invokeTask(c,d,g,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||r.shouldCoalesceRunChangeDetection)&&i(),b0(r)}},onInvoke:(o,u,c,d,g,y,w)=>{try{return WD(r),o.invoke(c,d,g,y,w)}finally{r.shouldCoalesceRunChangeDetection&&i(),b0(r)}},onHasTask:(o,u,c,d)=>{o.hasTask(c,d),u===c&&("microTask"==d.change?(r._hasPendingMicrotasks=d.microTask,__(r),w0(r)):"macroTask"==d.change&&(r.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,c,d)=>(o.handleError(c,d),r.runOutsideAngular(()=>r.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ur.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ur.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,i,E0,vu,vu);try{return d.runTask(g,o,u)}finally{d.cancelTask(g)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const E0={};function w0(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function __(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function WD(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function b0(r){r._nesting--,w0(r)}class px{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bo,this.onMicrotaskEmpty=new Bo,this.onStable=new Bo,this.onError=new Bo}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}let zD=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ur.assertNotInAngularZone(),y_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())y_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(un(Ur))},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})(),KD=(()=>{class r{constructor(){this._applications=new Map,Mc.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Mc.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();class gx{addToWindow(i){}findTestabilityInTree(i,o,u){return null}}function mx(r){Mc=r}let Mc=new gx,C0=!0,v_=!1;function E_(){return v_=!0,C0}function ZD(){if(v_)throw new Error("Cannot enable prod mode after platform setup.");C0=!1}let Xs;const I0=new vn("AllowMultipleToken");class vx{constructor(i,o){this.name=i,this.token=o}}function D0(r,i,o=[]){const u=`Platform: ${i}`,c=new vn(u);return(d=[])=>{let g=C_();if(!g||g.injector.get(I0,!1))if(r)r(o.concat(d).concat({provide:c,useValue:!0}));else{const y=o.concat(d).concat({provide:c,useValue:!0},{provide:va,useValue:"platform"});!function(r){if(Xs&&!Xs.destroyed&&!Xs.injector.get(I0,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Xs=r.get(JD);const i=r.get(p0,null);i&&i.forEach(o=>o())}(wn.create({providers:y,name:u}))}return function(r){const i=C_();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(c)}}function C_(){return Xs&&!Xs.destroyed?Xs:null}let JD=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const y=function(r,i){let o;return o="noop"===r?new px:("zone.js"===r?void 0:r)||new Ur({enableLongStackTrace:E_(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),w=[{provide:Ur,useValue:y}];return y.run(()=>{const I=wn.create({providers:w,parent:this.injector,name:o.moduleType.name}),T=o.create(I),R=T.injector.get(de,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const O=y.onError.subscribe({next:B=>{R.handleError(B)}});T.onDestroy(()=>{er(this._modules,T),O.unsubscribe()})}),function(r,i,o){try{const u=o();return hy(u)?u.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(R,y,()=>{const O=T.injector.get(Rc);return O.runInitializers(),O.donePromise.then(()=>(Oe(T.injector.get(cf,Ec)||Ec),this._moduleDoBootstrap(T),T))})})}bootstrapModule(o,u=[]){const c=wx({},u);return function(r,i,o){const u=new yg(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const u=o.injector.get(I_);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${K(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(un(wn))},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();function wx(r,i){return Array.isArray(i)?i.reduce(wx,r):Object.assign(Object.assign({},r),i)}let I_=(()=>{class r{constructor(o,u,c,d,g){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=d,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new F.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),w=new F.y(I=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Ur.assertNotInAngularZone(),y_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{Ur.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{T.unsubscribe(),R.unsubscribe()}});this.isStable=(0,ce.T)(y,w.pipe(r=>(0,he.x)()(function(r,i){return function(u){let c;c="function"==typeof r?r:function(){return r};const d=Object.create(u,te.N);return d.source=u,d.subjectFactory=c,d}}(W)(r))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=o instanceof gI?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const d=function(r){return r.isBoundToModule}(c)?void 0:this._injector.get(td),y=c.create(wn.NULL,[],u||c.selector,d),w=y.location.nativeElement,I=y.injector.get(zD,null),T=I&&y.injector.get(KD);return I&&T&&T.registerApplication(w,I),y.onDestroy(()=>{this.detachView(y.hostView),er(this.components,y),T&&T.unregisterApplication(w)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;er(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(g0,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(un(Ur),un(wn),un(de),un(Vh),un(Rc))},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();function er(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}class Cx{}class Dx{}const Tx={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let tT=(()=>{class r{constructor(o,u){this._compiler=o,this._config=u||Tx}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,c]=o.split("#");return void 0===c&&(c="default"),V(8255)(u).then(d=>d[c]).then(d=>Sa(d,u,c)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(o){let[u,c]=o.split("#"),d="NgFactory";return void 0===c&&(c="default",d=""),V(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(g=>g[c+d]).then(g=>Sa(g,u,c))}}return r.\u0275fac=function(o){return new(o||r)(un(Nc),un(Dx,8))},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();function Sa(r,i,o){if(!r)throw new Error(`Cannot find '${o}' in '${i}'`);return r}const O0=function(r){return null},M_=D0(null,"core",[{provide:g_,useValue:"unknown"},{provide:JD,deps:[wn]},{provide:KD,deps:[]},{provide:FD,deps:[]}]),nT=[{provide:I_,useClass:I_,deps:[Ur,wn,de,Vh,Rc]},{provide:PS,deps:[Ur],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(o){i.push(o)}}},{provide:Rc,useClass:Rc,deps:[[new li,h0]]},{provide:Nc,useClass:Nc,deps:[]},ix,{provide:Un,useFactory:function(){return ng},deps:[]},{provide:Dn,useFactory:function(){return rg},deps:[]},{provide:cf,useFactory:function(r){return Oe(r=r||"undefined"!=typeof $localize&&$localize.locale||Ec),r},deps:[[new Io(cf),new li,new pa]]},{provide:LD,useValue:"USD"}];let Ng=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(un(I_))},r.\u0275mod=Na({type:r}),r.\u0275inj=_i({providers:nT}),r})()},8939:(et,Te,V)=>{"use strict";V.d(Te,{hO:()=>K,xv:()=>W,Dh:()=>he,GT:()=>ie,cc:()=>re,on:()=>k,pX:()=>te});var m=V(3018),ee=V(7841),F=V(6643);et=V.hmd(et);const ce=["ngOnDestroy"],te=(_e,ve,pe,Ie={})=>new Proxy(_e,{get:(Fe,Le)=>pe.runOutsideAngular(()=>{var yt;if(_e[Le])return(null===(yt=null==Ie?void 0:Ie.spy)||void 0===yt?void 0:yt.get)&&Ie.spy.get(Le,_e[Le]),_e[Le];if(ce.indexOf(Le)>-1)return()=>{};const gt=ve.toPromise().then(De=>{const ne=De&&De[Le];return"function"==typeof ne?ne.bind(De):ne&&ne.then?ne.then(oe=>pe.run(()=>oe)):pe.run(()=>ne)});return new Proxy(()=>{},{get:(De,ne)=>gt[ne],apply:(De,ne,oe)=>gt.then(ge=>{var ue;const Pe=ge&&ge(...oe);return(null===(ue=null==Ie?void 0:Ie.spy)||void 0===ue?void 0:ue.apply)&&Ie.spy.apply(Le,oe,Pe),Pe})})})}),ie=(_e,ve)=>{ve.forEach(pe=>{Object.getOwnPropertyNames(pe.prototype||pe).forEach(Ie=>{Object.defineProperty(_e.prototype,Ie,Object.getOwnPropertyDescriptor(pe.prototype||pe,Ie))})})};class Ee{constructor(ve){return ve}}const he=new m.OlP("angularfire2.app.options"),W=new m.OlP("angularfire2.app.name");function k(_e,ve,pe){const Fe="object"==typeof pe&&pe||{};Fe.name=Fe.name||"string"==typeof pe&&pe||"[DEFAULT]";const yt=ee.Z.apps.filter(gt=>gt&&gt.name===Fe.name)[0]||ve.runOutsideAngular(()=>ee.Z.initializeApp(_e,Fe));try{JSON.stringify(_e)!==JSON.stringify(yt.options)&&L("error",`${yt.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(gt){}return new Ee(yt)}const L=(_e,...ve)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[_e](...ve)},Q={provide:Ee,useFactory:k,deps:[he,m.R0b,[new m.FiY,W]]};let K=(()=>{class _e{constructor(pe){ee.Z.registerVersion("angularfire",F.q4.full,"core"),ee.Z.registerVersion("angularfire",F.q4.full,"app-compat"),ee.Z.registerVersion("angular",m.q4F.full,pe.toString())}static initializeApp(pe,Ie){return{ngModule:_e,providers:[{provide:he,useValue:pe},{provide:W,useValue:Ie}]}}}return _e.\u0275fac=function(pe){return new(pe||_e)(m.LFG(m.Lbi))},_e.\u0275mod=m.oAB({type:_e}),_e.\u0275inj=m.cJS({providers:[Q]}),_e})();function re(_e,ve,pe,Ie,Fe){const[,Le,yt]=globalThis.\u0275AngularfireInstanceCache.find(gt=>gt[0]===_e)||[];if(Le)return function(_e,ve){try{return _e.toString()===ve.toString()}catch(pe){return _e===ve}}(Fe,yt)||(q("error",`${ve} was already initialized on the ${pe} Firebase App with different settings.${fe?" You may need to reload as Firebase is not HMR aware.":""}`),q("warn",{is:Fe,was:yt})),Le;{const gt=Ie();return globalThis.\u0275AngularfireInstanceCache.push([_e,gt,Fe]),gt}}const fe=!!et.hot,q=(_e,...ve)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[_e](...ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(et,Te,V)=>{"use strict";V.d(Te,{q4:()=>Af,iC:()=>xf,HU:()=>Zr,vb:()=>bo,JM:()=>Ti});var m=V(3018),ee=V(2329),F=V(8239),ce=V(5452),te=V(3854),ie=V(6034),Ee=V(5601),he=V(6676);const W="@firebase/installations",k="0.5.2",Q=`w:${k}`,K="FIS_v2",ve=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pe(C){return C instanceof te.ZR&&C.code.includes("request-failed")}function Ie({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Fe(C){return{token:C.token,requestStatus:2,expiresIn:ge(C.expiresIn),creationTime:Date.now()}}function Le(C,D){return yt.apply(this,arguments)}function yt(){return(yt=(0,F.Z)(function*(C,D){const U=(yield D.json()).error;return ve.create("request-failed",{requestName:C,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function gt({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function De(C,{refreshToken:D}){const x=gt(C);return x.append("Authorization",function(C){return`${K} ${C}`}(D)),x}function ne(C){return oe.apply(this,arguments)}function oe(){return(oe=(0,F.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function ge(C){return Number(C.replace("s","000"))}function Pe(C,D){return me.apply(this,arguments)}function me(){return(me=(0,F.Z)(function*(C,{fid:D}){const x=Ie(C),le={method:"POST",headers:gt(C),body:JSON.stringify({fid:D,authVersion:K,appId:C.appId,sdkVersion:Q})},Ne=yield ne(()=>fetch(x,le));if(Ne.ok){const ze=yield Ne.json();return{fid:ze.fid||D,registrationStatus:2,refreshToken:ze.refreshToken,authToken:Fe(ze.authToken)}}throw yield Le("Create Installation",Ne)})).apply(this,arguments)}function it(C){return new Promise(D=>{setTimeout(D,C)})}const On=/^[cdef][\w-]{21}$/;function Gt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function(C){return function(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return On.test(x)?x:""}catch(C){return""}}function Wt(C){return`${C.appName}!${C.appId}`}const jn=new Map;function jr(C,D){const x=Wt(C);xt(x,D),function(C,D){const x=(!gr&&"BroadcastChannel"in self&&(gr=new BroadcastChannel("[Firebase] FID Change"),gr.onmessage=C=>{xt(C.data.key,C.data.fid)}),gr);x&&x.postMessage({key:C,fid:D}),0===jn.size&&gr&&(gr.close(),gr=null)}(x,D)}function xt(C,D){const x=jn.get(C);if(x)for(const U of x)U(D)}let gr=null;const si="firebase-installations-store";let Fi=null;function es(){return Fi||(Fi=(0,he.openDb)("firebase-installations-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(si)}})),Fi}function oi(C,D){return bn.apply(this,arguments)}function bn(){return(bn=(0,F.Z)(function*(C,D){const x=Wt(C),Z=(yield es()).transaction(si,"readwrite"),le=Z.objectStore(si),Ne=yield le.get(x);return yield le.put(D,x),yield Z.complete,(!Ne||Ne.fid!==D.fid)&&jr(C,D.fid),D})).apply(this,arguments)}function mr(C){return ro.apply(this,arguments)}function ro(){return(ro=(0,F.Z)(function*(C){const D=Wt(C),U=(yield es()).transaction(si,"readwrite");yield U.objectStore(si).delete(D),yield U.complete})).apply(this,arguments)}function ot(C,D){return Re.apply(this,arguments)}function Re(){return(Re=(0,F.Z)(function*(C,D){const x=Wt(C),Z=(yield es()).transaction(si,"readwrite"),le=Z.objectStore(si),Ne=yield le.get(x),ze=D(Ne);return void 0===ze?yield le.delete(x):yield le.put(ze,x),yield Z.complete,ze&&(!Ne||Ne.fid!==ze.fid)&&jr(C,ze.fid),ze})).apply(this,arguments)}function jt(C){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,F.Z)(function*(C){let D;const x=yield ot(C,U=>{const Z=dn(U),le=kt(C,Z);return D=le.registrationPromise,le.installationEntry});return""===x.fid?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}})).apply(this,arguments)}function dn(C){return hn(C||{fid:Gt(),registrationStatus:0})}function kt(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(ve.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(C,D){return Qe.apply(this,arguments)}(C,x)}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:yn(C)}:{installationEntry:D}}function Qe(){return(Qe=(0,F.Z)(function*(C,D){try{return oi(C,yield Pe(C,D))}catch(x){throw pe(x)&&409===x.customData.serverCode?yield mr(C):yield oi(C,{fid:D.fid,registrationStatus:0}),x}})).apply(this,arguments)}function yn(C){return ts.apply(this,arguments)}function ts(){return(ts=(0,F.Z)(function*(C){let D=yield vi(C);for(;1===D.registrationStatus;)yield it(100),D=yield vi(C);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:U}=yield jt(C);return U||x}return D})).apply(this,arguments)}function vi(C){return ot(C,D=>{if(!D)throw ve.create("installation-not-found");return hn(D)})}function hn(C){return function(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function io(C,D){return $.apply(this,arguments)}function $(){return($=(0,F.Z)(function*({appConfig:C,platformLoggerProvider:D},x){const U=G(C,x),Z=De(C,x),le=D.getImmediate({optional:!0});le&&Z.append("x-firebase-client",le.getPlatformInfoString());const ze={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:Q}})},Ge=yield ne(()=>fetch(U,ze));if(Ge.ok)return Fe(yield Ge.json());throw yield Le("Generate Auth Token",Ge)})).apply(this,arguments)}function G(C,{fid:D}){return`${Ie(C)}/${D}/authTokens:generate`}function j(C){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,F.Z)(function*(C,D=!1){let x;const U=yield ot(C.appConfig,le=>{if(!Yt(le))throw ve.create("not-registered");const Ne=le.authToken;if(!D&&$r(Ne))return le;if(1===Ne.requestStatus)return x=se(C,D),le;{if(!navigator.onLine)throw ve.create("app-offline");const ze=Xt(le);return x=Ft(C,ze),ze}});return x?yield x:U.authToken})).apply(this,arguments)}function se(C,D){return We.apply(this,arguments)}function We(){return(We=(0,F.Z)(function*(C,D){let x=yield $e(C.appConfig);for(;1===x.authToken.requestStatus;)yield it(100),x=yield $e(C.appConfig);const U=x.authToken;return 0===U.requestStatus?j(C,D):U})).apply(this,arguments)}function $e(C){return ot(C,D=>{if(!Yt(D))throw ve.create("not-registered");return function(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Ft(C,D){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,F.Z)(function*(C,D){try{const x=yield io(C,D),U=Object.assign(Object.assign({},D),{authToken:x});return yield oi(C.appConfig,U),x}catch(x){if(!pe(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const U=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield oi(C.appConfig,U)}else yield mr(C.appConfig);throw x}})).apply(this,arguments)}function Yt(C){return void 0!==C&&2===C.registrationStatus}function $r(C){return 2===C.requestStatus&&!function(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function Xt(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function $o(){return($o=(0,F.Z)(function*(C){const D=C,{installationEntry:x,registrationPromise:U}=yield jt(D.appConfig);return U?U.catch(console.error):j(D).catch(console.error),x.fid})).apply(this,arguments)}function Ra(){return(Ra=(0,F.Z)(function*(C,D=!1){const x=C;return yield Mu(x.appConfig),(yield j(x,D)).token})).apply(this,arguments)}function Mu(C){return As.apply(this,arguments)}function As(){return(As=(0,F.Z)(function*(C){const{registrationPromise:D}=yield jt(C);D&&(yield D)})).apply(this,arguments)}function $n(C){return ve.create("missing-app-config-values",{valueName:C})}const Id="installations";(0,ce._registerComponent)(new ie.wA(Id,C=>{const D=C.getProvider("app").getImmediate();return{app:D,appConfig:function(C){if(!C||!C.options)throw $n("App Configuration");if(!C.name)throw $n("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!C.options[x])throw $n(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D),platformLoggerProvider:(0,ce._getProvider)(D,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ce._registerComponent)(new ie.wA("installations-internal",C=>{const D=C.getProvider("app").getImmediate(),x=(0,ce._getProvider)(D,Id).getImmediate();return{getId:()=>function(C){return $o.apply(this,arguments)}(x),getToken:Z=>function(C){return Ra.apply(this,arguments)}(x,Z)}},"PRIVATE")),(0,ce.registerVersion)(W,k),(0,ce.registerVersion)(W,k,"esm2017");const yr="@firebase/remote-config",Sn=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class jc{constructor(D,x,U,Z){this.client=D,this.storage=x,this.storageCache=U,this.logger=Z}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-x,Z=U<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Z}.`),Z}fetch(D){var x=this;return(0,F.Z)(function*(){const[U,Z]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Z&&x.isCachedDataFresh(D.cacheMaxAgeMillis,U))return Z;D.eTag=Z&&Z.eTag;const le=yield x.client.fetch(D),Ne=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Ne.push(x.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Ne),le})()}}function Gr(C=navigator){return C.languages&&C.languages[0]||C.language}class Ht{constructor(D,x,U,Z,le,Ne){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=U,this.projectId=Z,this.apiKey=le,this.appId=Ne}fetch(D){var x=this;return(0,F.Z)(function*(){const[U,Z]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Ne=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Ge={sdk_version:x.sdkVersion,app_instance_id:U,app_instance_id_token:Z,app_id:x.appId,language_code:Gr()},Tt={method:"POST",headers:ze,body:JSON.stringify(Ge)},Lt=fetch(Ne,Tt),Kn=new Promise(($i,Hi)=>{D.signal.addEventListener(()=>{const ll=new Error("The operation was aborted.");ll.name="AbortError",Hi(ll)})});let sr;try{yield Promise.race([Lt,Kn]),sr=yield Lt}catch($i){let Hi="fetch-client-network";throw"AbortError"===$i.name&&(Hi="fetch-timeout"),Sn.create(Hi,{originalErrorMessage:$i.message})}let or=sr.status;const Ai=sr.headers.get("ETag")||void 0;let ru,Si;if(200===sr.status){let $i;try{$i=yield sr.json()}catch(Hi){throw Sn.create("fetch-client-parse",{originalErrorMessage:Hi.message})}ru=$i.entries,Si=$i.state}if("INSTANCE_STATE_UNSPECIFIED"===Si?or=500:"NO_CHANGE"===Si?or=304:("NO_TEMPLATE"===Si||"EMPTY_CONFIG"===Si)&&(ru={}),304!==or&&200!==or)throw Sn.create("fetch-status",{httpStatus:or});return{status:or,eTag:Ai,config:ru}})()}}class qr{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,F.Z)(function*(){const U=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,U)})()}attemptFetch(D,{throttleEndTimeMillis:x,backoffCount:U}){var Z=this;return(0,F.Z)(function*(){yield function(C,D){return new Promise((x,U)=>{const Z=Math.max(D-Date.now(),0),le=setTimeout(x,Z);C.addEventListener(()=>{clearTimeout(le),U(Sn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,x);try{const le=yield Z.client.fetch(D);return yield Z.storage.deleteThrottleMetadata(),le}catch(le){if(!function(C){if(!(C instanceof te.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(le))throw le;const Ne={throttleEndTimeMillis:Date.now()+(0,te.$s)(U),backoffCount:U+1};return yield Z.storage.setThrottleMetadata(Ne),Z.attemptFetch(D,Ne)}})()}}class Bg{constructor(D,x,U,Z,le){this.app=D,this._client=x,this._storageCache=U,this._storage=Z,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Go(C,D){const x=C.target.error||void 0;return Sn.create(D,{originalErrorMessage:x&&x.message})}const uo="app_namespace_store";class Sd{constructor(D,x,U,Z=function(){return new Promise((C,D)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=U=>{D(Go(U,"storage-open"))},x.onsuccess=U=>{C(U.target.result)},x.onupgradeneeded=U=>{const Z=U.target.result;switch(U.oldVersion){case 0:Z.createObjectStore(uo,{keyPath:"compositeKey"})}}}catch(x){D(Sn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=D,this.appName=x,this.namespace=U,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,F.Z)(function*(){const U=yield x.openDbPromise;return new Promise((Z,le)=>{const ze=U.transaction([uo],"readonly").objectStore(uo),Ge=x.createCompositeKey(D);try{const Tt=ze.get(Ge);Tt.onerror=Lt=>{le(Go(Lt,"storage-get"))},Tt.onsuccess=Lt=>{const Kn=Lt.target.result;Z(Kn?Kn.value:void 0)}}catch(Tt){le(Sn.create("storage-get",{originalErrorMessage:Tt&&Tt.message}))}})})()}set(D,x){var U=this;return(0,F.Z)(function*(){const Z=yield U.openDbPromise;return new Promise((le,Ne)=>{const Ge=Z.transaction([uo],"readwrite").objectStore(uo),Tt=U.createCompositeKey(D);try{const Lt=Ge.put({compositeKey:Tt,value:x});Lt.onerror=Kn=>{Ne(Go(Kn,"storage-set"))},Lt.onsuccess=()=>{le()}}catch(Lt){Ne(Sn.create("storage-set",{originalErrorMessage:Lt&&Lt.message}))}})})()}delete(D){var x=this;return(0,F.Z)(function*(){const U=yield x.openDbPromise;return new Promise((Z,le)=>{const ze=U.transaction([uo],"readwrite").objectStore(uo),Ge=x.createCompositeKey(D);try{const Tt=ze.delete(Ge);Tt.onerror=Lt=>{le(Go(Lt,"storage-delete"))},Tt.onsuccess=()=>{Z()}}catch(Tt){le(Sn.create("storage-delete",{originalErrorMessage:Tt&&Tt.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class qo{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,F.Z)(function*(){const x=D.storage.getLastFetchStatus(),U=D.storage.getLastSuccessfulFetchTimestampMillis(),Z=D.storage.getActiveConfig(),le=yield x;le&&(D.lastFetchStatus=le);const Ne=yield U;Ne&&(D.lastSuccessfulFetchTimestampMillis=Ne);const ze=yield Z;ze&&(D.activeConfig=ze)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Gg(){return ku.apply(this,arguments)}function ku(){return(ku=(0,F.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(C){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new ie.wA("remote-config",function(D,{instanceIdentifier:x}){const U=D.getProvider("app").getImmediate(),Z=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Sn.create("registration-window");if(!(0,te.hl)())throw Sn.create("indexed-db-unavailable");const{projectId:le,apiKey:Ne,appId:ze}=U.options;if(!le)throw Sn.create("registration-project-id");if(!Ne)throw Sn.create("registration-api-key");if(!ze)throw Sn.create("registration-app-id");const Ge=new Sd(ze,U.name,x=x||"firebase"),Tt=new qo(Ge),Lt=new Ee.Yd(yr);Lt.logLevel=Ee.in.ERROR;const Kn=new Ht(Z,ce.SDK_VERSION,x,le,Ne,ze),sr=new qr(Kn,Ge),or=new jc(sr,Ge,Tt,Lt),Ai=new Bg(U,or,Tt,Ge,Lt);return function(C){const D=(0,te.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Ai),Ai},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(yr,"0.3.1"),(0,ce.registerVersion)(yr,"0.3.1","esm2017");const co="/firebase-messaging-sw.js",Fa="/firebase-cloud-messaging-push-scope",Ms="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Fu="google.c.a.c_id",Gc="google.c.a.c_l",qg="google.c.a.ts",zo="google.c.a.e";var Ar=(()=>{return(C=Ar||(Ar={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Ar;var C})();function Ci(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qc(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(x),Z=new Uint8Array(U.length);for(let le=0;le<U.length;++le)Z[le]=U.charCodeAt(le);return Z}const lo="fcm_token_details_db",xd="fcm_token_object_Store";function Ef(C){return ho.apply(this,arguments)}function ho(){return(ho=(0,F.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(lo))return null;let D=null;return(yield(0,he.openDb)(lo,5,function(){var U=(0,F.Z)(function*(Z){var le;if(Z.oldVersion<2||!Z.objectStoreNames.contains(xd))return;const Ne=Z.transaction.objectStore(xd),ze=yield Ne.index("fcmSenderId").get(C);if(yield Ne.clear(),ze)if(2===Z.oldVersion){const Ge=ze;if(!Ge.auth||!Ge.p256dh||!Ge.endpoint)return;D={token:Ge.fcmToken,createTime:null!==(le=Ge.createTime)&&void 0!==le?le:Date.now(),subscriptionOptions:{auth:Ge.auth,p256dh:Ge.p256dh,endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:"string"==typeof Ge.vapidKey?Ge.vapidKey:Ci(Ge.vapidKey)}}}else if(3===Z.oldVersion){const Ge=ze;D={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:Ci(Ge.auth),p256dh:Ci(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:Ci(Ge.vapidKey)}}}else if(4===Z.oldVersion){const Ge=ze;D={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:Ci(Ge.auth),p256dh:Ci(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:Ci(Ge.vapidKey)}}}});return function(Z){return U.apply(this,arguments)}}())).close(),yield(0,he.deleteDb)(lo),yield(0,he.deleteDb)("fcm_vapid_details_db"),yield(0,he.deleteDb)("undefined"),Lu(D)?D:null})).apply(this,arguments)}function Lu(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Gn="firebase-messaging-store";let Ko=null;function Zo(){return Ko||(Ko=(0,he.openDb)("firebase-messaging-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(Gn)}})),Ko}function Os(C){return Li.apply(this,arguments)}function Li(){return(Li=(0,F.Z)(function*(C){const D=Qo(C),U=yield(yield Zo()).transaction(Gn).objectStore(Gn).get(D);if(U)return U;{const Z=yield Ef(C.appConfig.senderId);if(Z)return yield fo(C,Z),Z}})).apply(this,arguments)}function fo(C,D){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,F.Z)(function*(C,D){const x=Qo(C),Z=(yield Zo()).transaction(Gn,"readwrite");return yield Z.objectStore(Gn).put(D,x),yield Z.complete,D})).apply(this,arguments)}function sn(C){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,F.Z)(function*(C){const D=Qo(C),U=(yield Zo()).transaction(Gn,"readwrite");yield U.objectStore(Gn).delete(D),yield U.complete})).apply(this,arguments)}function Qo({appConfig:C}){return C.appId}const bt=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Nd(C,D){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,F.Z)(function*(C,D){const x=yield qn(C),U=Jo(D),Z={method:"POST",headers:x,body:JSON.stringify(U)};let le;try{le=yield(yield fetch(po(C.appConfig),Z)).json()}catch(Ne){throw bt.create("token-subscribe-failed",{errorInfo:Ne})}if(le.error)throw bt.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw bt.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function Va(C,D){return _r.apply(this,arguments)}function _r(){return(_r=(0,F.Z)(function*(C,D){const x=yield qn(C),U=Jo(D.subscriptionOptions),Z={method:"PATCH",headers:x,body:JSON.stringify(U)};let le;try{le=yield(yield fetch(`${po(C.appConfig)}/${D.token}`,Z)).json()}catch(Ne){throw bt.create("token-update-failed",{errorInfo:Ne})}if(le.error)throw bt.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw bt.create("token-update-no-token");return le.token})).apply(this,arguments)}function wf(C,D){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,F.Z)(function*(C,D){const U={method:"DELETE",headers:yield qn(C)};try{const le=yield(yield fetch(`${po(C.appConfig)}/${D}`,U)).json();if(le.error)throw bt.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(Z){throw bt.create("token-unsubscribe-failed",{errorInfo:Z})}})).apply(this,arguments)}function po({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function qn(C){return go.apply(this,arguments)}function go(){return(go=(0,F.Z)(function*({appConfig:C,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Jo({p256dh:C,auth:D,endpoint:x,vapidKey:U}){const Z={web:{endpoint:x,auth:D,p256dh:C}};return U!==Ms&&(Z.web.applicationPubKey=U),Z}const Ua=6048e5;function Ps(C){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,F.Z)(function*(C){const D=yield Wc(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:Ci(D.getKey("auth")),p256dh:Ci(D.getKey("p256dh"))},U=yield Os(C.firebaseDependencies);if(U){if(Md(U.subscriptionOptions,x))return Date.now()>=U.createTime+Ua?Wg(C,{token:U.token,createTime:Date.now(),subscriptionOptions:x}):U.token;try{yield wf(C.firebaseDependencies,U.token)}catch(Z){console.warn(Z)}return ea(C.firebaseDependencies,x)}return ea(C.firebaseDependencies,x)})).apply(this,arguments)}function ju(C){return ct.apply(this,arguments)}function ct(){return(ct=(0,F.Z)(function*(C){const D=yield Os(C.firebaseDependencies);D&&(yield wf(C.firebaseDependencies,D.token),yield sn(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Wg(C,D){return ss.apply(this,arguments)}function ss(){return(ss=(0,F.Z)(function*(C,D){try{const x=yield Va(C.firebaseDependencies,D),U=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield fo(C.firebaseDependencies,U),x}catch(x){throw yield ju(C),x}})).apply(this,arguments)}function ea(C,D){return mo.apply(this,arguments)}function mo(){return(mo=(0,F.Z)(function*(C,D){const U={token:yield Nd(C,D),createTime:Date.now(),subscriptionOptions:D};return yield fo(C,U),U.token})).apply(this,arguments)}function Wc(C,D){return os.apply(this,arguments)}function os(){return(os=(0,F.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qc(D)})})).apply(this,arguments)}function Md(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function Se(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcm_message_id};return function(C,D){if(!D.notification)return;C.notification={};const x=D.notification.title;x&&(C.notification.title=x);const U=D.notification.body;U&&(C.notification.body=U);const Z=D.notification.image;Z&&(C.notification.image=Z)}(D,C),function(C,D){!D.data||(C.data=D.data)}(D,C),function(C,D){if(!D.fcmOptions)return;C.fcmOptions={};const x=D.fcmOptions.link;x&&(C.fcmOptions.link=x);const U=D.fcmOptions.analytics_label;U&&(C.fcmOptions.analyticsLabel=U)}(D,C),D}function Od(C){return"object"==typeof C&&!!C&&Fu in C}function ta(C,D){const x=[];for(let U=0;U<C.length;U++)x.push(C.charAt(U)),U<D.length&&x.push(D.charAt(U));return x.join("")}function Ba(C){return bt.create("missing-app-config-values",{valueName:C})}ta("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ta("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ks{constructor(D,x,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function(C){if(!C||!C.options)throw Ba("App Configuration Object");if(!C.name)throw Ba("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const U of D)if(!x[U])throw Ba(U);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Z,installations:x,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Pd(C){return $u.apply(this,arguments)}function $u(){return($u=(0,F.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(co,{scope:Fa}),C.swRegistration.update().catch(()=>{})}catch(D){throw bt.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function na(C,D){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,F.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield Pd(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw bt.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function Sr(C,D){return xr.apply(this,arguments)}function xr(){return(xr=(0,F.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=Ms)})).apply(this,arguments)}function Bi(){return(Bi=(0,F.Z)(function*(C,D){if(!navigator)throw bt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bt.create("permission-blocked");return yield Sr(C,null==D?void 0:D.vapidKey),yield na(C,null==D?void 0:D.serviceWorkerRegistration),Ps(C)})).apply(this,arguments)}function as(C,D,x){return ja.apply(this,arguments)}function ja(){return(ja=(0,F.Z)(function*(C,D,x){const U=kd(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:x[Fu],message_name:x[Gc],message_time:x[qg],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function kd(C){switch(C){case Ar.NOTIFICATION_CLICKED:return"notification_open";case Ar.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function $a(){return($a=(0,F.Z)(function*(C,D){const x=D.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===Ar.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Se(x)):C.onMessageHandler.next(Se(x)));const U=x.data;Od(U)&&"1"===U[zo]&&(yield as(C,x.messageType,U))})).apply(this,arguments)}const ra="@firebase/messaging";function Fd(){return _o.apply(this,arguments)}function _o(){return(_o=(0,F.Z)(function*(){return"undefined"!=typeof window&&(0,te.hl)()&&(yield(0,te.eu)())&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new ie.wA("messaging",C=>{const D=new ks(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(C,D){return $a.apply(this,arguments)}(D,x)),D},"PUBLIC")),(0,ce._registerComponent)(new ie.wA("messaging-internal",C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:U=>function(C,D){return Bi.apply(this,arguments)}(D,U)}},"PRIVATE")),(0,ce.registerVersion)(ra,"0.9.2"),(0,ce.registerVersion)(ra,"0.9.2","esm2017");const ji="analytics",on="firebase_id",Qc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ud="https://www.googletagmanager.com/gtag/js",Wn=new Ee.Yd("@firebase/analytics");function Bd(C){return Promise.all(C.map(D=>D.catch(x=>x)))}function ia(C,D){const x=document.createElement("script");x.src=`${Ud}?l=${C}&id=${D}`,x.async=!0,document.head.appendChild(x)}function Jc(C,D,x,U,Z,le){return vo.apply(this,arguments)}function vo(){return(vo=(0,F.Z)(function*(C,D,x,U,Z,le){const Ne=U[Z];try{if(Ne)yield D[Ne];else{const Ge=(yield Bd(x)).find(Tt=>Tt.measurementId===Z);Ge&&(yield D[Ge.appId])}}catch(ze){Wn.error(ze)}C("config",Z,le)})).apply(this,arguments)}function Xc(C,D,x,U,Z){return el.apply(this,arguments)}function el(){return(el=(0,F.Z)(function*(C,D,x,U,Z){try{let le=[];if(Z&&Z.send_to){let Ne=Z.send_to;Array.isArray(Ne)||(Ne=[Ne]);const ze=yield Bd(x);for(const Ge of Ne){const Tt=ze.find(Kn=>Kn.measurementId===Ge),Lt=Tt&&D[Tt.appId];if(!Lt){le=[];break}le.push(Lt)}}0===le.length&&(le=Object.values(D)),yield Promise.all(le),C("event",U,Z||{})}catch(le){Wn.error(le)}})).apply(this,arguments)}function K_(){const C=window.document.getElementsByTagName("script");for(const D of Object.values(C))if(D.src&&D.src.includes(Ud))return D;return null}const vr=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ga=new class{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function zg(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function an(C){return qa.apply(this,arguments)}function qa(){return(qa=(0,F.Z)(function*(C){var D;const{appId:x,apiKey:U}=C,Z={method:"GET",headers:zg(U)},le=Qc.replace("{app-id}",x),Ne=yield fetch(le,Z);if(200!==Ne.status&&304!==Ne.status){let ze="";try{const Ge=yield Ne.json();(null===(D=Ge.error)||void 0===D?void 0:D.message)&&(ze=Ge.error.message)}catch(Ge){}throw vr.create("config-fetch-failed",{httpStatus:Ne.status,responseMessage:ze})}return Ne.json()})).apply(this,arguments)}function zu(C){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,F.Z)(function*(C,D=Ga,x){const{appId:U,apiKey:Z,measurementId:le}=C.options;if(!U)throw vr.create("no-app-id");if(!Z){if(le)return{measurementId:le,appId:U};throw vr.create("no-api-key")}const Ne=D.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new Ka;return setTimeout((0,F.Z)(function*(){ze.abort()}),void 0!==x?x:6e4),Ku({appId:U,apiKey:Z,measurementId:le},Ne,ze,D)})).apply(this,arguments)}function Ku(C,D,x){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,F.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:x},U,Z=Ga){const{appId:le,measurementId:Ne}=C;try{yield za(U,D)}catch(ze){if(Ne)return Wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ne} provided in the "measurementId" field in the local Firebase config. [${ze.message}]`),{appId:le,measurementId:Ne};throw ze}try{const ze=yield an(C);return Z.deleteThrottleMetadata(le),ze}catch(ze){if(!jd(ze)){if(Z.deleteThrottleMetadata(le),Ne)return Wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ne} provided in the "measurementId" field in the local Firebase config. [${ze.message}]`),{appId:le,measurementId:Ne};throw ze}const Ge=503===Number(ze.customData.httpStatus)?(0,te.$s)(x,Z.intervalMillis,30):(0,te.$s)(x,Z.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+Ge,backoffCount:x+1};return Z.setThrottleMetadata(le,Tt),Wn.debug(`Calling attemptFetch again in ${Ge} millis`),Ku(C,Tt,U,Z)}})).apply(this,arguments)}function za(C,D){return new Promise((x,U)=>{const Z=Math.max(D-Date.now(),0),le=setTimeout(x,Z);C.addEventListener(()=>{clearTimeout(le),U(vr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function jd(C){if(!(C instanceof te.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Ka{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function Za(){return oa.apply(this,arguments)}function oa(){return(oa=(0,F.Z)(function*(){if(!(0,te.hl)())return Wn.warn(vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(C){return Wn.warn(vr.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function aa(){return(aa=(0,F.Z)(function*(C,D,x,U,Z,le,Ne){var ze;const Ge=zu(C);Ge.then(or=>{x[or.measurementId]=or.appId,C.options.measurementId&&or.measurementId!==C.options.measurementId&&Wn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${or.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(or=>Wn.error(or)),D.push(Ge);const Tt=Za().then(or=>{if(or)return U.getId()}),[Lt,Kn]=yield Promise.all([Ge,Tt]);K_()||ia(le,Lt.measurementId),Z("js",new Date);const sr=null!==(ze=null==Ne?void 0:Ne.config)&&void 0!==ze?ze:{};return sr.origin="firebase",sr.update=!0,null!=Kn&&(sr[on]=Kn),Z("config",Lt.measurementId,sr),Lt.measurementId})).apply(this,arguments)}class pn{constructor(D){this.app=D}_delete(){return delete Cn[this.app.options.appId],Promise.resolve()}}let Cn={},Ya=[];const ht={};let ls,ds,ua="dataLayer",hs=!1;function tl(C,D,x){!function(){const C=[];if((0,te.ru)()&&C.push("This is a browser extension environment."),(0,te.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((U,Z)=>`(${Z+1}) ${U}`).join(" "),x=vr.create("invalid-analytics-context",{errorInfo:D});Wn.warn(x.message)}}();const U=C.options.appId;if(!U)throw vr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw vr.create("no-api-key");Wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Cn[U])throw vr.create("already-exists",{id:U});if(!hs){!function(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(ua);const{wrappedGtag:le,gtagCore:Ne}=function(C,D,x,U,Z){let le=function(...Ne){window[U].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(le=window[Z]),window[Z]=function(C,D,x,U){function le(){return(le=(0,F.Z)(function*(Ne,ze,Ge){try{"event"===Ne?yield Xc(C,D,x,ze,Ge):"config"===Ne?yield Jc(C,D,x,U,ze,Ge):C("set",ze)}catch(Tt){Wn.error(Tt)}})).apply(this,arguments)}return function(Ne,ze,Ge){return le.apply(this,arguments)}}(le,C,D,x),{gtagCore:le,wrappedGtag:window[Z]}}(Cn,Ya,ht,ua,"gtag");ds=le,ls=Ne,hs=!0}return Cn[U]=function(C,D,x,U,Z,le,Ne){return aa.apply(this,arguments)}(C,Ya,ht,D,ls,ua,x),new pn(C)}function nl(){return(nl=(0,F.Z)(function*(C,D,x,U,Z){if(Z&&Z.global)C("event",x,U);else{const le=yield D;C("event",x,Object.assign(Object.assign({},U),{send_to:le}))}})).apply(this,arguments)}function ms(){return ys.apply(this,arguments)}function ys(){return(ys=(0,F.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(C){return!1}})).apply(this,arguments)}const Hd="@firebase/analytics";(0,ce._registerComponent)(new ie.wA(ji,(D,{options:x})=>tl(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ce._registerComponent)(new ie.wA("analytics-internal",function(D){try{const x=D.getProvider(ji).getImmediate();return{logEvent:(U,Z,le)=>function(C,D,x,U){C=(0,te.m9)(C),function(C,D,x,U,Z){return nl.apply(this,arguments)}(ds,Cn[C.app.options.appId],D,x,U).catch(Z=>Wn.error(Z))}(x,U,Z,le)}}catch(x){throw vr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ce.registerVersion)(Hd,"0.7.2"),(0,ce.registerVersion)(Hd,"0.7.2","esm2017");var Ju=V(7771),vn=V(3637),Xu=V(3342),ul=V(3101),ec=V(309);const Af=new m.GfV("7.1.1"),ha="__angularfire_symbol__analyticsIsSupported",cl="__angularfire_symbol__remoteConfigIsSupported",_s="__angularfire_symbol__messagingIsSupported";function Ti(C,D,x){if(D){if(1===D.length)return D[0];const le=D.filter(Ne=>Ne.app===x);if(1===le.length)return le[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[ha]||(globalThis[ha]=ms().then(C=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=C)),globalThis[_s]||(globalThis[_s]=Fd().then(C=>globalThis.__angularfire_symbol__messagingIsSupportedValue=C)),globalThis[cl]||(globalThis[cl]=Gg().then(C=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=C));const bo=(C,D)=>{const x=D?[D]:(0,ee.C6)(),U=[];return x.forEach(Z=>{Z.container.getProvider(C).instances.forEach(Ne=>{U.includes(Ne)||U.push(Ne)})}),U};function tu(){}class Sf{constructor(D,x=Ju.N){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,U){const Z=this.zone;return this.delegate.schedule(function(Ne){Z.runGuarded(()=>{D.apply(this,[Ne])})},x,U)}}class Kr{constructor(D){this.zone=D,this.task=null}call(D,x){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tu,{},tu,tu)),x.pipe((0,Xu.b)({next:U,complete:U,error:U})).subscribe(D).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zr=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Sf(Zone.current)),this.insideAngular=x.run(()=>new Sf(Zone.current,vn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(m.LFG(m.R0b))},C.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function ui(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function xf(C){return ui(),function(C){return function(x){return(x=x.lift(new Kr(C.ngZone))).pipe((0,ul.R)(C.outsideAngular),(0,ec.QV)(C.insideAngular))}}(ui())(C)}},4486:(et,Te,V)=>{"use strict";V.d(Te,{Z:()=>we});var m=V(3854),ee=V(6034),F=V(5452),ce=V(5601);class te{constructor(q,_e){this._delegate=q,this.firebase=_e,(0,F._addComponent)(q,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this._delegate.automaticDataCollectionEnabled=q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(q=>{this._delegate.checkDestroyed(),q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(q,_e=F._DEFAULT_ENTRY_NAME){var ve;this._delegate.checkDestroyed();const pe=this._delegate.container.getProvider(q);return!pe.isInitialized()&&"EXPLICIT"===(null===(ve=pe.getComponent())||void 0===ve?void 0:ve.instantiationMode)&&pe.initialize(),pe.getImmediate({identifier:_e})}_removeServiceInstance(q,_e=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(q).clearInstance(_e)}_addComponent(q){(0,F._addComponent)(this._delegate,q)}_addOrOverwriteComponent(q){(0,F._addOrOverwriteComponent)(this._delegate,q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function W(){const fe=function(fe){const q={},_e={__esModule:!0,initializeApp:function(gt,De={}){const ne=F.initializeApp(gt,De);if((0,m.r3)(q,ne.name))return q[ne.name];const oe=new fe(ne,_e);return q[ne.name]=oe,oe},app:pe,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(gt){const De=gt.name,ne=De.replace("-compat","");if(F._registerComponent(gt)&&"PUBLIC"===gt.type){const oe=(ge=pe())=>{if("function"!=typeof ge[ne])throw Ee.create("invalid-app-argument",{appName:De});return ge[ne]()};void 0!==gt.serviceProps&&(0,m.ZB)(oe,gt.serviceProps),_e[ne]=oe,fe.prototype[ne]=function(...ge){return this._getService.bind(this,De).apply(this,gt.multipleInstances?ge:[])}}return"PUBLIC"===gt.type?_e[ne]:null},removeApp:function(gt){delete q[gt]},useAsService:function(gt,De){return"serverAuth"===De?null:De},modularAPIs:F}};function pe(gt){if(!(0,m.r3)(q,gt=gt||F._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:gt});return q[gt]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function(){return Object.keys(q).map(gt=>q[gt])}}),pe.App=fe,_e}(te);return fe.INTERNAL=Object.assign(Object.assign({},fe.INTERNAL),{createFirebaseNamespace:W,extendNamespace:function(_e){(0,m.ZB)(fe,_e)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),fe}(),L=new ce.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const fe=self.firebase.SDK_VERSION;fe&&fe.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=k;(0,F.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:(et,Te,V)=>{"use strict";V.r(Te),V.d(Te,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>ii,_DEFAULT_ENTRY_NAME:()=>On,_addComponent:()=>Wt,_addOrOverwriteComponent:()=>jn,_apps:()=>Gt,_clearComponents:()=>xt,_components:()=>Pn,_getProvider:()=>ln,_registerComponent:()=>jr,_removeServiceInstance:()=>ut,deleteApp:()=>Fi,getApp:()=>Dr,getApps:()=>si,initializeApp:()=>_i,onLog:()=>bn,registerVersion:()=>oi,setLogLevel:()=>mr});var m=V(8239),ee=V(6034),F=V(5601),ce=V(3854);class te{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(jt=>{if(function(ot){const Re=ot.getComponent();return"VERSION"===(null==Re?void 0:Re.type)}(jt)){const Qt=jt.getImmediate();return`${Qt.library}/${Qt.version}`}return null}).filter(jt=>jt).join(" ")}}const Ee="@firebase/app",W=new F.Yd("@firebase/app"),On="[DEFAULT]",_t={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Gt=new Map,Pn=new Map;function Wt(ot,Re){try{ot.container.addComponent(Re)}catch(jt){W.debug(`Component ${Re.name} failed to register with FirebaseApp ${ot.name}`,jt)}}function jn(ot,Re){ot.container.addOrOverwriteComponent(Re)}function jr(ot){const Re=ot.name;if(Pn.has(Re))return W.debug(`There were multiple attempts to register component ${Re}.`),!1;Pn.set(Re,ot);for(const jt of Gt.values())Wt(jt,ot);return!0}function ln(ot,Re){return ot.container.getProvider(Re)}function ut(ot,Re,jt=On){ln(ot,Re).clearInstance(jt)}function xt(){Pn.clear()}const gr=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class rn{constructor(Re,jt,Qt){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},jt),this._name=jt.name,this._automaticDataCollectionEnabled=jt.automaticDataCollectionEnabled,this._container=Qt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}const ii="9.1.3";function _i(ot,Re={}){"object"!=typeof Re&&(Re={name:Re});const jt=Object.assign({name:On,automaticDataCollectionEnabled:!1},Re),Qt=jt.name;if("string"!=typeof Qt||!Qt)throw gr.create("bad-app-name",{appName:String(Qt)});const dn=Gt.get(Qt);if(dn){if((0,ce.vZ)(ot,dn.options)&&(0,ce.vZ)(jt,dn.config))return dn;throw gr.create("duplicate-app",{appName:Qt})}const kt=new ee.H0(Qt);for(const Qe of Pn.values())kt.addComponent(Qe);const Ye=new rn(ot,jt,kt);return Gt.set(Qt,Ye),Ye}function Dr(ot=On){const Re=Gt.get(ot);if(!Re)throw gr.create("no-app",{appName:ot});return Re}function si(){return Array.from(Gt.values())}function Fi(ot){return es.apply(this,arguments)}function es(){return(es=(0,m.Z)(function*(ot){const Re=ot.name;Gt.has(Re)&&(Gt.delete(Re),yield Promise.all(ot.container.getProviders().map(jt=>jt.delete())),ot.isDeleted=!0)})).apply(this,arguments)}function oi(ot,Re,jt){var Qt;let dn=null!==(Qt=_t[ot])&&void 0!==Qt?Qt:ot;jt&&(dn+=`-${jt}`);const kt=dn.match(/\s|\//),Ye=Re.match(/\s|\//);if(kt||Ye){const Qe=[`Unable to register library "${dn}" with version "${Re}":`];return kt&&Qe.push(`library name "${dn}" contains illegal characters (whitespace or "/")`),kt&&Ye&&Qe.push("and"),Ye&&Qe.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void W.warn(Qe.join(" "))}jr(new ee.wA(`${dn}-version`,()=>({library:dn,version:Re}),"VERSION"))}function bn(ot,Re){if(null!==ot&&"function"!=typeof ot)throw gr.create("invalid-log-argument");(0,F.Am)(ot,Re)}function mr(ot){(0,F.Ub)(ot)}jr(new ee.wA("platform-logger",Re=>new te(Re),"PRIVATE")),oi(Ee,"0.7.4",""),oi(Ee,"0.7.4","esm2017"),oi("fire-js","")},6034:(et,Te,V)=>{"use strict";V.d(Te,{wA:()=>F,H0:()=>he});var m=V(4762),ee=V(3854),F=function(){function W(k,L,Q){this.name=k,this.instanceFactory=L,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return W.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},W.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},W.prototype.setServiceProps=function(k){return this.serviceProps=k,this},W.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},W}(),ce="[DEFAULT]",te=function(){function W(k,L){this.name=k,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return W.prototype.get=function(k){var L=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(L)){var Q=new ee.BH;if(this.instancesDeferred.set(L,Q),this.isInitialized(L)||this.shouldAutoInitialize())try{var K=this.getOrInitializeService({instanceIdentifier:L});K&&Q.resolve(K)}catch(re){}}return this.instancesDeferred.get(L).promise},W.prototype.getImmediate=function(k){var L,Q=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),K=null!==(L=null==k?void 0:k.optional)&&void 0!==L&&L;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(K)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(re){if(K)return null;throw re}},W.prototype.getComponent=function(){return this.component},W.prototype.setComponent=function(k){var L,Q;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(W){return"EAGER"===W.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(pe){}try{for(var K=(0,m.XA)(this.instancesDeferred.entries()),re=K.next();!re.done;re=K.next()){var we=(0,m.CR)(re.value,2),q=we[1],_e=this.normalizeInstanceIdentifier(we[0]);try{var ve=this.getOrInitializeService({instanceIdentifier:_e});q.resolve(ve)}catch(pe){}}}catch(pe){L={error:pe}}finally{try{re&&!re.done&&(Q=K.return)&&Q.call(K)}finally{if(L)throw L.error}}}},W.prototype.clearInstance=function(k){void 0===k&&(k=ce),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},W.prototype.delete=function(){return(0,m.mG)(this,void 0,void 0,function(){var k;return(0,m.Jh)(this,function(L){switch(L.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,m.ev)((0,m.ev)([],(0,m.CR)(k.filter(function(Q){return"INTERNAL"in Q}).map(function(Q){return Q.INTERNAL.delete()}))),(0,m.CR)(k.filter(function(Q){return"_delete"in Q}).map(function(Q){return Q._delete()}))))];case 1:return L.sent(),[2]}})})},W.prototype.isComponentSet=function(){return null!=this.component},W.prototype.isInitialized=function(k){return void 0===k&&(k=ce),this.instances.has(k)},W.prototype.getOptions=function(k){return void 0===k&&(k=ce),this.instancesOptions.get(k)||{}},W.prototype.initialize=function(k){var L,Q;void 0===k&&(k={});var K=k.options,re=void 0===K?{}:K,we=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(we))throw Error(this.name+"("+we+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var fe=this.getOrInitializeService({instanceIdentifier:we,options:re});try{for(var q=(0,m.XA)(this.instancesDeferred.entries()),_e=q.next();!_e.done;_e=q.next()){var ve=(0,m.CR)(_e.value,2),Ie=ve[1];we===this.normalizeInstanceIdentifier(ve[0])&&Ie.resolve(fe)}}catch(Le){L={error:Le}}finally{try{_e&&!_e.done&&(Q=q.return)&&Q.call(q)}finally{if(L)throw L.error}}return fe},W.prototype.onInit=function(k,L){var Q,K=this.normalizeInstanceIdentifier(L),re=null!==(Q=this.onInitCallbacks.get(K))&&void 0!==Q?Q:new Set;re.add(k),this.onInitCallbacks.set(K,re);var we=this.instances.get(K);return we&&k(we,K),function(){re.delete(k)}},W.prototype.invokeOnInitCallbacks=function(k,L){var Q,K,re=this.onInitCallbacks.get(L);if(re)try{for(var we=(0,m.XA)(re),fe=we.next();!fe.done;fe=we.next()){var q=fe.value;try{q(k,L)}catch(_e){}}}catch(_e){Q={error:_e}}finally{try{fe&&!fe.done&&(K=we.return)&&K.call(we)}finally{if(Q)throw Q.error}}},W.prototype.getOrInitializeService=function(k){var L=k.instanceIdentifier,Q=k.options,K=void 0===Q?{}:Q,re=this.instances.get(L);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:ie(L),options:K}),this.instances.set(L,re),this.instancesOptions.set(L,K),this.invokeOnInitCallbacks(re,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,re)}catch(we){}return re||null},W.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=ce),this.component?this.component.multipleInstances?k:ce:k},W.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},W}();function ie(W){return W===ce?void 0:W}var he=function(){function W(k){this.name=k,this.providers=new Map}return W.prototype.addComponent=function(k){var L=this.getProvider(k.name);if(L.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);L.setComponent(k)},W.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},W.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var L=new te(k,this);return this.providers.set(k,L),L},W.prototype.getProviders=function(){return Array.from(this.providers.values())},W}()},5601:(et,Te,V)=>{"use strict";V.d(Te,{in:()=>ee,Yd:()=>Ee,Ub:()=>he,Am:()=>W});const m=[];var ee=(()=>{return(k=ee||(ee={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",ee;var k})();const F={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ce=ee.INFO,te={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ie=(k,L,...Q)=>{if(L<k.logLevel)return;const K=(new Date).toISOString(),re=te[L];if(!re)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[re](`[${K}]  ${k.name}:`,...Q)};class Ee{constructor(L){this.name=L,this._logLevel=ce,this._logHandler=ie,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in ee))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?F[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...L),this._logHandler(this,ee.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...L),this._logHandler(this,ee.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...L),this._logHandler(this,ee.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...L),this._logHandler(this,ee.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...L),this._logHandler(this,ee.ERROR,...L)}}function he(k){m.forEach(L=>{L.setLogLevel(k)})}function W(k,L){for(const Q of m){let K=null;L&&L.level&&(K=F[L.level]),Q.userLogHandler=null===k?null:(re,we,...fe)=>{const q=fe.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch(ve){return null}}).filter(_e=>_e).join(" ");we>=(null!=K?K:re.logLevel)&&k({level:ee[we].toLowerCase(),message:q,args:fe,type:re.name})}}}},3854:(et,Te,V)=>{"use strict";V.d(Te,{BH:()=>K,LL:()=>me,ZR:()=>Pe,zI:()=>oe,US:()=>ie,tV:()=>W,$s:()=>vi,r3:()=>ln,Sg:()=>re,ne:()=>Fi,vZ:()=>gr,ZB:()=>L,pd:()=>Dr,m9:()=>io,z$:()=>we,jU:()=>_e,ru:()=>ve,d:()=>Ie,xb:()=>xt,w1:()=>Fe,hl:()=>De,uI:()=>fe,UG:()=>q,b$:()=>pe,G6:()=>gt,Mn:()=>Le,xO:()=>ii,zd:()=>_i,eu:()=>ne});const ce=function($){const G=[];let j=0;for(let Ae=0;Ae<$.length;Ae++){let se=$.charCodeAt(Ae);se<128?G[j++]=se:se<2048?(G[j++]=se>>6|192,G[j++]=63&se|128):55296==(64512&se)&&Ae+1<$.length&&56320==(64512&$.charCodeAt(Ae+1))?(se=65536+((1023&se)<<10)+(1023&$.charCodeAt(++Ae)),G[j++]=se>>18|240,G[j++]=se>>12&63|128,G[j++]=se>>6&63|128,G[j++]=63&se|128):(G[j++]=se>>12|224,G[j++]=se>>6&63|128,G[j++]=63&se|128)}return G},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,G){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ae=[];for(let se=0;se<$.length;se+=3){const We=$[se],$e=se+1<$.length,Ft=$e?$[se+1]:0,Jt=se+2<$.length,Yt=Jt?$[se+2]:0;let Xt=(15&Ft)<<2|Yt>>6,tr=63&Yt;Jt||(tr=64,$e||(Xt=64)),Ae.push(j[We>>2],j[(3&We)<<4|Ft>>4],j[Xt],j[tr])}return Ae.join("")},encodeString($,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa($):this.encodeByteArray(ce($),G)},decodeString($,G){return this.HAS_NATIVE_SUPPORT&&!G?atob($):function($){const G=[];let j=0,Ae=0;for(;j<$.length;){const se=$[j++];if(se<128)G[Ae++]=String.fromCharCode(se);else if(se>191&&se<224){const We=$[j++];G[Ae++]=String.fromCharCode((31&se)<<6|63&We)}else if(se>239&&se<365){const Jt=((7&se)<<18|(63&$[j++])<<12|(63&$[j++])<<6|63&$[j++])-65536;G[Ae++]=String.fromCharCode(55296+(Jt>>10)),G[Ae++]=String.fromCharCode(56320+(1023&Jt))}else{const We=$[j++],$e=$[j++];G[Ae++]=String.fromCharCode((15&se)<<12|(63&We)<<6|63&$e)}}return G.join("")}(this.decodeStringToByteArray($,G))},decodeStringToByteArray($,G){this.init_();const j=G?this.charToByteMapWebSafe_:this.charToByteMap_,Ae=[];for(let se=0;se<$.length;){const We=j[$.charAt(se++)],Ft=se<$.length?j[$.charAt(se)]:0;++se;const Yt=se<$.length?j[$.charAt(se)]:64;++se;const It=se<$.length?j[$.charAt(se)]:64;if(++se,null==We||null==Ft||null==Yt||null==It)throw Error();Ae.push(We<<2|Ft>>4),64!==Yt&&(Ae.push(Ft<<4&240|Yt>>2),64!==It&&Ae.push(Yt<<6&192|It))}return Ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},he=function($){return function($){const G=ce($);return ie.encodeByteArray(G,!0)}($).replace(/\./g,"")},W=function($){try{return ie.decodeString($,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function L($,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return G}for(const j in G)!G.hasOwnProperty(j)||!Q(j)||($[j]=L($[j],G[j]));return $}function Q($){return"__proto__"!==$}class K{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,j)=>{this.resolve=G,this.reject=j})}wrapCallback(G){return(j,Ae)=>{j?this.reject(j):this.resolve(Ae),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(j):G(j,Ae))}}}function re($,G){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae=G||"demo-project",se=$.iat||0,We=$.sub||$.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${Ae}`,aud:Ae,iat:se,exp:se+3600,auth_time:se,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},$);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify($e)),""].join(".")}function we(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function q(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function _e(){return"object"==typeof self&&self.self===self}function ve(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ie(){return we().indexOf("Electron/")>=0}function Fe(){const $=we();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Le(){return we().indexOf("MSAppHost/")>=0}function gt(){return!q()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function De(){return"object"==typeof indexedDB}function ne(){return new Promise(($,G)=>{try{let j=!0;const Ae="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(Ae);se.onsuccess=()=>{se.result.close(),j||self.indexedDB.deleteDatabase(Ae),$(!0)},se.onupgradeneeded=()=>{j=!1},se.onerror=()=>{var We;G((null===(We=se.error)||void 0===We?void 0:We.message)||"")}}catch(j){G(j)}})}function oe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Pe extends Error{constructor(G,j,Ae){super(j),this.code=G,this.customData=Ae,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,me.prototype.create)}}class me{constructor(G,j,Ae){this.service=G,this.serviceName=j,this.errors=Ae}create(G,...j){const Ae=j[0]||{},se=`${this.service}/${G}`,We=this.errors[G],$e=We?function($,G){return $.replace(Bt,(j,Ae)=>{const se=G[Ae];return null!=se?String(se):`<${Ae}?>`})}(We,Ae):"Error";return new Pe(se,`${this.serviceName}: ${$e} (${se}).`,Ae)}}const Bt=/\{\$([^}]+)}/g;function ln($,G){return Object.prototype.hasOwnProperty.call($,G)}function xt($){for(const G in $)if(Object.prototype.hasOwnProperty.call($,G))return!1;return!0}function gr($,G){if($===G)return!0;const j=Object.keys($),Ae=Object.keys(G);for(const se of j){if(!Ae.includes(se))return!1;const We=$[se],$e=G[se];if(rn(We)&&rn($e)){if(!gr(We,$e))return!1}else if(We!==$e)return!1}for(const se of Ae)if(!j.includes(se))return!1;return!0}function rn($){return null!==$&&"object"==typeof $}function ii($){const G=[];for(const[j,Ae]of Object.entries($))Array.isArray(Ae)?Ae.forEach(se=>{G.push(encodeURIComponent(j)+"="+encodeURIComponent(se))}):G.push(encodeURIComponent(j)+"="+encodeURIComponent(Ae));return G.length?"&"+G.join("&"):""}function _i($){const G={};return $.replace(/^\?/,"").split("&").forEach(Ae=>{if(Ae){const[se,We]=Ae.split("=");G[decodeURIComponent(se)]=decodeURIComponent(We)}}),G}function Dr($){const G=$.indexOf("?");if(!G)return"";const j=$.indexOf("#",G);return $.substring(G,j>0?j:void 0)}function Fi($,G){const j=new es($,G);return j.subscribe.bind(j)}class es{constructor(G,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{G(this)}).catch(Ae=>{this.error(Ae)})}next(G){this.forEachObserver(j=>{j.next(G)})}error(G){this.forEachObserver(j=>{j.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,j,Ae){let se;if(void 0===G&&void 0===j&&void 0===Ae)throw new Error("Missing Observer.");se=function($,G){if("object"!=typeof $||null===$)return!1;for(const j of["next","error","complete"])if(j in $&&"function"==typeof $[j])return!0;return!1}(G)?G:{next:G,error:j,complete:Ae},void 0===se.next&&(se.next=mr),void 0===se.error&&(se.error=mr),void 0===se.complete&&(se.complete=mr);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch($e){}}),this.observers.push(se),We}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,G)}sendOne(G,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{j(this.observers[G])}catch(Ae){"undefined"!=typeof console&&console.error&&console.error(Ae)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mr(){}function vi($,G=1e3,j=2){const Ae=G*Math.pow(j,$),se=Math.round(.5*Ae*(Math.random()-.5)*2);return Math.min(144e5,Ae+se)}function io($){return $&&$._delegate?$._delegate:$}},2329:(et,Te,V)=>{"use strict";V.d(Te,{Mq:()=>m.getApp,C6:()=>m.getApps});var m=V(5452);(0,m.registerVersion)("firebase","9.1.3","app")},7841:(et,Te,V)=>{"use strict";V.d(Te,{Z:()=>m.Z});var m=V(4486);m.Z.registerVersion("firebase","9.1.3","app-compat")},4671:(et,Te,V)=>{"use strict";V.r(Te);var m=V(8239),ee=V(4486),F=V(3854),ce=V(5452),te=V(4762),ie=V(5601),Ee=V(6034);const we=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},fe=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},q=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new ie.Yd("@firebase/auth");function pe(_,...h){ve.logLevel<=ie.in.ERROR&&ve.error(`Auth (${ce.SDK_VERSION}): ${_}`,...h)}function Ie(_,...h){throw gt(_,...h)}function Fe(_,...h){return gt(_,...h)}function Le(_,h,p){const E=Object.assign(Object.assign({},fe()),{[h]:p});return new F.LL("auth","Firebase",E).create(h,{appName:_.name})}function yt(_,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Ie(_,"argument-error"),Le(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gt(_,...h){if("string"!=typeof _){const p=h[0],E=[...h.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(p,...E)}return q.create(_,...h)}function De(_,h,...p){if(!_)throw gt(h,...p)}function ne(_){const h="INTERNAL ASSERTION FAILED: "+_;throw pe(h),new Error(h)}function oe(_,h){_||ne(h)}const ge=new Map;function ue(_){oe(_ instanceof Function,"Expected a class definition");let h=ge.get(_);return h?(oe(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,ge.set(_,h),h)}function it(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Bt(){return"http:"===On()||"https:"===On()}function On(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Pn{constructor(h,p){this.shortDelay=h,this.longDelay=p,oe(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Bt()||(0,F.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Wt(_,h){oe(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class jn{static initialize(h,p,E){this.fetchImpl=h,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ln=new Pn(3e4,6e4);function ut(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function xt(_,h,p,E){return no.apply(this,arguments)}function no(){return(no=(0,m.Z)(function*(_,h,p,E,A={}){return gr(_,A,()=>{let N={},z={};E&&("GET"===h?z=E:N={body:JSON.stringify(E)});const de=(0,F.xO)(Object.assign({key:_.config.apiKey},z)).slice(1),Ue=new(jn.headers());return Ue.set("Content-Type","application/json"),Ue.set("X-Client-Version",_._getSdkClientVersion()),_.languageCode&&Ue.set("X-Firebase-Locale",_.languageCode),jn.fetch()(Dr(_,_.config.apiHost,p,de),Object.assign({method:h,headers:Ue,referrerPolicy:"no-referrer"},N))})})).apply(this,arguments)}function gr(_,h,p){return rn.apply(this,arguments)}function rn(){return(rn=(0,m.Z)(function*(_,h,p){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},jr),h);try{const A=new si(_),N=yield Promise.race([p(),A.promise]);A.clearNetworkTimeout();const z=yield N.json();if("needConfirmation"in z)throw Fi(_,"account-exists-with-different-credential",z);if(N.ok&&!("errorMessage"in z))return z;{const de=N.ok?z.errorMessage:z.error.message,[Ue,Xe]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw Fi(_,"credential-already-in-use",z);if("EMAIL_EXISTS"===Ue)throw Fi(_,"email-already-in-use",z);const Je=E[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw Le(_,Je,Xe);Ie(_,Je)}}catch(A){if(A instanceof F.ZR)throw A;Ie(_,"network-request-failed")}})).apply(this,arguments)}function ii(_,h,p,E){return _i.apply(this,arguments)}function _i(){return(_i=(0,m.Z)(function*(_,h,p,E,A={}){const N=yield xt(_,h,p,E,A);return"mfaPendingCredential"in N&&Ie(_,"multi-factor-auth-required",{serverResponse:N}),N})).apply(this,arguments)}function Dr(_,h,p,E){const A=`${h}${p}?${E}`;return _.config.emulator?Wt(_.config,A):`${_.config.apiScheme}://${A}`}class si{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(Fe(this.auth,"timeout")),ln.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fi(_,h,p){const E={appName:_.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const A=Fe(_,h,E);return A.customData._tokenResponse=p,A}function oi(){return(oi=(0,m.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function bn(_,h){return mr.apply(this,arguments)}function mr(){return(mr=(0,m.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ro(_,h){return ot.apply(this,arguments)}function ot(){return(ot=(0,m.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Re(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function dn(){return(dn=(0,m.Z)(function*(_,h=!1){const p=(0,F.m9)(_),E=yield p.getIdToken(h),A=Ye(E);De(A&&A.exp&&A.auth_time&&A.iat,p.auth,"internal-error");const N="object"==typeof A.firebase?A.firebase:void 0,z=null==N?void 0:N.sign_in_provider;return{claims:A,token:E,authTime:Re(kt(A.auth_time)),issuedAtTime:Re(kt(A.iat)),expirationTime:Re(kt(A.exp)),signInProvider:z||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function kt(_){return 1e3*Number(_)}function Ye(_){const[h,p,E]=_.split(".");if(void 0===h||void 0===p||void 0===E)return pe("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,F.tV)(p);return A?JSON.parse(A):(pe("Failed to decode base64 JWT payload"),null)}catch(A){return pe("Caught error parsing JWT payload as JSON",A),null}}function yn(_,h){return ts.apply(this,arguments)}function ts(){return(ts=(0,m.Z)(function*(_,h,p=!1){if(p)return h;try{return yield h}catch(E){throw E instanceof F.ZR&&vi(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function vi({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class hn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(h);this.timerId=setTimeout((0,m.Z)(function*(){yield p.iteration()}),E)}iteration(){var h=this;return(0,m.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&h.schedule(!0))}h.schedule()})()}}class Tr{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Re(this.lastLoginAt),this.creationTime=Re(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function io(_){return $.apply(this,arguments)}function $(){return($=(0,m.Z)(function*(_){var h;const p=_.auth,E=yield _.getIdToken(),A=yield yn(_,ro(p,{idToken:E}));De(null==A?void 0:A.users.length,p,"internal-error");const N=A.users[0];_._notifyReloadListener(N);const z=(null===(h=N.providerUserInfo)||void 0===h?void 0:h.length)?se(N.providerUserInfo):[],de=Ae(_.providerData,z),Je=!!_.isAnonymous&&!(_.email&&N.passwordHash||(null==de?void 0:de.length)),st={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:de,metadata:new Tr(N.createdAt,N.lastLoginAt),isAnonymous:Je};Object.assign(_,st)})).apply(this,arguments)}function j(){return(j=(0,m.Z)(function*(_){const h=(0,F.m9)(_);yield io(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Ae(_,h){return[..._.filter(E=>!h.some(A=>A.providerId===E.providerId)),...h]}function se(_){return _.map(h=>{var{providerId:p}=h,E=(0,te._T)(h,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function $e(){return($e=(0,m.Z)(function*(_,h){const p=yield gr(_,{},()=>{const E=(0,F.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:A,apiKey:N}=_.config,z=Dr(_,A,"/v1/token",`key=${N}`);return jn.fetch()(z,{method:"POST",headers:{"X-Client-Version":_._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:E})});return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){De(h.idToken,"internal-error"),De(void 0!==h.idToken,"internal-error"),De(void 0!==h.refreshToken,"internal-error");const p="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function(_){const h=Ye(_);return De(h,"internal-error"),De(void 0!==h.exp,"internal-error"),De(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var E=this;return(0,m.Z)(function*(){return De(!E.accessToken||E.refreshToken,h,"user-token-expired"),p||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(h,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var E=this;return(0,m.Z)(function*(){const{accessToken:A,refreshToken:N,expiresIn:z}=yield function(_,h){return $e.apply(this,arguments)}(h,p);E.updateTokensAndExpiration(A,N,Number(z))})()}updateTokensAndExpiration(h,p,E){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(h,p){const{refreshToken:E,accessToken:A,expirationTime:N}=p,z=new Ft;return E&&(De("string"==typeof E,"internal-error",{appName:h}),z.refreshToken=E),A&&(De("string"==typeof A,"internal-error",{appName:h}),z.accessToken=A),N&&(De("number"==typeof N,"internal-error",{appName:h}),z.expirationTime=N),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ft,this.toJSON())}_performRefresh(){return ne("not implemented")}}function Jt(_,h){De("string"==typeof _||void 0===_,"internal-error",{appName:h})}class Yt{constructor(h){var{uid:p,auth:E,stsTokenManager:A}=h,N=(0,te._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.metadata=new Tr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,m.Z)(function*(){const E=yield yn(p,p.stsTokenManager.getToken(p.auth,h));return De(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(h){return function(_){return dn.apply(this,arguments)}(this,h)}reload(){return function(_){return j.apply(this,arguments)}(this)}_assign(h){this!==h&&(De(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Yt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var E=this;return(0,m.Z)(function*(){let A=!1;h.idToken&&h.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(h),A=!0),p&&(yield io(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var h=this;return(0,m.Z)(function*(){const p=yield h.getIdToken();return yield yn(h,function(_,h){return oi.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var E,A,N,z,de,Ue,Xe,Je;const st=null!==(E=p.displayName)&&void 0!==E?E:void 0,Fn=null!==(A=p.email)&&void 0!==A?A:void 0,hi=null!==(N=p.phoneNumber)&&void 0!==N?N:void 0,Xr=null!==(z=p.photoURL)&&void 0!==z?z:void 0,th=null!==(de=p.tenantId)&&void 0!==de?de:void 0,Qf=null!==(Ue=p._redirectEventId)&&void 0!==Ue?Ue:void 0,vm=null!==(Xe=p.createdAt)&&void 0!==Xe?Xe:void 0,Jf=null!==(Je=p.lastLoginAt)&&void 0!==Je?Je:void 0,{uid:Xf,emailVerified:ep,isAnonymous:Em,providerData:nh,stsTokenManager:wm}=p;De(Xf&&wm,h,"internal-error");const Gi=Ft.fromJSON(this.name,wm);De("string"==typeof Xf,h,"internal-error"),Jt(st,h.name),Jt(Fn,h.name),De("boolean"==typeof ep,h,"internal-error"),De("boolean"==typeof Em,h,"internal-error"),Jt(hi,h.name),Jt(Xr,h.name),Jt(th,h.name),Jt(Qf,h.name),Jt(vm,h.name),Jt(Jf,h.name);const En=new Yt({uid:Xf,auth:h,email:Fn,emailVerified:ep,displayName:st,isAnonymous:Em,photoURL:Xr,phoneNumber:hi,tenantId:th,stsTokenManager:Gi,createdAt:vm,lastLoginAt:Jf});return nh&&Array.isArray(nh)&&(En.providerData=nh.map(ab=>Object.assign({},ab))),Qf&&(En._redirectEventId=Qf),En}static _fromIdTokenResponse(h,p,E=!1){return(0,m.Z)(function*(){const A=new Ft;A.updateFromServerResponse(p);const N=new Yt({uid:p.localId,auth:h,stsTokenManager:A,isAnonymous:E});return yield io(N),N})()}}const It=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(p,E){var A=this;return(0,m.Z)(function*(){A.storage[p]=E})()}_get(p){var E=this;return(0,m.Z)(function*(){const A=E.storage[p];return void 0===A?null:A})()}_remove(p){var E=this;return(0,m.Z)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return _.type="NONE",_})();function Xt(_,h,p){return`firebase:${_}:${h}:${p}`}class tr{constructor(h,p,E){this.persistence=h,this.auth=p,this.userKey=E;const{config:A,name:N}=this.auth;this.fullUserKey=Xt(this.userKey,A.apiKey,N),this.fullPersistenceKey=Xt("persistence",A.apiKey,N),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,m.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Yt._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,m.Z)(function*(){if(p.persistence===h)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,E="authUser"){return(0,m.Z)(function*(){if(!p.length)return new tr(ue(It),h,E);const A=(yield Promise.all(p.map(function(){var Xe=(0,m.Z)(function*(Je){if(yield Je._isAvailable())return Je});return function(Je){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let N=A[0]||ue(It);const z=Xt(E,h.config.apiKey,h.name);let de=null;for(const Xe of p)try{const Je=yield Xe._get(z);if(Je){const st=Yt._fromJSON(h,Je);Xe!==N&&(de=st),N=Xe;break}}catch(Je){}const Ue=A.filter(Xe=>Xe._shouldAllowMigration);return N._shouldAllowMigration&&Ue.length?(N=Ue[0],de&&(yield N._set(z,de.toJSON())),yield Promise.all(p.map(function(){var Xe=(0,m.Z)(function*(Je){if(Je!==N)try{yield Je._remove(z)}catch(st){}});return function(Je){return Xe.apply(this,arguments)}}())),new tr(N,h,E)):new tr(N,h,E)})()}}function Nu(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Mu(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if($o(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Na(h))return"Blackberry";if(Ss(h))return"Webos";if(Uc(h))return"Safari";if((h.includes("chrome/")||Ra(h))&&!h.includes("edge/"))return"Chrome";if(As(h))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function $o(_=(0,F.z$)()){return/firefox\//i.test(_)}function Uc(_=(0,F.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Ra(_=(0,F.z$)()){return/crios\//i.test(_)}function Mu(_=(0,F.z$)()){return/iemobile/i.test(_)}function As(_=(0,F.z$)()){return/android/i.test(_)}function Na(_=(0,F.z$)()){return/blackberry/i.test(_)}function Ss(_=(0,F.z$)()){return/webos/i.test(_)}function Ei(_=(0,F.z$)()){return/iphone|ipad|ipod/i.test(_)}function ns(_=(0,F.z$)()){return Ei(_)||As(_)||Ss(_)||Na(_)||/windows phone/i.test(_)||Mu(_)}function $n(_,h=[]){let p;switch(_){case"Browser":p=Nu((0,F.z$)());break;case"Worker":p=`${Nu((0,F.z$)())}-${_}`;break;default:p=_}const E=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${ce.SDK_VERSION}/${E}`}class Id{constructor(h,p){this.app=h,this.config=p,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Be(this),this.idTokenSubscription=new Be(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=p.sdkClientVersion}_initializeWithPersistence(h,p){var E=this;return p&&(this._popupRedirectResolver=ue(p)),this._initializationPromise=this.queue((0,m.Z)(function*(){var A;E._deleted||(E.persistenceManager=yield tr.create(E,h),!E._deleted&&((null===(A=E._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)&&(yield E._popupRedirectResolver._initialize(E)),yield E.initializeCurrentUser(p),!E._deleted&&(E._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,m.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p)}})()}initializeCurrentUser(h){var p=this;return(0,m.Z)(function*(){var E;let A=yield p.assertedPersistence.getCurrentUser();if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const N=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,z=null==A?void 0:A._redirectEventId,de=yield p.tryRedirectSignIn(h);(!N||N===z)&&(null==de?void 0:de.user)&&(A=de.user)}return A?A._redirectEventId?(De(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===A._redirectEventId?p.directlySetCurrentUser(A):p.reloadAndSetCurrentUserOrClear(A)):p.reloadAndSetCurrentUserOrClear(A):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var p=this;return(0,m.Z)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch(A){yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,m.Z)(function*(){try{yield io(h)}catch(E){if("auth/network-request-failed"!==E.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,m.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,m.Z)(function*(){const E=h?(0,F.m9)(h):null;return E&&De(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,m.Z)(function*(){if(!p._deleted)return h&&De(p.tenantId===h.tenantId,p,"tenant-id-mismatch"),p.queue((0,m.Z)(function*(){yield p.directlySetCurrentUser(h),p.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,m.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var p=this;return this.queue((0,m.Z)(function*(){yield p.assertedPersistence.setPersistence(ue(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new F.LL("auth","Firebase",h())}onAuthStateChanged(h,p,E){return this.registerStateListener(this.authStateSubscription,h,p,E)}onIdTokenChanged(h,p,E){return this.registerStateListener(this.idTokenSubscription,h,p,E)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var E=this;return(0,m.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(p);return null===h?A.removeCurrentUser():A.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,m.Z)(function*(){if(!p.redirectPersistenceManager){const E=h&&ue(h)||p._popupRedirectResolver;De(E,p,"argument-error"),p.redirectPersistenceManager=yield tr.create(p,[ue(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,m.Z)(function*(){var E,A;return p._isInitialized&&(yield p.queue((0,m.Z)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===h?p._currentUser:(null===(A=p.redirectUser)||void 0===A?void 0:A._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,m.Z)(function*(){if(h===p.currentUser)return p.queue((0,m.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,E,A){if(this._deleted)return()=>{};const N="function"==typeof p?p:p.next.bind(p),z=this._isInitialized?Promise.resolve():this._initializationPromise;return De(z,this,"internal-error"),z.then(()=>N(this.currentUser)),"function"==typeof p?h.addObserver(p,E,A):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,m.Z)(function*(){p.currentUser&&p.currentUser!==h&&(p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh()),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=$n(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function $t(_){return(0,F.m9)(_)}class Be{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,F.ne)(p=>this.observer=p)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function en(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function rs(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class rr{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return ne("not implemented")}_getIdTokenResponse(h){return ne("not implemented")}_linkToIdToken(h,p){return ne("not implemented")}_getReauthenticationResolver(h){return ne("not implemented")}}function fn(_,h){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,m.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:resetPassword",ut(_,h))})).apply(this,arguments)}function Ho(_,h){return mt.apply(this,arguments)}function mt(){return(mt=(0,m.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ma(_,h){return is.apply(this,arguments)}function is(){return(is=(0,m.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:update",ut(_,h))})).apply(this,arguments)}function wi(){return(wi=(0,m.Z)(function*(_,h){return ii(_,"POST","/v1/accounts:signInWithPassword",ut(_,h))})).apply(this,arguments)}function Hn(_,h){return oo.apply(this,arguments)}function oo(){return(oo=(0,m.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:sendOobCode",ut(_,h))})).apply(this,arguments)}function xs(_,h){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,m.Z)(function*(_,h){return Hn(_,h)})).apply(this,arguments)}function zt(_,h){return ao.apply(this,arguments)}function ao(){return(ao=(0,m.Z)(function*(_,h){return Hn(_,h)})).apply(this,arguments)}function Dd(_,h){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,m.Z)(function*(_,h){return Hn(_,h)})).apply(this,arguments)}function Td(_,h){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,m.Z)(function*(_,h){return Hn(_,h)})).apply(this,arguments)}function Ns(){return(Ns=(0,m.Z)(function*(_,h){return ii(_,"POST","/v1/accounts:signInWithEmailLink",ut(_,h))})).apply(this,arguments)}function jc(){return(jc=(0,m.Z)(function*(_,h){return ii(_,"POST","/v1/accounts:signInWithEmailLink",ut(_,h))})).apply(this,arguments)}class Gr extends rr{constructor(h,p,E,A=null){super("password",E),this._email=h,this._password=p,this._tenantId=A}static _fromEmailAndPassword(h,p){return new Gr(h,p,"password")}static _fromEmailAndCode(h,p,E=null){return new Gr(h,p,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,m.Z)(function*(){switch(p.signInMethod){case"password":return function(_,h){return wi.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function(_,h){return Ns.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Ie(h,"internal-error")}})()}_linkToIdToken(h,p){var E=this;return(0,m.Z)(function*(){switch(E.signInMethod){case"password":return Ho(h,{idToken:p,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(_,h){return jc.apply(this,arguments)}(h,{idToken:p,email:E._email,oobCode:E._password});default:Ie(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Ht(_,h){return ka.apply(this,arguments)}function ka(){return(ka=(0,m.Z)(function*(_,h){return ii(_,"POST","/v1/accounts:signInWithIdp",ut(_,h))})).apply(this,arguments)}class qr extends rr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new qr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Ie("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:A}=p,N=(0,te._T)(p,["providerId","signInMethod"]);if(!E||!A)return null;const z=new qr(E,A);return z.idToken=N.idToken||void 0,z.accessToken=N.accessToken||void 0,z.secret=N.secret,z.nonce=N.nonce,z.pendingToken=N.pendingToken||null,z}_getIdTokenResponse(h){return Ht(h,this.buildRequest())}_linkToIdToken(h,p){const E=this.buildRequest();return E.idToken=p,Ht(h,E)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Ht(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,F.xO)(p)}return h}}function bi(_,h){return $c.apply(this,arguments)}function $c(){return($c=(0,m.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:sendVerificationCode",ut(_,h))})).apply(this,arguments)}function Go(){return(Go=(0,m.Z)(function*(_,h){return ii(_,"POST","/v1/accounts:signInWithPhoneNumber",ut(_,h))})).apply(this,arguments)}function Ad(){return(Ad=(0,m.Z)(function*(_,h){const p=yield ii(_,"POST","/v1/accounts:signInWithPhoneNumber",ut(_,h));if(p.temporaryProof)throw Fi(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const jg={USER_NOT_FOUND:"user-not-found"};function Sd(){return(Sd=(0,m.Z)(function*(_,h){return ii(_,"POST","/v1/accounts:signInWithPhoneNumber",ut(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),jg)})).apply(this,arguments)}class qo extends rr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new qo({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new qo({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function(_,h){return Go.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function(_,h){return Ad.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function(_,h){return Sd.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:E,verificationCode:A}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:E,code:A}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:E,phoneNumber:A,temporaryProof:N}=h;return E||p||A||N?new qo({verificationId:p,verificationCode:E,phoneNumber:A,temporaryProof:N}):null}}class Wo{constructor(h){var p,E,A,N,z,de;const Ue=(0,F.zd)((0,F.pd)(h)),Xe=null!==(p=Ue.apiKey)&&void 0!==p?p:null,Je=null!==(E=Ue.oobCode)&&void 0!==E?E:null,st=function(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ue.mode)&&void 0!==A?A:null);De(Xe&&Je&&st,"argument-error"),this.apiKey=Xe,this.operation=st,this.code=Je,this.continueUrl=null!==(N=Ue.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(z=Ue.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(de=Ue.tenantId)&&void 0!==de?de:null}static parseLink(h){const p=function(_){const h=(0,F.zd)((0,F.pd)(_)).link,p=h?(0,F.zd)((0,F.pd)(h)).deep_link_id:null,E=(0,F.zd)((0,F.pd)(_)).deep_link_id;return(E?(0,F.zd)((0,F.pd)(E)).link:null)||E||p||h||_}(h);try{return new Wo(p)}catch(E){return null}}}let ku=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,E){return Gr._fromEmailAndPassword(p,E)}static credentialWithLink(p,E){const A=Wo.parseLink(E);return De(A,"argument-error"),Gr._fromEmailAndCode(p,A.code,A.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class co{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Fa extends co{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ms extends Fa{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return De("providerId"in p&&"signInMethod"in p,"argument-error"),qr._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return De(h.idToken||h.accessToken,"argument-error"),qr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Ms.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Ms.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:N,nonce:z,providerId:de}=h;if(!E&&!A&&!p&&!N||!de)return null;try{return new Ms(de)._credential({idToken:p,accessToken:E,nonce:z,pendingToken:N})}catch(Ue){return null}}}let Hc=(()=>{class _ extends Fa{constructor(){super("facebook.com")}static credential(p){return qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(E){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Fu=(()=>{class _ extends Fa{constructor(){super("google.com"),this.addScope("profile")}static credential(p,E){return qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:E})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:E,oauthAccessToken:A}=p;if(!E&&!A)return null;try{return _.credential(E,A)}catch(N){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Gc=(()=>{class _ extends Fa{constructor(){super("github.com")}static credential(p){return qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(E){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class zo extends rr{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return Ht(h,this.buildRequest())}_linkToIdToken(h,p){const E=this.buildRequest();return E.idToken=p,Ht(h,E)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Ht(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:A,pendingToken:N}=p;return E&&A&&N&&E===A?new zo(E,N):null}static _create(h,p){return new zo(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Ci=(()=>{class _ extends Fa{constructor(){super("twitter.com")}static credential(p,E){return qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:E})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=p;if(!E||!A)return null;try{return _.credential(E,A)}catch(N){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function qc(_,h){return lo.apply(this,arguments)}function lo(){return(lo=(0,m.Z)(function*(_,h){return ii(_,"POST","/v1/accounts:signUp",ut(_,h))})).apply(this,arguments)}class Ii{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,E,A=!1){return(0,m.Z)(function*(){const N=yield Yt._fromIdTokenResponse(h,E,A),z=xd(E);return new Ii({user:N,providerId:z,_tokenResponse:E,operationType:p})})()}static _forOperation(h,p,E){return(0,m.Z)(function*(){yield h._updateTokensIfNecessary(E,!0);const A=xd(E);return new Ii({user:h,providerId:A,_tokenResponse:E,operationType:p})})()}}function xd(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ho(){return(ho=(0,m.Z)(function*(_){var h;const p=$t(_);if(yield p._initializationPromise,null===(h=p.currentUser)||void 0===h?void 0:h.isAnonymous)return new Ii({user:p.currentUser,providerId:null,operationType:"signIn"});const E=yield qc(p,{returnSecureToken:!0}),A=yield Ii._fromIdTokenResponse(p,"signIn",E,!0);return yield p._updateCurrentUser(A.user),A})).apply(this,arguments)}class Lu extends F.ZR{constructor(h,p,E,A){var N;super(p.code,p.message),this.operationType=E,this.user=A,this.name="FirebaseError",Object.setPrototypeOf(this,Lu.prototype),this.appName=h.name,this.code=p.code,this.tenantId=null!==(N=h.tenantId)&&void 0!==N?N:void 0,this.serverResponse=p.customData.serverResponse}static _fromErrorAndOperation(h,p,E,A){return new Lu(h,p,E,A)}}function La(_,h,p,E){return("reauthenticate"===h?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Lu._fromErrorAndOperation(_,N,h,E):N})}function Rd(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function Ko(){return(Ko=(0,m.Z)(function*(_,h){const p=(0,F.m9)(_);yield Li(!0,p,h);const{providerUserInfo:E}=yield bn(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),A=Rd(E||[]);return p.providerData=p.providerData.filter(N=>A.has(N.providerId)),A.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Zo(_,h){return Os.apply(this,arguments)}function Os(){return(Os=(0,m.Z)(function*(_,h,p=!1){const E=yield yn(_,h._linkToIdToken(_.auth,yield _.getIdToken()),p);return Ii._forOperation(_,"link",E)})).apply(this,arguments)}function Li(_,h,p){return fo.apply(this,arguments)}function fo(){return(fo=(0,m.Z)(function*(_,h,p){yield io(h);const A=!1===_?"provider-already-linked":"no-such-provider";De(Rd(h.providerData).has(p)===_,h.auth,A)})).apply(this,arguments)}function Yo(_,h){return sn.apply(this,arguments)}function sn(){return(sn=(0,m.Z)(function*(_,h,p=!1){const{auth:E}=_,A="reauthenticate";try{const N=yield yn(_,La(E,A,h,_),p);De(N.idToken,E,"internal-error");const z=Ye(N.idToken);De(z,E,"internal-error");const{sub:de}=z;return De(_.uid===de,E,"user-mismatch"),Ii._forOperation(_,A,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&Ie(E,"user-mismatch"),N}})).apply(this,arguments)}function Vu(_,h){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,m.Z)(function*(_,h,p=!1){const E="signIn",A=yield La(_,E,h),N=yield Ii._fromIdTokenResponse(_,E,A);return p||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Uu(_,h){return bt.apply(this,arguments)}function bt(){return(bt=(0,m.Z)(function*(_,h){return Vu($t(_),h)})).apply(this,arguments)}function Nd(_,h){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,m.Z)(function*(_,h){const p=(0,F.m9)(_);return yield Li(!1,p,h.providerId),Zo(p,h)})).apply(this,arguments)}function Va(_,h){return _r.apply(this,arguments)}function _r(){return(_r=(0,m.Z)(function*(_,h){return Yo((0,F.m9)(_),h)})).apply(this,arguments)}function wf(_,h){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,m.Z)(function*(_,h){return ii(_,"POST","/v1/accounts:signInWithCustomToken",ut(_,h))})).apply(this,arguments)}function qn(){return(qn=(0,m.Z)(function*(_,h){const p=$t(_),E=yield wf(p,{token:h,returnSecureToken:!0}),A=yield Ii._fromIdTokenResponse(p,"signIn",E);return yield p._updateCurrentUser(A.user),A})).apply(this,arguments)}class go{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?Jo._fromServerResponse(h,p):Ie(h,"internal-error")}}class Jo extends go{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new Jo(p)}}function Ua(_,h,p){var E;De((null===(E=p.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),De(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(De(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(De(p.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function Xo(){return(Xo=(0,m.Z)(function*(_,h,p){const E=(0,F.m9)(_),A={requestType:"PASSWORD_RESET",email:h};p&&Ua(E,A,p),yield zt(E,A)})).apply(this,arguments)}function ct(){return(ct=(0,m.Z)(function*(_,h,p){yield fn((0,F.m9)(_),{oobCode:h,newPassword:p})})).apply(this,arguments)}function ss(){return(ss=(0,m.Z)(function*(_,h){yield Ma((0,F.m9)(_),{oobCode:h})})).apply(this,arguments)}function ea(_,h){return mo.apply(this,arguments)}function mo(){return(mo=(0,m.Z)(function*(_,h){const p=(0,F.m9)(_),E=yield fn(p,{oobCode:h}),A=E.requestType;switch(De(A,p,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(E.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(E.mfaInfo,p,"internal-error");default:De(E.email,p,"internal-error")}let N=null;return E.mfaInfo&&(N=go._fromServerResponse($t(p),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:A}})).apply(this,arguments)}function os(){return(os=(0,m.Z)(function*(_,h){const{data:p}=yield ea((0,F.m9)(_),h);return p.email})).apply(this,arguments)}function Se(){return(Se=(0,m.Z)(function*(_,h,p){const E=$t(_),A=yield qc(E,{returnSecureToken:!0,email:h,password:p}),N=yield Ii._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}function _n(){return(_n=(0,m.Z)(function*(_,h,p){const E=(0,F.m9)(_),A={requestType:"EMAIL_SIGNIN",email:h};De(p.handleCodeInApp,E,"argument-error"),p&&Ua(E,A,p),yield Dd(E,A)})).apply(this,arguments)}function ai(){return(ai=(0,m.Z)(function*(_,h,p){const E=(0,F.m9)(_),A=ku.credentialWithLink(h,p||it());return De(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Uu(E,A)})).apply(this,arguments)}function Ba(_,h){return ks.apply(this,arguments)}function ks(){return(ks=(0,m.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:createAuthUri",ut(_,h))})).apply(this,arguments)}function $u(){return($u=(0,m.Z)(function*(_,h){const E={identifier:h,continueUri:Bt()?it():"http://localhost"},{signinMethods:A}=yield Ba((0,F.m9)(_),E);return A||[]})).apply(this,arguments)}function Ui(){return(Ui=(0,m.Z)(function*(_,h){const p=(0,F.m9)(_),A={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&Ua(p.auth,A,h);const{email:N}=yield xs(p.auth,A);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function xr(){return(xr=(0,m.Z)(function*(_,h,p){const E=(0,F.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};p&&Ua(E.auth,N,p);const{email:z}=yield Td(E.auth,N);z!==_.email&&(yield _.reload())})).apply(this,arguments)}function Hu(_,h){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,m.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ja(){return(ja=(0,m.Z)(function*(_,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const E=(0,F.m9)(_),N={idToken:yield E.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},z=yield yn(E,Hu(E.auth,N));E.displayName=z.displayName||null,E.photoURL=z.photoUrl||null;const de=E.providerData.find(({providerId:Ue})=>"password"===Ue);de&&(de.displayName=E.displayName,de.photoURL=E.photoURL),yield E._updateTokensIfNecessary(z)})).apply(this,arguments)}function $a(_,h,p){return ra.apply(this,arguments)}function ra(){return(ra=(0,m.Z)(function*(_,h,p){const{auth:E}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(N.email=h),p&&(N.password=p);const z=yield yn(_,Ho(E,N));yield _._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class yo{constructor(h,p,E={}){this.isNewUser=h,this.providerId=p,this.profile=E}}class Zc extends yo{constructor(h,p,E,A){super(h,p,E),this.username=A}}class bf extends yo{constructor(h,p){super(h,"facebook.com",p)}}class Fd extends Zc{constructor(h,p){super(h,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class _o extends yo{constructor(h,p){super(h,"google.com",p)}}class Ld extends Zc{constructor(h,p,E){super(h,"twitter.com",p,E)}}function qu(_){const{user:h,_tokenResponse:p}=_;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function(_){var h,p;if(!_)return null;const{providerId:E}=_,A=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&(null==_?void 0:_.idToken)){const z=null===(p=null===(h=Ye(_.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(z)return new yo(N,"anonymous"!==z&&"custom"!==z?z:null)}if(!E)return null;switch(E){case"facebook.com":return new bf(N,A);case"github.com":return new Fd(N,A);case"google.com":return new _o(N,A);case"twitter.com":return new Ld(N,A,_.screenName||null);case"custom":case"anonymous":return new yo(N,null);default:return new yo(N,E,A)}}(p)}class us{constructor(h,p){this.type=h,this.credential=p}static _fromIdtoken(h){return new us("enroll",h)}static _fromMfaPendingCredential(h){return new us("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,E;if(null==h?void 0:h.multiFactorSession){if(null===(p=h.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return us._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(E=h.multiFactorSession)||void 0===E?void 0:E.idToken)return us._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Yc{constructor(h,p,E){this.session=h,this.hints=p,this.signInResolver=E}static _fromError(h,p){const E=$t(h),A=(p.serverResponse.mfaInfo||[]).map(z=>go._fromServerResponse(E,z));De(p.serverResponse.mfaPendingCredential,E,"internal-error");const N=us._fromMfaPendingCredential(p.serverResponse.mfaPendingCredential);return new Yc(N,A,function(){var z=(0,m.Z)(function*(de){const Ue=yield de._process(E,N);delete p.serverResponse.mfaInfo,delete p.serverResponse.mfaPendingCredential;const Xe=Object.assign(Object.assign({},p.serverResponse),{idToken:Ue.idToken,refreshToken:Ue.refreshToken});switch(p.operationType){case"signIn":const Je=yield Ii._fromIdTokenResponse(E,p.operationType,Xe);return yield E._updateCurrentUser(Je.user),Je;case"reauthenticate":return De(p.user,E,"internal-error"),Ii._forOperation(p.user,p.operationType,Xe);default:Ie(E,"internal-error")}});return function(de){return z.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,m.Z)(function*(){return p.signInResolver(h)})()}}function Ud(_,h){return xt(_,"POST","/v2/accounts/mfaEnrollment:start",ut(_,h))}class ia{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(E=>go._fromServerResponse(h.auth,E)))})}static _fromUser(h){return new ia(h)}getSession(){var h=this;return(0,m.Z)(function*(){return us._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,p){var E=this;return(0,m.Z)(function*(){const A=h,N=yield E.getSession(),z=yield yn(E.user,A._process(E.user.auth,N,p));return yield E.user._updateTokensIfNecessary(z),E.user.reload()})()}unenroll(h){var p=this;return(0,m.Z)(function*(){const E="string"==typeof h?h:h.uid,A=yield p.user.getIdToken(),N=yield yn(p.user,function(_,h){return xt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",ut(_,h))}(p.user.auth,{idToken:A,mfaEnrollmentId:E}));p.enrolledFactors=p.enrolledFactors.filter(({uid:z})=>z!==E),yield p.user._updateTokensIfNecessary(N);try{yield p.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const sa=new WeakMap,vo="__sak";class Xc{constructor(h,p){this.storage=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(vo,"1"),this.storage.removeItem(vo),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}}const Wu=(()=>{class _ extends Xc{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const _=(0,F.z$)();return Uc(_)||Ei(_)}()&&function(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=ns(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),N=this.localCache[E];A!==N&&p(E,N,A)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((de,Ue,Xe)=>{this.notifyListeners(de,Xe)});const A=p.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(A);if(p.newValue!==de)null!==p.newValue?this.storage.setItem(A,p.newValue):this.storage.removeItem(A);else if(this.localCache[A]===p.newValue&&!E)return}const N=()=>{const de=this.storage.getItem(A);!E&&this.localCache[A]===de||this.notifyListeners(A,de)},z=this.storage.getItem(A);(0,F.w1)()&&10===document.documentMode&&z!==p.newValue&&p.newValue!==p.oldValue?setTimeout(N,10):N()}notifyListeners(p,E){this.localCache[p]=E;const A=this.listeners[p];if(A)for(const N of Array.from(A))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var A=()=>super._set,N=this;return(0,m.Z)(function*(){yield A().call(N,p,E),N.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,A=this;return(0,m.Z)(function*(){const N=yield E().call(A,p);return A.localCache[p]=JSON.stringify(N),N})()}_remove(p){var E=()=>super._remove,A=this;return(0,m.Z)(function*(){yield E().call(A,p),delete A.localCache[p]})()}}return _.type="LOCAL",_})(),cs=(()=>{class _ extends Xc{constructor(){super(window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return _.type="SESSION",_})();let Ls=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(N=>N.isListeningto(p));if(E)return E;const A=new _(p);return this.receivers.push(A),A}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,m.Z)(function*(){const A=p,{eventId:N,eventType:z,data:de}=A.data,Ue=E.handlersMap[z];if(!(null==Ue?void 0:Ue.size))return;A.ports[0].postMessage({status:"ack",eventId:N,eventType:z});const Xe=Array.from(Ue).map(function(){var st=(0,m.Z)(function*(Fn){return Fn(A.origin,de)});return function(Fn){return st.apply(this,arguments)}}()),Je=yield function(_){return Promise.all(_.map(function(){var h=(0,m.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return h.apply(this,arguments)}}()))}(Xe);A.ports[0].postMessage({status:"done",eventId:N,eventType:z,response:Je})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Ga(_="",h=10){let p="";for(let E=0;E<h;E++)p+=Math.floor(10*Math.random());return _+p}class zg{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,E=50){var A=this;return(0,m.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let z,de;return new Promise((Ue,Xe)=>{const Je=Ga("",20);N.port1.start();const st=setTimeout(()=>{Xe(new Error("unsupported_event"))},E);de={messageChannel:N,onMessage(Fn){const hi=Fn;if(hi.data.eventId===Je)switch(hi.data.status){case"ack":clearTimeout(st),z=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Ue(hi.data.response);break;default:clearTimeout(st),clearTimeout(z),Xe(new Error("invalid_response"))}}},A.handlers.add(de),N.port1.addEventListener("message",de.onMessage),A.target.postMessage({eventType:h,eventId:Je,data:p},[N.port2])}).finally(()=>{de&&A.removeMessageHandler(de)})})()}}function an(){return window}function zu(){return void 0!==an().WorkerGlobalScope&&"function"==typeof an().importScripts}function Ku(){return(Ku=(0,m.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const jd="firebaseLocalStorageDb",Za="firebaseLocalStorage",oa="fbase_key";class Yu{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function aa(_,h){return _.transaction([Za],h?"readwrite":"readonly").objectStore(Za)}function Cn(){const _=indexedDB.open(jd,1);return new Promise((h,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(Za,{keyPath:oa})}catch(A){p(A)}}),_.addEventListener("success",(0,m.Z)(function*(){const E=_.result;E.objectStoreNames.contains(Za)?h(E):(E.close(),yield function(){const _=indexedDB.deleteDatabase(jd);return new Yu(_).toPromise()}(),h(yield Cn()))}))})}function Ya(_,h,p){return ht.apply(this,arguments)}function ht(){return(ht=(0,m.Z)(function*(_,h,p){const E=aa(_,!0).put({[oa]:h,value:p});return new Yu(E).toPromise()})).apply(this,arguments)}function ca(){return(ca=(0,m.Z)(function*(_,h){const p=aa(_,!1).get(h),E=yield new Yu(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function ls(_,h){const p=aa(_,!0).delete(h);return new Yu(p).toPromise()}const la=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,m.Z)(function*(){return p.db||(p.db=yield Cn()),p.db})()}_withRetries(p){var E=this;return(0,m.Z)(function*(){let A=0;for(;;)try{const N=yield E._openDb();return yield p(N)}catch(N){if(A++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,m.Z)(function*(){return zu()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,m.Z)(function*(){p.receiver=Ls._getInstance(zu()?self:null),p.receiver._subscribe("keyChanged",function(){var E=(0,m.Z)(function*(A,N){return{keyProcessed:(yield p._poll()).includes(N.key)}});return function(A,N){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,m.Z)(function*(A,N){return["keyChanged"]});return function(A,N){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,m.Z)(function*(){var E,A;if(p.activeServiceWorker=yield function(){return Ku.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new zg(p.activeServiceWorker);const N=yield p.sender._send("ping",{},800);!N||(null===(E=N[0])||void 0===E?void 0:E.fulfilled)&&(null===(A=N[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,m.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Cn();return yield Ya(p,vo,"1"),yield ls(p,vo),!0}catch(p){}return!1})()}_withPendingWrite(p){var E=this;return(0,m.Z)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var A=this;return(0,m.Z)(function*(){return A._withPendingWrite((0,m.Z)(function*(){return yield A._withRetries(N=>Ya(N,p,E)),A.localCache[p]=E,A.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,m.Z)(function*(){const A=yield E._withRetries(N=>function(_,h){return ca.apply(this,arguments)}(N,p));return E.localCache[p]=A,A})()}_remove(p){var E=this;return(0,m.Z)(function*(){return E._withPendingWrite((0,m.Z)(function*(){return yield E._withRetries(A=>ls(A,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,m.Z)(function*(){const E=yield p._withRetries(z=>{const de=aa(z,!1).getAll();return new Yu(de).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const A=[],N=new Set;for(const{fbase_key:z,value:de}of E)N.add(z),JSON.stringify(p.localCache[z])!==JSON.stringify(de)&&(p.notifyListeners(z,de),A.push(z));for(const z of Object.keys(p.localCache))p.localCache[z]&&!N.has(z)&&(p.notifyListeners(z,null),A.push(z));return A})()}notifyListeners(p,E){this.localCache[p]=E;const A=this.listeners[p];if(A)for(const N of Array.from(A))N(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function tl(_,h){return xt(_,"POST","/v2/accounts/mfaSignIn:start",ut(_,h))}function rl(){return(rl=(0,m.Z)(function*(_){return(yield xt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zr(_){return new Promise((h,p)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=h,E.onerror=A=>{const N=Fe("internal-error");N.customData=A,p(N)},E.type="text/javascript",E.charset="UTF-8",function(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(E)})}function Qa(_){return`__${_}${Math.floor(1e6*Math.random())}`}const gs=1e12;class il{constructor(h){this.auth=h,this.counter=gs,this._widgets=new Map}render(h,p){const E=this.counter;return this._widgets.set(E,new sl(h,this.auth.name,p||{})),this.counter++,E}reset(h){var p;const E=h||gs;null===(p=this._widgets.get(E))||void 0===p||p.delete(),this._widgets.delete(E)}getResponse(h){var p;return(null===(p=this._widgets.get(h||gs))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,m.Z)(function*(){var E;return null===(E=p._widgets.get(h||gs))||void 0===E||E.execute(),""})()}}class sl{constructor(h,p,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof h?document.getElementById(h):h;De(A,"argument-error",{appName:p}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(_){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}();const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ms=Qa("rcb"),ys=new Pn(3e4,6e4);class Ja{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!an().grecaptcha}load(h,p=""){return De((_=p).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(an().grecaptcha):new Promise((E,A)=>{const N=an().setTimeout(()=>{A(Fe(h,"network-request-failed"))},ys.get());an()[ms]=()=>{an().clearTimeout(N),delete an()[ms];const de=an().grecaptcha;if(!de)return void A(Fe(h,"internal-error"));const Ue=de.render;de.render=(Xe,Je)=>{const st=Ue(Xe,Je);return this.counter++,st},this.hostLanguage=p,E(de)},zr(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:ms,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(N),A(Fe(h,"internal-error"))})});var _}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!an().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Eo{load(h){return(0,m.Z)(function*(){return new il(h)})()}clearedOneInstance(){}}const Vs="recaptcha",Hd={theme:"light",type:"image"};class al{constructor(h,p=Object.assign({},Hd),E){this.parameters=p,this.type=Vs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$t(E),this.isInvisible="invisible"===this.parameters.size,De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof h?document.getElementById(h):h;De(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Eo:new Ja,this.validateStartingState()}verify(){var h=this;return(0,m.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),E=h.getAssertedRecaptcha();return E.getResponse(p)||new Promise(N=>{const z=de=>{!de||(h.tokenChangeListeners.delete(z),N(de))};h.tokenChangeListeners.add(z),h.isInvisible&&E.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(E=>E(p)),"function"==typeof h)h(p);else if("string"==typeof h){const E=an()[h];"function"==typeof E&&E(p)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,m.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const E=document.createElement("div");p.appendChild(E),p=E}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,m.Z)(function*(){De(Bt()&&!zu(),h.auth,"internal-error"),yield function(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function(_){return rl.apply(this,arguments)}(h.auth);De(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ju{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=qo._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function Xu(){return(Xu=(0,m.Z)(function*(_,h,p){const E=$t(_),A=yield ha(E,h,(0,F.m9)(p));return new Ju(A,N=>Uu(E,N))})).apply(this,arguments)}function ec(){return(ec=(0,m.Z)(function*(_,h,p){const E=(0,F.m9)(_);yield Li(!1,E,"phone");const A=yield ha(E.auth,h,(0,F.m9)(p));return new Ju(A,N=>Nd(E,N))})).apply(this,arguments)}function Xa(){return(Xa=(0,m.Z)(function*(_,h,p){const E=(0,F.m9)(_),A=yield ha(E.auth,h,(0,F.m9)(p));return new Ju(A,N=>Va(E,N))})).apply(this,arguments)}function ha(_,h,p){return tc.apply(this,arguments)}function tc(){return(tc=(0,m.Z)(function*(_,h,p){var E;const A=yield p.verify();try{let N;if(De("string"==typeof A,_,"argument-error"),De(p.type===Vs,_,"argument-error"),N="string"==typeof h?{phoneNumber:h}:h,"session"in N){const z=N.session;if("phoneNumber"in N)return De("enroll"===z.type,_,"internal-error"),(yield Ud(_,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{De("signin"===z.type,_,"internal-error");const de=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return De(de,_,"missing-multi-factor-info"),(yield tl(_,{mfaPendingCredential:z.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield bi(_,{phoneNumber:N.phoneNumber,recaptchaToken:A});return z}}finally{p._reset()}})).apply(this,arguments)}function eu(){return(eu=(0,m.Z)(function*(_,h){yield Zo((0,F.m9)(_),h)})).apply(this,arguments)}let _s=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=$t(p)}verifyPhoneNumber(p,E){return ha(this.auth,p,(0,F.m9)(E))}static credential(p,E){return qo._fromVerification(p,E)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:E,temporaryProof:A}=p;return E&&A?qo._fromTokenResponse(E,A):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function vs(_,h){return h?ue(h):(De(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class wo extends rr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ht(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Ht(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Ht(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Kg(_){return Vu(_.auth,new wo(_),_.bypassAuthState)}function Mt(_){const{auth:h,user:p}=_;return De(p,h,"internal-error"),Yo(p,new wo(_),_.bypassAuthState)}function Ti(_){return bo.apply(this,arguments)}function bo(){return(bo=(0,m.Z)(function*(_){const{auth:h,user:p}=_;return De(p,h,"internal-error"),Zo(p,new wo(_),_.bypassAuthState)})).apply(this,arguments)}class tu{constructor(h,p,E,A,N=!1){this.auth=h,this.resolver=E,this.user=A,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,m.Z)(function*(E,A){h.pendingPromise={resolve:E,reject:A};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(N){h.reject(N)}});return function(E,A){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,m.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:N,tenantId:z,error:de,type:Ue}=h;if(de)return void p.reject(de);const Xe={auth:p.auth,requestUri:E,sessionId:A,tenantId:z||void 0,postBody:N||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ue)(Xe))}catch(Je){p.reject(Je)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Kg;case"linkViaPopup":case"linkViaRedirect":return Ti;case"reauthViaPopup":case"reauthViaRedirect":return Mt;default:Ie(this.auth,"internal-error")}}resolve(h){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sf=new Pn(2e3,1e4);function Zr(){return(Zr=(0,m.Z)(function*(_,h,p){const E=$t(_);yt(_,h,co);const A=vs(E,p);return new Gd(E,"signInViaPopup",h,A).executeNotNull()})).apply(this,arguments)}function ci(){return(ci=(0,m.Z)(function*(_,h,p){const E=(0,F.m9)(_);yt(E.auth,h,co);const A=vs(E.auth,p);return new Gd(E.auth,"reauthViaPopup",h,A,E).executeNotNull()})).apply(this,arguments)}function nu(){return(nu=(0,m.Z)(function*(_,h,p){const E=(0,F.m9)(_);yt(E.auth,h,co);const A=vs(E.auth,p);return new Gd(E.auth,"linkViaPopup",h,A,E).executeNotNull()})).apply(this,arguments)}let Gd=(()=>{class _ extends tu{constructor(p,E,A,N,z){super(p,E,N,z),this.provider=A,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,m.Z)(function*(){const E=yield p.execute();return De(E,p.auth,"internal-error"),E})()}onExecution(){var p=this;return(0,m.Z)(function*(){oe(1===p.filter.length,"Popup operations only handle one event");const E=Ga();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],E),p.authWindow.associatedEvent=E,p.resolver._originValidation(p.auth).catch(A=>{p.reject(A)}),p.resolver._isIframeWebStorageSupported(p.auth,A=>{A||p.reject(Fe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var E,A;this.pollId=(null===(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,Sf.get())};p()}}return _.currentPopupAction=null,_})();const Rf=new Map;class Z_ extends tu{constructor(h,p,E=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,m.Z)(function*(){let E=Rf.get(p.auth._key());if(!E){try{const N=(yield function(_,h){return C.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;E=()=>Promise.resolve(N)}catch(A){E=()=>Promise.reject(A)}Rf.set(p.auth._key(),E)}return E()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,E=this;return(0,m.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(E,h);if("unknown"!==h.type){if(h.eventId){const A=yield E.auth._redirectUserForId(h.eventId);if(A)return E.user=A,p().call(E,h);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function C(){return(C=(0,m.Z)(function*(_,h){const p=le(h),E="true"===(yield Z(_)._get(p));return yield Z(_)._remove(p),E})).apply(this,arguments)}function D(_,h){return x.apply(this,arguments)}function x(){return(x=(0,m.Z)(function*(_,h){return Z(_)._set(le(h),"true")})).apply(this,arguments)}function Z(_){return ue(_._redirectPersistence)}function le(_){return Xt("pendingRedirect",_.config.apiKey,_.name)}function Ge(){return(Ge=(0,m.Z)(function*(_,h,p){const E=$t(_);yt(_,h,co);const A=vs(E,p);return yield D(A,E),A._openRedirect(E,h,"signInViaRedirect")})).apply(this,arguments)}function Kn(){return(Kn=(0,m.Z)(function*(_,h,p){const E=(0,F.m9)(_);yt(E.auth,h,co);const A=vs(E.auth,p);yield D(A,E.auth);const N=yield ll(E);return A._openRedirect(E.auth,h,"reauthViaRedirect",N)})).apply(this,arguments)}function Ai(){return(Ai=(0,m.Z)(function*(_,h,p){const E=(0,F.m9)(_);yt(E.auth,h,co);const A=vs(E.auth,p);yield Li(!1,E,h.providerId),yield D(A,E.auth);const N=yield ll(E);return A._openRedirect(E.auth,h,"linkViaRedirect",N)})).apply(this,arguments)}function Si(){return(Si=(0,m.Z)(function*(_,h){return yield $t(_)._initializationPromise,$i(_,h,!1)})).apply(this,arguments)}function $i(_,h){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,m.Z)(function*(_,h,p=!1){const E=$t(_),A=vs(E,h),z=yield new Z_(E,A,p).execute();return z&&!p&&(delete z.user._redirectEventId,yield E._persistUserIfCurrent(z.user),yield E._setRedirectUser(null,h)),z})).apply(this,arguments)}function ll(_){return nc.apply(this,arguments)}function nc(){return(nc=(0,m.Z)(function*(_){const h=Ga(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class iu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(h,E)&&(p=!0,this.sendToConsumer(h,E),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Es(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var E;if(h.error&&!Es(h)){const A=(null===(E=h.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(Fe(this.auth,A))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const E=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&E}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dl(h))}saveEventToCache(h){this.cachedEventUids.add(dl(h)),this.lastProcessedEventTime=Date.now()}}function dl(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function Es({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===(null==h?void 0:h.code)}function un(_){return fa.apply(this,arguments)}function fa(){return(fa=(0,m.Z)(function*(_,h={}){return xt(_,"GET","/v1/projects",h)})).apply(this,arguments)}const Q0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Co=/^https?/;function hl(){return(hl=(0,m.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield un(_);for(const p of h)try{if(Nf(p))return}catch(E){}Ie(_,"unauthorized-domain")})).apply(this,arguments)}function Nf(_){const h=it(),{protocol:p,hostname:E}=new URL(h);if(_.startsWith("chrome-extension://")){const z=new URL(_);return""===z.hostname&&""===E?"chrome-extension:"===p&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&z.hostname===E}if(!Co.test(p))return!1;if(Q0.test(_))return E===_;const A=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const Wd=new Pn(3e4,6e4);function Mf(){const _=an().___jsl;if(null==_?void 0:_.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let li=null;function zd(_){return li=li||function(_){return new Promise((h,p)=>{var E,A,N;function z(){Mf(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Mf(),p(Fe(_,"network-request-failed"))},timeout:Wd.get()})}if(null===(A=null===(E=an().gapi)||void 0===E?void 0:E.iframes)||void 0===A?void 0:A.Iframe)h(gapi.iframes.getContext());else{if(!(null===(N=an().gapi)||void 0===N?void 0:N.load)){const de=Qa("iframefcb");return an()[de]=()=>{gapi.load?z():p(Fe(_,"network-request-failed"))},zr(`https://apis.google.com/js/api.js?onload=${de}`)}z()}}).catch(h=>{throw li=null,h})}(_),li}const pa=new Pn(5e3,15e3),sc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},fl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y_(_){const h=_.config;De(h.authDomain,_,"auth-domain-config-required");const p=h.emulator?Wt(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:h.apiKey,appName:_.name,v:ce.SDK_VERSION},A=fl.get(_.config.apiHost);A&&(E.eid=A);const N=_._getFrameworks();return N.length&&(E.fw=N.join(",")),`${p}?${(0,F.xO)(E).slice(1)}`}function Qg(){return(Qg=(0,m.Z)(function*(_){const h=yield zd(_),p=an().gapi;return De(p,_,"internal-error"),h.open({where:document.body,url:Y_(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sc,dontclear:!0},E=>new Promise(function(){var A=(0,m.Z)(function*(N,z){yield E.restyle({setHideOnLeave:!1});const de=Fe(_,"network-request-failed"),Ue=an().setTimeout(()=>{z(de)},pa.get());function Xe(){an().clearTimeout(Ue),N(E)}E.ping(Xe).then(Xe,()=>{z(de)})});return function(N,z){return A.apply(this,arguments)}}()))})).apply(this,arguments)}const pl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Of{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function oc(_,h,p,E,A,N){De(_.config.authDomain,_,"auth-domain-config-required"),De(_.config.apiKey,_,"invalid-api-key");const z={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:E,v:ce.SDK_VERSION,eventId:A};if(h instanceof co){h.setDefaultLanguage(_.languageCode),z.providerId=h.providerId||"",(0,F.xb)(h.getCustomParameters())||(z.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Ue,Xe]of Object.entries(N||{}))z[Ue]=Xe}if(h instanceof Fa){const Ue=h.getScopes().filter(Xe=>""!==Xe);Ue.length>0&&(z.scopes=Ue.join(","))}_.tenantId&&(z.tid=_.tenantId);const de=z;for(const Ue of Object.keys(de))void 0===de[Ue]&&delete de[Ue];return`${function({config:_}){return _.emulator?Wt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,F.xO)(de).slice(1)}`}const Do="webStorageSupport";class su extends class{constructor(h){this.factorId=h}_process(h,p,E){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,E);case"signin":return this._finalizeSignIn(h,p.credential);default:return ne("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new su(h)}_finalizeEnroll(h,p,E){return function(_,h){return xt(_,"POST","/v2/accounts/mfaEnrollment:finalize",ut(_,h))}(h,{idToken:p,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function(_,h){return xt(_,"POST","/v2/accounts/mfaSignIn:finalize",ut(_,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ml=(()=>{class _{constructor(){}static assertion(p){return su._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var _,kf="@firebase/auth";class rm{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,m.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(E=>{var A;h((null===(A=E)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ou(){return window}function ws(){return(ws=(0,m.Z)(function*(_,h,p){var E;const{BuildInfo:A}=ou();oe(h.sessionId,"AuthEvent did not contain a session ID");const N=yield rv(h.sessionId),z={};return Ei()?z.ibi=A.packageName:As()?z.apn=A.packageName:Ie(_,"operation-not-supported-in-this-environment"),A.displayName&&(z.appDisplayName=A.displayName),z.sessionId=N,oc(_,p,h.type,void 0,null!==(E=h.eventId)&&void 0!==E?E:void 0,z)})).apply(this,arguments)}function Zd(){return(Zd=(0,m.Z)(function*(_){const{BuildInfo:h}=ou(),p={};Ei()?p.iosBundleId=h.packageName:As()?p.androidPackageName=h.packageName:Ie(_,"operation-not-supported-in-this-environment"),yield un(_,p)})).apply(this,arguments)}function yl(){return(yl=(0,m.Z)(function*(_,h,p){const{cordova:E}=ou();let A=()=>{};try{yield new Promise((N,z)=>{let de=null;function Ue(){var st;N();const Fn=null===(st=E.plugins.browsertab)||void 0===st?void 0:st.close;"function"==typeof Fn&&Fn(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function Xe(){de||(de=window.setTimeout(()=>{z(Fe(_,"redirect-cancelled-by-user"))},2e3))}function Je(){"visible"===(null==document?void 0:document.visibilityState)&&Xe()}h.addPassiveListener(Ue),document.addEventListener("resume",Xe,!1),As()&&document.addEventListener("visibilitychange",Je,!1),A=()=>{h.removePassiveListener(Ue),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",Je,!1),de&&window.clearTimeout(de)}})}finally{A()}})).apply(this,arguments)}function rv(_){return _l.apply(this,arguments)}function _l(){return(_l=(0,m.Z)(function*(_){const h=iv(_),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function iv(_){if(oe(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const h=new ArrayBuffer(_.length),p=new Uint8Array(h);for(let E=0;E<_.length;E++)p[E]=_.charCodeAt(E);return p}_="Browser",(0,ce._registerComponent)(new Ee.wA("auth",(h,{options:p})=>{const E=h.getProvider("app").getImmediate(),{apiKey:A,authDomain:N}=E.options;return(z=>{De(A&&!A.includes(":"),"invalid-api-key",{appName:z.name}),De(!(null==N?void 0:N.includes(":")),"argument-error",{appName:z.name});const de={apiKey:A,authDomain:N,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$n(_)},Ue=new Id(z,de);return function(_,h){const p=(null==h?void 0:h.persistence)||[],E=(Array.isArray(p)?p:[p]).map(ue);(null==h?void 0:h.errorMap)&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(E,null==h?void 0:h.popupRedirectResolver)}(Ue,p),Ue})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,E)=>{h.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new Ee.wA("auth-internal",h=>{const p=$t(h.getProvider("auth").getImmediate());return new rm(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(kf,"0.18.3",void 0),(0,ce.registerVersion)(kf,"0.18.3","esm2017");class Lf extends iu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,m.Z)(function*(){yield h.initPromise})()}}function Vf(_){return uu.apply(this,arguments)}function uu(){return(uu=(0,m.Z)(function*(_){const h=yield ga()._get(Yd(_));return h&&(yield ga()._remove(Yd(_))),h})).apply(this,arguments)}function Us(){const _=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const E=Math.floor(Math.random()*h.length);_.push(h.charAt(E))}return _.join("")}function ga(){return ue(Wu)}function Yd(_){return Xt("authEvent",_.config.apiKey,_.name)}function Jd(_){if(!(null==_?void 0:_.includes("?")))return{};const[h,...p]=_.split("?");return(0,F.zd)(p.join("?"))}function vl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Fe("no-auth-event")}}function Hf(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function cv(_=(0,F.z$)()){return!("file:"!==Hf()&&"ionic:"!==Hf()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function qf(){try{const _=self.localStorage,h=Ga();if(_)return _.setItem(h,"1"),_.removeItem(h),!function(_=(0,F.z$)()){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)||function(_=(0,F.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,F.hl)()}catch(_){return lm()&&(0,F.hl)()}return!1}function lm(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function qe(){return("http:"===Hf()||"https:"===Hf()||(0,F.ru)()||cv())&&!((0,F.b$)()||(0,F.UG)())&&qf()&&!lm()}function Ao(){return cv()&&"undefined"!=typeof document}function Yr(){return(Yr=(0,m.Z)(function*(){return!!Ao()&&new Promise(_=>{const h=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),_(!0)})})})).apply(this,arguments)}const Qr={LOCAL:"local",NONE:"none",SESSION:"session"},Jr=De,hm="persistence";function Wf(_){return zf.apply(this,arguments)}function zf(){return(zf=(0,m.Z)(function*(_){yield _._initializationPromise;const h=fm(),p=Xt(hm,_.config.apiKey,_.name);(null==h?void 0:h.sessionStorage)&&h.sessionStorage.setItem(p,_._getPersistence())})).apply(this,arguments)}function fm(){return"undefined"!=typeof window?window:null}const El=De;class xn{constructor(){this.browserResolver=ue(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cs,this._completeRedirectFn=$i}_openPopup(h,p,E,A){var N=this;return(0,m.Z)(function*(){var z;oe(null===(z=N.eventManagers[h._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const de=oc(h,p,E,it(),A);return function(_,h,p,E=500,A=600){const N=Math.max((window.screen.availHeight-A)/2,0).toString(),z=Math.max((window.screen.availWidth-E)/2,0).toString();let de="";const Ue=Object.assign(Object.assign({},pl),{width:E.toString(),height:A.toString(),top:N,left:z}),Xe=(0,F.z$)().toLowerCase();p&&(de=Ra(Xe)?"_blank":p),$o(Xe)&&(h=h||"http://localhost",Ue.scrollbars="yes");const Je=Object.entries(Ue).reduce((Fn,[hi,Xr])=>`${Fn}${hi}=${Xr},`,"");if(function(_=(0,F.z$)()){var h;return Ei(_)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(Xe)&&"_self"!==de)return function(_,h){const p=document.createElement("a");p.href=_,p.target=h;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(h||"",de),new Of(null);const st=window.open(h||"",de,Je);De(st,_,"popup-blocked");try{st.focus()}catch(Fn){}return new Of(st)}(h,de,Ga())})()}_openRedirect(h,p,E,A){var N=this;return(0,m.Z)(function*(){return yield N._originValidation(h),_=oc(h,p,E,it(),A),an().location.href=_,new Promise(()=>{});var _})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:A,promise:N}=this.eventManagers[p];return A?Promise.resolve(A):(oe(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(h);return this.eventManagers[p]={promise:E},E}initAndGetManager(h){var p=this;return(0,m.Z)(function*(){const E=yield function(_){return Qg.apply(this,arguments)}(h),A=new iu(h);return E.register("authEvent",N=>(De(null==N?void 0:N.authEvent,h,"invalid-auth-event"),{status:A.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:A},p.iframes[h._key()]=E,A})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Do,{type:Do},A=>{var N;const z=null===(N=null==A?void 0:A[0])||void 0===N?void 0:N[Do];void 0!==z&&p(!!z),Ie(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(_){return hl.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return ns()||Uc()||Ei()}}),this.cordovaResolver=ue(class{constructor(){this._redirectPersistence=cs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$i}_initialize(h){var p=this;return(0,m.Z)(function*(){const E=h._key();let A=p.eventManagers.get(E);return A||(A=new Lf(h),p.eventManagers.set(E,A),p.attachCallbackListeners(h,A)),A})()}_openPopup(h){Ie(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,E,A){var N=this;return(0,m.Z)(function*(){!function(_){var h,p,E,A,N,z,de,Ue,Xe,Je;const st=ou();De("function"==typeof(null===(h=null==st?void 0:st.universalLinks)||void 0===h?void 0:h.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),De(void 0!==(null===(p=null==st?void 0:st.BuildInfo)||void 0===p?void 0:p.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),De("function"==typeof(null===(N=null===(A=null===(E=null==st?void 0:st.cordova)||void 0===E?void 0:E.plugins)||void 0===A?void 0:A.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(Ue=null===(de=null===(z=null==st?void 0:st.cordova)||void 0===z?void 0:z.plugins)||void 0===de?void 0:de.browsertab)||void 0===Ue?void 0:Ue.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(Je=null===(Xe=null==st?void 0:st.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===Je?void 0:Je.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const z=yield N._initialize(h);yield z.initialized(),z.resetRedirect(),Rf.clear(),yield N._originValidation(h);const de=function(_,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:Us(),postBody:null,tenantId:_.tenantId,error:Fe(_,"no-auth-event")}}(h,E,A);yield function(_,h){return ga()._set(Yd(_),h)}(h,de);const Ue=yield function(_,h,p){return ws.apply(this,arguments)}(h,de,p),Xe=yield function(_){const{cordova:h}=ou();return new Promise(p=>{h.plugins.browsertab.isAvailable(E=>{let A=null;E?h.plugins.browsertab.openUrl(_):A=h.InAppBrowser.open(_,function(_=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(A)})})}(Ue);return function(_,h,p){return yl.apply(this,arguments)}(h,z,Xe)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(_){return Zd.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:E,handleOpenURL:A,BuildInfo:N}=ou(),z=setTimeout((0,m.Z)(function*(){yield Vf(h),p.onEvent(vl())}),500),de=function(){var Je=(0,m.Z)(function*(st){clearTimeout(z);const Fn=yield Vf(h);let hi=null;Fn&&(null==st?void 0:st.url)&&(hi=function(_,h){var p,E;const A=function(_){const h=Jd(_),p=h.link?decodeURIComponent(h.link):void 0,E=Jd(p).link,A=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Jd(A).link||A||E||p||_}(h);if(A.includes("/__/auth/callback")){const N=Jd(A),z=N.firebaseError?function(_){try{return JSON.parse(_)}catch(h){return null}}(decodeURIComponent(N.firebaseError)):null,de=null===(E=null===(p=null==z?void 0:z.code)||void 0===p?void 0:p.split("auth/"))||void 0===E?void 0:E[1],Ue=de?Fe(de):null;return Ue?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:A,postBody:null}}return null}(Fn,st.url)),p.onEvent(hi||vl())});return function(Fn){return Je.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,de);const Ue=A,Xe=`${N.packageName.toLowerCase()}://`;ou().handleOpenURL=function(){var Je=(0,m.Z)(function*(st){if(st.toLowerCase().startsWith(Xe)&&de({url:st}),"function"==typeof Ue)try{Ue(st)}catch(Fn){console.error(Fn)}});return function(st){return Je.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=cs,this._completeRedirectFn=$i}_initialize(h){var p=this;return(0,m.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,E,A){var N=this;return(0,m.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(h,p,E,A)})()}_openRedirect(h,p,E,A){var N=this;return(0,m.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(h,p,E,A)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Ao()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return El(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,m.Z)(function*(){if(h.underlyingResolver)return;const p=yield function(){return Yr.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function Xd(_){return _.unwrap()}function wl(_){return ac(_)}function ac(_){const{_tokenResponse:h}=_ instanceof F.ZR?_.customData:_;if(!h)return null;if(!(_ instanceof F.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return _s.credentialFromResult(_);const p=h.providerId;if(!p||"password"===p)return null;let E;switch(p){case"google.com":E=Fu;break;case"facebook.com":E=Hc;break;case"github.com":E=Gc;break;case"twitter.com":E=Ci;break;default:const{oauthIdToken:A,oauthAccessToken:N,oauthTokenSecret:z,pendingToken:de,nonce:Ue}=h;return N||z||A||de?de?p.startsWith("saml.")?zo._create(p,de):qr._fromParams({providerId:p,signInMethod:p,pendingToken:de,idToken:A,accessToken:N}):new Ms(p).credential({idToken:A,accessToken:N,rawNonce:Ue}):null}return _ instanceof F.ZR?E.credentialFromError(_):E.credentialFromResult(_)}function ar(_,h){return h.catch(p=>{throw p instanceof F.ZR&&function(_,h){var p;const E=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new pm(_,function(_,h){var p;const E=(0,F.m9)(_),A=h;return De(h.operationType,E,"argument-error"),De(null===(p=A.serverResponse)||void 0===p?void 0:p.mfaPendingCredential,E,"argument-error"),Yc._fromError(E,A)}(_,h));else if(E){const A=ac(h),N=h;A&&(N.credential=A,N.tenantId=E.tenantId||void 0,N.email=E.email||void 0,N.phoneNumber=E.phoneNumber||void 0)}}(_,p),p}).then(p=>{const A=p.user;return{operationType:p.operationType,credential:wl(p),additionalUserInfo:qu(p),user:di.getOrCreate(A)}})}function Bs(_,h){return eh.apply(this,arguments)}function eh(){return(eh=(0,m.Z)(function*(_,h){const p=yield h;return{verificationId:p.verificationId,confirm:E=>ar(_,p.confirm(E))}})).apply(this,arguments)}class pm{constructor(h,p){this.resolver=p,this.auth=function(_){return _.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return ar(Xd(this.auth),this.resolver.resolveSignIn(h))}}class di{constructor(h){this._delegate=h,this.multiFactor=function(_){const h=(0,F.m9)(_);return sa.has(h)||sa.set(h,ia._fromUser(h)),sa.get(h)}(h)}static getOrCreate(h){return di.USER_MAP.has(h)||di.USER_MAP.set(h,new di(h)),di.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,m.Z)(function*(){return ar(p.auth,Nd(p._delegate,h))})()}linkWithPhoneNumber(h,p){var E=this;return(0,m.Z)(function*(){return Bs(E.auth,function(_,h,p){return ec.apply(this,arguments)}(E._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,m.Z)(function*(){return ar(p.auth,function(_,h,p){return nu.apply(this,arguments)}(p._delegate,h,xn))})()}linkWithRedirect(h){var p=this;return(0,m.Z)(function*(){return yield Wf($t(p.auth)),function(_,h,p){return function(_,h,p){return Ai.apply(this,arguments)}(_,h,p)}(p._delegate,h,xn)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,m.Z)(function*(){return ar(p.auth,Va(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return Bs(this.auth,function(_,h,p){return Xa.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return ar(this.auth,function(_,h,p){return ci.apply(this,arguments)}(this._delegate,h,xn))}reauthenticateWithRedirect(h){var p=this;return(0,m.Z)(function*(){return yield Wf($t(p.auth)),function(_,h,p){return function(_,h,p){return Kn.apply(this,arguments)}(_,h,p)}(p._delegate,h,xn)})()}sendEmailVerification(h){return function(_,h){return Ui.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,m.Z)(function*(){return yield function(_,h){return Ko.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function(_,h){return $a((0,F.m9)(_),h,null)}(this._delegate,h)}updatePassword(h){return function(_,h){return $a((0,F.m9)(_),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function(_,h){return eu.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function(_,h){return ja.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function(_,h,p){return xr.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}di.USER_MAP=new WeakMap;const kn=De;let gm=(()=>{class _{constructor(p,E){if(this.app=p,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=p.options;kn(A,"invalid-api-key",{appName:p.name});let N=[It];if("undefined"!=typeof window){N=function(_,h){const p=fm();if(!(null==p?void 0:p.sessionStorage))return[];const E=Xt(hm,_,h);switch(p.sessionStorage.getItem(E)){case Qr.NONE:return[It];case Qr.LOCAL:return[la,cs];case Qr.SESSION:return[cs];default:return[]}}(A,p.name);for(const de of[la,Wu,cs])N.includes(de)||N.push(de)}kn(A,"invalid-api-key",{appName:p.name});const z="undefined"!=typeof window?xn:void 0;this._delegate=E.initialize({options:{persistence:N,popupRedirectResolver:z}}),this._delegate._updateErrorMap(we),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?di.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,E){!function(_,h,p){const E=$t(_);De(E._canInitEmulator,E,"emulator-config-failed"),De(/^https?:\/\//.test(h),E,"invalid-emulator-scheme");const A=!!(null==p?void 0:p.disableWarnings),N=en(h),{host:z,port:de}=function(_){const h=en(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!p)return{host:"",port:null};const E=p[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const N=A[1];return{host:N,port:rs(E.substr(N.length+1))}}{const[N,z]=E.split(":");return{host:N,port:rs(z)}}}(h);E.config.emulator={url:`${N}//${z}${null===de?"":`:${de}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:z,port:de,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function(){function _(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,E)}applyActionCode(p){return function(_,h){return ss.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return ea(this._delegate,p)}confirmPasswordReset(p,E){return function(_,h,p){return ct.apply(this,arguments)}(this._delegate,p,E)}createUserWithEmailAndPassword(p,E){var A=this;return(0,m.Z)(function*(){return ar(A._delegate,function(_,h,p){return Se.apply(this,arguments)}(A._delegate,p,E))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function(_,h){return $u.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function(_,h){const p=Wo.parseLink(h);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,m.Z)(function*(){kn(qe(),p._delegate,"operation-not-supported-in-this-environment");const E=yield function(_,h){return Si.apply(this,arguments)}(p._delegate,xn);return E?ar(p._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function(_,h){$t(_)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,E,A){const{next:N,error:z,complete:de}=Kf(p,E,A);return this._delegate.onAuthStateChanged(N,z,de)}onIdTokenChanged(p,E,A){const{next:N,error:z,complete:de}=Kf(p,E,A);return this._delegate.onIdTokenChanged(N,z,de)}sendSignInLinkToEmail(p,E){return function(_,h,p){return _n.apply(this,arguments)}(this._delegate,p,E)}sendPasswordResetEmail(p,E){return function(_,h,p){return Xo.apply(this,arguments)}(this._delegate,p,E||void 0)}setPersistence(p){var E=this;return(0,m.Z)(function*(){let A;switch(function(_,h){Jr(Object.values(Qr).includes(h),_,"invalid-persistence-type"),(0,F.b$)()?Jr(h!==Qr.SESSION,_,"unsupported-persistence-type"):(0,F.UG)()?Jr(h===Qr.NONE,_,"unsupported-persistence-type"):lm()?Jr(h===Qr.NONE||h===Qr.LOCAL&&(0,F.hl)(),_,"unsupported-persistence-type"):Jr(h===Qr.NONE||qf(),_,"unsupported-persistence-type")}(E._delegate,p),p){case Qr.SESSION:A=cs;break;case Qr.LOCAL:A=(yield ue(la)._isAvailable())?la:Wu;break;case Qr.NONE:A=It;break;default:return Ie("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return ar(this._delegate,function(_){return ho.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return ar(this._delegate,Uu(this._delegate,p))}signInWithCustomToken(p){return ar(this._delegate,function(_,h){return qn.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,E){return ar(this._delegate,function(_,h,p){return Uu((0,F.m9)(_),ku.credential(h,p))}(this._delegate,p,E))}signInWithEmailLink(p,E){return ar(this._delegate,function(_,h,p){return ai.apply(this,arguments)}(this._delegate,p,E))}signInWithPhoneNumber(p,E){return Bs(this._delegate,function(_,h,p){return Xu.apply(this,arguments)}(this._delegate,p,E))}signInWithPopup(p){var E=this;return(0,m.Z)(function*(){return kn(qe(),E._delegate,"operation-not-supported-in-this-environment"),ar(E._delegate,function(_,h,p){return Zr.apply(this,arguments)}(E._delegate,p,xn))})()}signInWithRedirect(p){var E=this;return(0,m.Z)(function*(){return kn(qe(),E._delegate,"operation-not-supported-in-this-environment"),yield Wf(E._delegate),function(_,h,p){return function(_,h,p){return Ge.apply(this,arguments)}(_,h,p)}(E._delegate,p,xn)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function(_,h){return os.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Qr,_})();function Kf(_,h,p){let E=_;"function"!=typeof _&&({next:E,error:h,complete:p}=_);const A=E;return{next:z=>A(z&&di.getOrCreate(z)),error:h,complete:p}}class mm{constructor(){this.providerId="phone",this._delegate=new _s(Xd(ee.Z.auth()))}static credential(h,p){return _s.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}mm.PHONE_SIGN_IN_METHOD=_s.PHONE_SIGN_IN_METHOD,mm.PROVIDER_ID=_s.PROVIDER_ID;const ym=De;class Zf{constructor(h,p,E=ee.Z.app()){var A;ym(null===(A=E.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new al(h,p,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(_){_.INTERNAL.registerComponent(new Ee.wA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),E=h.getProvider("auth");return new gm(p,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ku,FacebookAuthProvider:Hc,GithubAuthProvider:Gc,GoogleAuthProvider:Fu,OAuthProvider:Ms,PhoneAuthProvider:mm,PhoneMultiFactorGenerator:ml,RecaptchaVerifier:Zf,TwitterAuthProvider:Ci,Auth:gm,AuthCredential:rr,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.1.6")}(ee.Z)},6676:function(et,Te){!function(V){"use strict";function m(q){return Array.prototype.slice.call(q)}function ee(q){return new Promise(function(_e,ve){q.onsuccess=function(){_e(q.result)},q.onerror=function(){ve(q.error)}})}function F(q,_e,ve){var pe,Ie=new Promise(function(Fe,Le){ee(pe=q[_e].apply(q,ve)).then(Fe,Le)});return Ie.request=pe,Ie}function ce(q,_e,ve){var pe=F(q,_e,ve);return pe.then(function(Ie){if(Ie)return new k(Ie,pe.request)})}function te(q,_e,ve){ve.forEach(function(pe){Object.defineProperty(q.prototype,pe,{get:function(){return this[_e][pe]},set:function(Ie){this[_e][pe]=Ie}})})}function ie(q,_e,ve,pe){pe.forEach(function(Ie){Ie in ve.prototype&&(q.prototype[Ie]=function(){return F(this[_e],Ie,arguments)})})}function Ee(q,_e,ve,pe){pe.forEach(function(Ie){Ie in ve.prototype&&(q.prototype[Ie]=function(){return this[_e][Ie].apply(this[_e],arguments)})})}function he(q,_e,ve,pe){pe.forEach(function(Ie){Ie in ve.prototype&&(q.prototype[Ie]=function(){return ce(this[_e],Ie,arguments)})})}function W(q){this._index=q}function k(q,_e){this._cursor=q,this._request=_e}function L(q){this._store=q}function Q(q){this._tx=q,this.complete=new Promise(function(_e,ve){q.oncomplete=function(){_e()},q.onerror=function(){ve(q.error)},q.onabort=function(){ve(q.error)}})}function K(q,_e,ve){this._db=q,this.oldVersion=_e,this.transaction=new Q(ve)}function re(q){this._db=q}te(W,"_index",["name","keyPath","multiEntry","unique"]),ie(W,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),he(W,"_index",IDBIndex,["openCursor","openKeyCursor"]),te(k,"_cursor",["direction","key","primaryKey","value"]),ie(k,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(q){q in IDBCursor.prototype&&(k.prototype[q]=function(){var _e=this,ve=arguments;return Promise.resolve().then(function(){return _e._cursor[q].apply(_e._cursor,ve),ee(_e._request).then(function(pe){if(pe)return new k(pe,_e._request)})})})}),L.prototype.createIndex=function(){return new W(this._store.createIndex.apply(this._store,arguments))},L.prototype.index=function(){return new W(this._store.index.apply(this._store,arguments))},te(L,"_store",["name","keyPath","indexNames","autoIncrement"]),ie(L,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),he(L,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Ee(L,"_store",IDBObjectStore,["deleteIndex"]),Q.prototype.objectStore=function(){return new L(this._tx.objectStore.apply(this._tx,arguments))},te(Q,"_tx",["objectStoreNames","mode"]),Ee(Q,"_tx",IDBTransaction,["abort"]),K.prototype.createObjectStore=function(){return new L(this._db.createObjectStore.apply(this._db,arguments))},te(K,"_db",["name","version","objectStoreNames"]),Ee(K,"_db",IDBDatabase,["deleteObjectStore","close"]),re.prototype.transaction=function(){return new Q(this._db.transaction.apply(this._db,arguments))},te(re,"_db",["name","version","objectStoreNames"]),Ee(re,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(q){[L,W].forEach(function(_e){q in _e.prototype&&(_e.prototype[q.replace("open","iterate")]=function(){var ve=m(arguments),pe=ve[ve.length-1],Ie=this._store||this._index,Fe=Ie[q].apply(Ie,ve.slice(0,-1));Fe.onsuccess=function(){pe(Fe.result)}})})}),[W,L].forEach(function(q){q.prototype.getAll||(q.prototype.getAll=function(_e,ve){var pe=this,Ie=[];return new Promise(function(Fe){pe.iterateCursor(_e,function(Le){Le?(Ie.push(Le.value),void 0===ve||Ie.length!=ve?Le.continue():Fe(Ie)):Fe(Ie)})})})}),V.openDb=function(q,_e,ve){var pe=F(indexedDB,"open",[q,_e]),Ie=pe.request;return Ie&&(Ie.onupgradeneeded=function(Fe){ve&&ve(new K(Ie.result,Fe.oldVersion,Ie.transaction))}),pe.then(function(Fe){return new re(Fe)})},V.deleteDb=function(q){return F(indexedDB,"deleteDatabase",[q])},Object.defineProperty(V,"__esModule",{value:!0})}(Te)},7574:(et,Te,V)=>{"use strict";V.d(Te,{y:()=>L});var m=V(7393),F=V(9181),ce=V(6490),ie=V(6554),Ee=V(4487);var k=V(2494);let L=(()=>{class K{constructor(we){this._isScalar=!1,we&&(this._subscribe=we)}lift(we){const fe=new K;return fe.source=this,fe.operator=we,fe}subscribe(we,fe,q){const{operator:_e}=this,ve=function(K,re,we){if(K){if(K instanceof m.L)return K;if(K[F.b])return K[F.b]()}return K||re||we?new m.L(K,re,we):new m.L(ce.c)}(we,fe,q);if(ve.add(_e?_e.call(ve,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!ve.syncErrorThrowable?this._subscribe(ve):this._trySubscribe(ve)),k.v.useDeprecatedSynchronousErrorHandling&&ve.syncErrorThrowable&&(ve.syncErrorThrowable=!1,ve.syncErrorThrown))throw ve.syncErrorValue;return ve}_trySubscribe(we){try{return this._subscribe(we)}catch(fe){k.v.useDeprecatedSynchronousErrorHandling&&(we.syncErrorThrown=!0,we.syncErrorValue=fe),function(K){for(;K;){const{closed:re,destination:we,isStopped:fe}=K;if(re||fe)return!1;K=we&&we instanceof m.L?we:null}return!0}(we)?we.error(fe):console.warn(fe)}}forEach(we,fe){return new(fe=Q(fe))((q,_e)=>{let ve;ve=this.subscribe(pe=>{try{we(pe)}catch(Ie){_e(Ie),ve&&ve.unsubscribe()}},_e,q)})}_subscribe(we){const{source:fe}=this;return fe&&fe.subscribe(we)}[ie.L](){return this}pipe(...we){return 0===we.length?this:function(K){return 0===K.length?Ee.y:1===K.length?K[0]:function(we){return K.reduce((fe,q)=>q(fe),we)}}(we)(this)}toPromise(we){return new(we=Q(we))((fe,q)=>{let _e;this.subscribe(ve=>_e=ve,ve=>q(ve),()=>fe(_e))})}}return K.create=re=>new K(re),K})();function Q(K){if(K||(K=k.v.Promise||Promise),!K)throw new Error("no Promise impl found");return K}},6490:(et,Te,V)=>{"use strict";V.d(Te,{c:()=>F});var m=V(2494),ee=V(4449);const F={closed:!0,next(ce){},error(ce){if(m.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,ee.z)(ce)},complete(){}}},9765:(et,Te,V)=>{"use strict";V.d(Te,{Yc:()=>Ee,xQ:()=>he});var m=V(7574),ee=V(7393),F=V(5319),ce=V(7971),te=V(8858),ie=V(9181);class Ee extends ee.L{constructor(L){super(L),this.destination=L}}let he=(()=>{class k extends m.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new Ee(this)}lift(Q){const K=new W(this,this);return K.operator=Q,K}next(Q){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:K}=this,re=K.length,we=K.slice();for(let fe=0;fe<re;fe++)we[fe].next(Q)}}error(Q){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=Q,this.isStopped=!0;const{observers:K}=this,re=K.length,we=K.slice();for(let fe=0;fe<re;fe++)we[fe].error(Q);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:Q}=this,K=Q.length,re=Q.slice();for(let we=0;we<K;we++)re[we].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Q){if(this.closed)throw new ce.N;return super._trySubscribe(Q)}_subscribe(Q){if(this.closed)throw new ce.N;return this.hasError?(Q.error(this.thrownError),F.w.EMPTY):this.isStopped?(Q.complete(),F.w.EMPTY):(this.observers.push(Q),new te.W(this,Q))}asObservable(){const Q=new m.y;return Q.source=this,Q}}return k.create=(L,Q)=>new W(L,Q),k})();class W extends he{constructor(L,Q){super(),this.destination=L,this.source=Q}next(L){const{destination:Q}=this;Q&&Q.next&&Q.next(L)}error(L){const{destination:Q}=this;Q&&Q.error&&this.destination.error(L)}complete(){const{destination:L}=this;L&&L.complete&&this.destination.complete()}_subscribe(L){const{source:Q}=this;return Q?this.source.subscribe(L):F.w.EMPTY}}},8858:(et,Te,V)=>{"use strict";V.d(Te,{W:()=>ee});var m=V(5319);class ee extends m.w{constructor(ce,te){super(),this.subject=ce,this.subscriber=te,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,te=ce.observers;if(this.subject=null,!te||0===te.length||ce.isStopped||ce.closed)return;const ie=te.indexOf(this.subscriber);-1!==ie&&te.splice(ie,1)}}},7393:(et,Te,V)=>{"use strict";V.d(Te,{L:()=>Ee});var m=V(9105),ee=V(6490),F=V(5319),ce=V(9181),te=V(2494),ie=V(4449);class Ee extends F.w{constructor(k,L,Q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ee.c;break;case 1:if(!k){this.destination=ee.c;break}if("object"==typeof k){k instanceof Ee?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new he(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new he(this,k,L,Q)}}[ce.b](){return this}static create(k,L,Q){const K=new Ee(k,L,Q);return K.syncErrorThrowable=!1,K}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class he extends Ee{constructor(k,L,Q,K){super(),this._parentSubscriber=k;let re,we=this;(0,m.m)(L)?re=L:L&&(re=L.next,Q=L.error,K=L.complete,L!==ee.c&&(we=Object.create(L),(0,m.m)(we.unsubscribe)&&this.add(we.unsubscribe.bind(we)),we.unsubscribe=this.unsubscribe.bind(this))),this._context=we,this._next=re,this._error=Q,this._complete=K}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:L}=this;te.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?this.__tryOrSetError(L,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:L}=this,{useDeprecatedSynchronousErrorHandling:Q}=te.v;if(this._error)Q&&L.syncErrorThrowable?(this.__tryOrSetError(L,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(L.syncErrorThrowable)Q?(L.syncErrorValue=k,L.syncErrorThrown=!0):(0,ie.z)(k),this.unsubscribe();else{if(this.unsubscribe(),Q)throw k;(0,ie.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const L=()=>this._complete.call(this._context);te.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,L),this.unsubscribe()):(this.__tryOrUnsub(L),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,L){try{k.call(this._context,L)}catch(Q){if(this.unsubscribe(),te.v.useDeprecatedSynchronousErrorHandling)throw Q;(0,ie.z)(Q)}}__tryOrSetError(k,L,Q){if(!te.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{L.call(this._context,Q)}catch(K){return te.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=K,k.syncErrorThrown=!0,!0):((0,ie.z)(K),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(et,Te,V)=>{"use strict";V.d(Te,{w:()=>ie});var m=V(9796),ee=V(1555),F=V(9105);const te=(()=>{function he(W){return Error.call(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((k,L)=>`${L+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W,this}return he.prototype=Object.create(Error.prototype),he})();class ie{constructor(W){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,W&&(this._ctorUnsubscribe=!0,this._unsubscribe=W)}unsubscribe(){let W;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:L,_unsubscribe:Q,_subscriptions:K}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof ie)k.remove(this);else if(null!==k)for(let re=0;re<k.length;++re)k[re].remove(this);if((0,F.m)(Q)){L&&(this._unsubscribe=void 0);try{Q.call(this)}catch(re){W=re instanceof te?Ee(re.errors):[re]}}if((0,m.k)(K)){let re=-1,we=K.length;for(;++re<we;){const fe=K[re];if((0,ee.K)(fe))try{fe.unsubscribe()}catch(q){W=W||[],q instanceof te?W=W.concat(Ee(q.errors)):W.push(q)}}}if(W)throw new te(W)}add(W){let k=W;if(!W)return ie.EMPTY;switch(typeof W){case"function":k=new ie(W);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof ie)){const K=k;k=new ie,k._subscriptions=[K]}break;default:throw new Error("unrecognized teardown "+W+" added to Subscription.")}let{_parentOrParents:L}=k;if(null===L)k._parentOrParents=this;else if(L instanceof ie){if(L===this)return k;k._parentOrParents=[L,this]}else{if(-1!==L.indexOf(this))return k;L.push(this)}const Q=this._subscriptions;return null===Q?this._subscriptions=[k]:Q.push(k),k}remove(W){const k=this._subscriptions;if(k){const L=k.indexOf(W);-1!==L&&k.splice(L,1)}}}var he;function Ee(he){return he.reduce((W,k)=>W.concat(k instanceof te?k.errors:k),[])}ie.EMPTY=((he=new ie).closed=!0,he)},2494:(et,Te,V)=>{"use strict";V.d(Te,{v:()=>ee});let m=!1;const ee={Promise:void 0,set useDeprecatedSynchronousErrorHandling(F){if(F){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else m&&console.log("RxJS: Back to a better error behavior. Thank you. <3");m=F},get useDeprecatedSynchronousErrorHandling(){return m}}},5345:(et,Te,V)=>{"use strict";V.d(Te,{IY:()=>ce,Ds:()=>ie,ft:()=>he});var m=V(7393),ee=V(7574),F=V(7444);class ce extends m.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ie extends m.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function he(W,k){if(k.closed)return;if(W instanceof ee.y)return W.subscribe(k);let L;try{L=(0,F.s)(W)(k)}catch(Q){k.error(Q)}return L}},2441:(et,Te,V)=>{"use strict";V.d(Te,{c:()=>te,N:()=>ie});var m=V(9765),ee=V(7574),F=V(5319),ce=V(1307);class te extends ee.y{constructor(L,Q){super(),this.source=L,this.subjectFactory=Q,this._refCount=0,this._isComplete=!1}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let L=this._connection;return L||(this._isComplete=!1,L=this._connection=new F.w,L.add(this.source.subscribe(new Ee(this.getSubject(),this))),L.closed&&(this._connection=null,L=F.w.EMPTY)),L}refCount(){return(0,ce.x)()(this)}}const ie=(()=>{const k=te.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class Ee extends m.Yc{constructor(L,Q){super(L),this.connectable=Q}_error(L){this._unsubscribe(),super._error(L)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const L=this.connectable;if(L){this.connectable=null;const Q=L._connection;L._refCount=0,L._subject=null,L._connection=null,Q&&Q.unsubscribe()}}}},9193:(et,Te,V)=>{"use strict";V.d(Te,{E:()=>ee,c:()=>F});var m=V(7574);const ee=new m.y(te=>te.complete());function F(te){return te?function(te){return new m.y(ie=>te.schedule(()=>ie.complete()))}(te):ee}},4402:(et,Te,V)=>{"use strict";V.d(Te,{D:()=>we});var m=V(7574),ee=V(7444),F=V(5319),ce=V(6554),Ee=V(4087),he=V(377),L=V(4072),Q=V(9489);function we(fe,q){return q?function(fe,q){if(null!=fe){if(function(fe){return fe&&"function"==typeof fe[ce.L]}(fe))return function(fe,q){return new m.y(_e=>{const ve=new F.w;return ve.add(q.schedule(()=>{const pe=fe[ce.L]();ve.add(pe.subscribe({next(Ie){ve.add(q.schedule(()=>_e.next(Ie)))},error(Ie){ve.add(q.schedule(()=>_e.error(Ie)))},complete(){ve.add(q.schedule(()=>_e.complete()))}}))})),ve})}(fe,q);if((0,L.t)(fe))return function(fe,q){return new m.y(_e=>{const ve=new F.w;return ve.add(q.schedule(()=>fe.then(pe=>{ve.add(q.schedule(()=>{_e.next(pe),ve.add(q.schedule(()=>_e.complete()))}))},pe=>{ve.add(q.schedule(()=>_e.error(pe)))}))),ve})}(fe,q);if((0,Q.z)(fe))return(0,Ee.r)(fe,q);if(function(fe){return fe&&"function"==typeof fe[he.hZ]}(fe)||"string"==typeof fe)return function(fe,q){if(!fe)throw new Error("Iterable cannot be null");return new m.y(_e=>{const ve=new F.w;let pe;return ve.add(()=>{pe&&"function"==typeof pe.return&&pe.return()}),ve.add(q.schedule(()=>{pe=fe[he.hZ](),ve.add(q.schedule(function(){if(_e.closed)return;let Ie,Fe;try{const Le=pe.next();Ie=Le.value,Fe=Le.done}catch(Le){return void _e.error(Le)}Fe?_e.complete():(_e.next(Ie),this.schedule())}))})),ve})}(fe,q)}throw new TypeError((null!==fe&&typeof fe||fe)+" is not observable")}(fe,q):fe instanceof m.y?fe:new m.y((0,ee.s)(fe))}},6693:(et,Te,V)=>{"use strict";V.d(Te,{n:()=>ce});var m=V(7574),ee=V(5015),F=V(4087);function ce(te,ie){return ie?(0,F.r)(te,ie):new m.y((0,ee.V)(te))}},6682:(et,Te,V)=>{"use strict";V.d(Te,{T:()=>te});var m=V(7574),ee=V(4869),F=V(3282),ce=V(6693);function te(...ie){let Ee=Number.POSITIVE_INFINITY,he=null,W=ie[ie.length-1];return(0,ee.K)(W)?(he=ie.pop(),ie.length>1&&"number"==typeof ie[ie.length-1]&&(Ee=ie.pop())):"number"==typeof W&&(Ee=ie.pop()),null===he&&1===ie.length&&ie[0]instanceof m.y?ie[0]:(0,F.J)(Ee)((0,ce.n)(ie,he))}},5917:(et,Te,V)=>{"use strict";V.d(Te,{of:()=>ce});var m=V(4869),ee=V(6693),F=V(4087);function ce(...te){let ie=te[te.length-1];return(0,m.K)(ie)?(te.pop(),(0,F.r)(te,ie)):(0,ee.n)(te)}},8002:(et,Te,V)=>{"use strict";V.d(Te,{U:()=>ee});var m=V(7393);function ee(te,ie){return function(he){if("function"!=typeof te)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return he.lift(new F(te,ie))}}class F{constructor(ie,Ee){this.project=ie,this.thisArg=Ee}call(ie,Ee){return Ee.subscribe(new ce(ie,this.project,this.thisArg))}}class ce extends m.L{constructor(ie,Ee,he){super(ie),this.project=Ee,this.count=0,this.thisArg=he||this}_next(ie){let Ee;try{Ee=this.project.call(this.thisArg,ie,this.count++)}catch(he){return void this.destination.error(he)}this.destination.next(Ee)}}},3282:(et,Te,V)=>{"use strict";V.d(Te,{J:()=>F});var m=V(9773),ee=V(4487);function F(ce=Number.POSITIVE_INFINITY){return(0,m.zg)(ee.y,ce)}},9773:(et,Te,V)=>{"use strict";V.d(Te,{zg:()=>ce});var m=V(8002),ee=V(4402),F=V(5345);function ce(he,W,k=Number.POSITIVE_INFINITY){return"function"==typeof W?L=>L.pipe(ce((Q,K)=>(0,ee.D)(he(Q,K)).pipe((0,m.U)((re,we)=>W(Q,re,K,we))),k)):("number"==typeof W&&(k=W),L=>L.lift(new te(he,k)))}class te{constructor(W,k=Number.POSITIVE_INFINITY){this.project=W,this.concurrent=k}call(W,k){return k.subscribe(new ie(W,this.project,this.concurrent))}}class ie extends F.Ds{constructor(W,k,L=Number.POSITIVE_INFINITY){super(W),this.project=k,this.concurrent=L,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(W){this.active<this.concurrent?this._tryNext(W):this.buffer.push(W)}_tryNext(W){let k;const L=this.index++;try{k=this.project(W,L)}catch(Q){return void this.destination.error(Q)}this.active++,this._innerSub(k)}_innerSub(W){const k=new F.IY(this),L=this.destination;L.add(k);const Q=(0,F.ft)(W,k);Q!==k&&L.add(Q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(W){this.destination.next(W)}notifyComplete(){const W=this.buffer;this.active--,W.length>0?this._next(W.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(et,Te,V)=>{"use strict";V.d(Te,{ht:()=>L,QV:()=>W});var m=V(7393),ee=V(9193),F=V(5917),ce=V(7574);class he{constructor(re,we,fe){this.kind=re,this.value=we,this.error=fe,this.hasValue="N"===re}observe(re){switch(this.kind){case"N":return re.next&&re.next(this.value);case"E":return re.error&&re.error(this.error);case"C":return re.complete&&re.complete()}}do(re,we,fe){switch(this.kind){case"N":return re&&re(this.value);case"E":return we&&we(this.error);case"C":return fe&&fe()}}accept(re,we,fe){return re&&"function"==typeof re.next?this.observe(re):this.do(re,we,fe)}toObservable(){switch(this.kind){case"N":return(0,F.of)(this.value);case"E":return K=this.error,new ce.y(we=>we.error(K));case"C":return(0,ee.c)()}var K;throw new Error("unexpected notification kind value")}static createNext(re){return void 0!==re?new he("N",re):he.undefinedValueNotification}static createError(re){return new he("E",void 0,re)}static createComplete(){return he.completeNotification}}function W(K,re=0){return function(fe){return fe.lift(new k(K,re))}}he.completeNotification=new he("C"),he.undefinedValueNotification=new he("N",void 0);class k{constructor(re,we=0){this.scheduler=re,this.delay=we}call(re,we){return we.subscribe(new L(re,this.scheduler,this.delay))}}class L extends m.L{constructor(re,we,fe=0){super(re),this.scheduler=we,this.delay=fe}static dispatch(re){const{notification:we,destination:fe}=re;we.observe(fe),this.unsubscribe()}scheduleMessage(re){this.destination.add(this.scheduler.schedule(L.dispatch,this.delay,new Q(re,this.destination)))}_next(re){this.scheduleMessage(he.createNext(re))}_error(re){this.scheduleMessage(he.createError(re)),this.unsubscribe()}_complete(){this.scheduleMessage(he.createComplete()),this.unsubscribe()}}class Q{constructor(re,we){this.notification=re,this.destination=we}}},1307:(et,Te,V)=>{"use strict";V.d(Te,{x:()=>ee});var m=V(7393);function ee(){return function(ie){return ie.lift(new F(ie))}}class F{constructor(ie){this.connectable=ie}call(ie,Ee){const{connectable:he}=this;he._refCount++;const W=new ce(ie,he),k=Ee.subscribe(W);return W.closed||(W.connection=he.connect()),k}}class ce extends m.L{constructor(ie,Ee){super(ie),this.connectable=Ee}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const Ee=ie._refCount;if(Ee<=0)return void(this.connection=null);if(ie._refCount=Ee-1,Ee>1)return void(this.connection=null);const{connection:he}=this,W=ie._connection;this.connection=null,W&&(!he||W===he)&&W.unsubscribe()}}},3101:(et,Te,V)=>{"use strict";V.d(Te,{R:()=>q});var m=V(7574);let ee=1;const F=Promise.resolve(),ce={};function te(ve){return ve in ce&&(delete ce[ve],!0)}const ie={setImmediate(ve){const pe=ee++;return ce[pe]=!0,F.then(()=>te(pe)&&ve()),pe},clearImmediate(ve){te(ve)}};var he=V(6465),k=V(6102);const K=new class extends k.v{flush(pe){this.active=!0,this.scheduled=void 0;const{actions:Ie}=this;let Fe,Le=-1,yt=Ie.length;pe=pe||Ie.shift();do{if(Fe=pe.execute(pe.state,pe.delay))break}while(++Le<yt&&(pe=Ie.shift()));if(this.active=!1,Fe){for(;++Le<yt&&(pe=Ie.shift());)pe.unsubscribe();throw Fe}}}(class extends he.o{constructor(pe,Ie){super(pe,Ie),this.scheduler=pe,this.work=Ie}requestAsyncId(pe,Ie,Fe=0){return null!==Fe&&Fe>0?super.requestAsyncId(pe,Ie,Fe):(pe.actions.push(this),pe.scheduled||(pe.scheduled=ie.setImmediate(pe.flush.bind(pe,null))))}recycleAsyncId(pe,Ie,Fe=0){if(null!==Fe&&Fe>0||null===Fe&&this.delay>0)return super.recycleAsyncId(pe,Ie,Fe);0===pe.actions.length&&(ie.clearImmediate(Ie),pe.scheduled=void 0)}});var re=V(9796);class fe extends m.y{constructor(pe,Ie=0,Fe=K){var ve;super(),this.source=pe,this.delayTime=Ie,this.scheduler=Fe,(!(!(0,re.k)(ve=Ie)&&ve-parseFloat(ve)+1>=0)||Ie<0)&&(this.delayTime=0),(!Fe||"function"!=typeof Fe.schedule)&&(this.scheduler=K)}static create(pe,Ie=0,Fe=K){return new fe(pe,Ie,Fe)}static dispatch(pe){const{source:Ie,subscriber:Fe}=pe;return this.add(Ie.subscribe(Fe))}_subscribe(pe){return this.scheduler.schedule(fe.dispatch,this.delayTime,{source:this.source,subscriber:pe})}}function q(ve,pe=0){return function(Fe){return Fe.lift(new _e(ve,pe))}}class _e{constructor(pe,Ie){this.scheduler=pe,this.delay=Ie}call(pe,Ie){return new fe(Ie,this.delay,this.scheduler).subscribe(pe)}}},3342:(et,Te,V)=>{"use strict";V.d(Te,{b:()=>ce});var m=V(7393);function ee(){}var F=V(9105);function ce(Ee,he,W){return function(L){return L.lift(new te(Ee,he,W))}}class te{constructor(he,W,k){this.nextOrObserver=he,this.error=W,this.complete=k}call(he,W){return W.subscribe(new ie(he,this.nextOrObserver,this.error,this.complete))}}class ie extends m.L{constructor(he,W,k,L){super(he),this._tapNext=ee,this._tapError=ee,this._tapComplete=ee,this._tapError=k||ee,this._tapComplete=L||ee,(0,F.m)(W)?(this._context=this,this._tapNext=W):W&&(this._context=W,this._tapNext=W.next||ee,this._tapError=W.error||ee,this._tapComplete=W.complete||ee)}_next(he){try{this._tapNext.call(this._context,he)}catch(W){return void this.destination.error(W)}this.destination.next(he)}_error(he){try{this._tapError.call(this._context,he)}catch(W){return void this.destination.error(W)}this.destination.error(he)}_complete(){try{this._tapComplete.call(this._context)}catch(he){return void this.destination.error(he)}return this.destination.complete()}}},4087:(et,Te,V)=>{"use strict";V.d(Te,{r:()=>F});var m=V(7574),ee=V(5319);function F(ce,te){return new m.y(ie=>{const Ee=new ee.w;let he=0;return Ee.add(te.schedule(function(){he!==ce.length?(ie.next(ce[he++]),ie.closed||Ee.add(this.schedule())):ie.complete()})),Ee})}},6465:(et,Te,V)=>{"use strict";V.d(Te,{o:()=>F});var m=V(5319);class ee extends m.w{constructor(te,ie){super()}schedule(te,ie=0){return this}}class F extends ee{constructor(te,ie){super(te,ie),this.scheduler=te,this.work=ie,this.pending=!1}schedule(te,ie=0){if(this.closed)return this;this.state=te;const Ee=this.id,he=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(he,Ee,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(he,this.id,ie),this}requestAsyncId(te,ie,Ee=0){return setInterval(te.flush.bind(te,this),Ee)}recycleAsyncId(te,ie,Ee=0){if(null!==Ee&&this.delay===Ee&&!1===this.pending)return ie;clearInterval(ie)}execute(te,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(te,ie);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,ie){let he,Ee=!1;try{this.work(te)}catch(W){Ee=!0,he=!!W&&W||new Error(W)}if(Ee)return this.unsubscribe(),he}_unsubscribe(){const te=this.id,ie=this.scheduler,Ee=ie.actions,he=Ee.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==he&&Ee.splice(he,1),null!=te&&(this.id=this.recycleAsyncId(ie,te,null)),this.delay=null}}},6102:(et,Te,V)=>{"use strict";V.d(Te,{v:()=>ee});let m=(()=>{class F{constructor(te,ie=F.now){this.SchedulerAction=te,this.now=ie}schedule(te,ie=0,Ee){return new this.SchedulerAction(this,te).schedule(Ee,ie)}}return F.now=()=>Date.now(),F})();class ee extends m{constructor(ce,te=m.now){super(ce,()=>ee.delegate&&ee.delegate!==this?ee.delegate.now():te()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,te=0,ie){return ee.delegate&&ee.delegate!==this?ee.delegate.schedule(ce,te,ie):super.schedule(ce,te,ie)}flush(ce){const{actions:te}=this;if(this.active)return void te.push(ce);let ie;this.active=!0;do{if(ie=ce.execute(ce.state,ce.delay))break}while(ce=te.shift());if(this.active=!1,ie){for(;ce=te.shift();)ce.unsubscribe();throw ie}}}},3637:(et,Te,V)=>{"use strict";V.d(Te,{z:()=>F});var m=V(6465);const F=new(V(6102).v)(m.o)},7771:(et,Te,V)=>{"use strict";V.d(Te,{c:()=>ie,N:()=>te});var m=V(6465),F=V(6102);const te=new class extends F.v{}(class extends m.o{constructor(he,W){super(he,W),this.scheduler=he,this.work=W}schedule(he,W=0){return W>0?super.schedule(he,W):(this.delay=W,this.state=he,this.scheduler.flush(this),this)}execute(he,W){return W>0||this.closed?super.execute(he,W):this._execute(he,W)}requestAsyncId(he,W,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(he,W,k):he.flush(this)}}),ie=te},377:(et,Te,V)=>{"use strict";V.d(Te,{hZ:()=>ee});const ee="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(et,Te,V)=>{"use strict";V.d(Te,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(et,Te,V)=>{"use strict";V.d(Te,{b:()=>m});const m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(et,Te,V)=>{"use strict";V.d(Te,{N:()=>ee});const ee=(()=>{function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return F.prototype=Object.create(Error.prototype),F})()},4449:(et,Te,V)=>{"use strict";function m(ee){setTimeout(()=>{throw ee},0)}V.d(Te,{z:()=>m})},4487:(et,Te,V)=>{"use strict";function m(ee){return ee}V.d(Te,{y:()=>m})},9796:(et,Te,V)=>{"use strict";V.d(Te,{k:()=>m});const m=Array.isArray||(ee=>ee&&"number"==typeof ee.length)},9489:(et,Te,V)=>{"use strict";V.d(Te,{z:()=>m});const m=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},9105:(et,Te,V)=>{"use strict";function m(ee){return"function"==typeof ee}V.d(Te,{m:()=>m})},1555:(et,Te,V)=>{"use strict";function m(ee){return null!==ee&&"object"==typeof ee}V.d(Te,{K:()=>m})},4072:(et,Te,V)=>{"use strict";function m(ee){return!!ee&&"function"!=typeof ee.subscribe&&"function"==typeof ee.then}V.d(Te,{t:()=>m})},4869:(et,Te,V)=>{"use strict";function m(ee){return ee&&"function"==typeof ee.schedule}V.d(Te,{K:()=>m})},7444:(et,Te,V)=>{"use strict";V.d(Te,{s:()=>L});var m=V(5015),ee=V(4449),ce=V(377),ie=V(6554),he=V(9489),W=V(4072),k=V(1555);const L=Q=>{if(Q&&"function"==typeof Q[ie.L])return(Q=>K=>{const re=Q[ie.L]();if("function"!=typeof re.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return re.subscribe(K)})(Q);if((0,he.z)(Q))return(0,m.V)(Q);if((0,W.t)(Q))return(Q=>K=>(Q.then(re=>{K.closed||(K.next(re),K.complete())},re=>K.error(re)).then(null,ee.z),K))(Q);if(Q&&"function"==typeof Q[ce.hZ])return(Q=>K=>{const re=Q[ce.hZ]();for(;;){let we;try{we=re.next()}catch(fe){return K.error(fe),K}if(we.done){K.complete();break}if(K.next(we.value),K.closed)break}return"function"==typeof re.return&&K.add(()=>{re.return&&re.return()}),K})(Q);{const re=`You provided ${(0,k.K)(Q)?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(re)}}},5015:(et,Te,V)=>{"use strict";V.d(Te,{V:()=>m});const m=ee=>F=>{for(let ce=0,te=ee.length;ce<te&&!F.closed;ce++)F.next(ee[ce]);F.complete()}},9267:(et,Te,V)=>{"use strict";var m=V(3018);let ee=null;function F(){return ee}const Ee=new m.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,m.Yz7)({factory:W,token:n,providedIn:"platform"}),n})();function W(){return(0,m.LFG)(L)}const k=new m.OlP("Location Initialized");let L=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const s=F().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",t,!1),()=>s.removeEventListener("popstate",t)}onHashChange(t){const s=F().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",t,!1),()=>s.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,s,a){Q()?this._history.pushState(t,s,a):this.location.hash=a}replaceState(t,s,a){Q()?this._history.replaceState(t,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Ee))},n.\u0275prov=(0,m.Yz7)({factory:K,token:n,providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function K(){return new L((0,m.LFG)(Ee))}function re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function we(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function fe(n){return n&&"?"!==n[0]?"?"+n:n}let q=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,m.Yz7)({factory:_e,token:n,providedIn:"root"}),n})();function _e(n){const e=(0,m.LFG)(Ee).location;return new pe((0,m.LFG)(he),e&&e.origin||"")}const ve=new m.OlP("appBaseHref");let pe=(()=>{class n extends q{constructor(t,s){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return re(this._baseHref,t)}path(t=!1){const s=this._platformLocation.pathname+fe(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${s}${a}`:s}pushState(t,s,a,l){const f=this.prepareExternalUrl(a+fe(l));this._platformLocation.pushState(t,s,f)}replaceState(t,s,a,l){const f=this.prepareExternalUrl(a+fe(l));this._platformLocation.replaceState(t,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(he),m.LFG(ve,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends q{constructor(t,s){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(t){const s=re(this._baseHref,t);return s.length>0?"#"+s:s}pushState(t,s,a,l){let f=this.prepareExternalUrl(a+fe(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,s,f)}replaceState(t,s,a,l){let f=this.prepareExternalUrl(a+fe(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(he),m.LFG(ve,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t,s){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=we(gt(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,s=""){return this.path()==this.normalize(t+fe(s))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,gt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,s="",a=null){this._platformStrategy.pushState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fe(s)),a)}replaceState(t,s="",a=null){this._platformStrategy.replaceState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fe(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(t="",s){this._urlChangeListeners.forEach(a=>a(t,s))}subscribe(t,s,a){return this._subject.subscribe({next:t,error:s,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(q),m.LFG(he))},n.normalizeQueryParams=fe,n.joinWithSlash=re,n.stripTrailingSlash=we,n.\u0275prov=(0,m.Yz7)({factory:Le,token:n,providedIn:"root"}),n})();function Le(){return new Fe((0,m.LFG)(q),(0,m.LFG)(he))}function gt(n){return n.replace(/\/index.html$/,"")}var oe=(()=>((oe=oe||{})[oe.Zero=0]="Zero",oe[oe.One=1]="One",oe[oe.Two=2]="Two",oe[oe.Few=3]="Few",oe[oe.Many=4]="Many",oe[oe.Other=5]="Other",oe))();const Dr=m.kL8;class rr{}let Sn=(()=>{class n extends rr{constructor(t){super(),this.locale=t}getPluralCategory(t,s){switch(Dr(s||this.locale)(t)){case oe.Zero:return"zero";case oe.One:return"one";case oe.Two:return"two";case oe.Few:return"few";case oe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.soG))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),Ma=(()=>{class n{constructor(t,s,a,l){this._iterableDiffers=t,this._keyValueDiffers=s,this._ngEl=a,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),t.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),t.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(s.item)}`);this._toggleClass(s.item,!0)}),t.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(s=>this._toggleClass(s,!0)):Object.keys(t).forEach(s=>this._toggleClass(s,!!t[s])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(s=>this._toggleClass(s,!1)):Object.keys(t).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(t,s){(t=t.trim())&&t.split(/\s+/g).forEach(a=>{s?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Bc{constructor(e,t,s,a){this.$implicit=e,this.ngForOf=t,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wi=(()=>{class n{constructor(t,s,a){this._viewContainer=t,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const s=[];t.forEachOperation((a,l,f)=>{if(null==a.previousIndex){const v=this._viewContainer.createEmbeddedView(this._template,new Bc(null,this._ngForOf,-1,-1),null===f?void 0:f),b=new Hn(a,v);s.push(b)}else if(null==f)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const v=this._viewContainer.get(l);this._viewContainer.move(v,f);const b=new Hn(a,v);s.push(b)}});for(let a=0;a<s.length;a++)this._perViewChange(s[a].view,s[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const f=this._viewContainer.get(a);f.context.index=a,f.context.count=l,f.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,s){t.context.$implicit=s.item}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Hn{constructor(e,t){this.record=e,this.view=t}}let qg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[{provide:rr,useClass:Sn}]}),n})();function lo(n){return"server"===n}let ho=(()=>{class n{}return n.\u0275prov=(0,m.Yz7)({token:n,providedIn:"root",factory:()=>new Lu((0,m.LFG)(Ee),window)}),n})();class Lu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const f=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(f)return f}a=s.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),s=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=La(this.window.history)||La(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function La(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Os extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Os,ee||(ee=n)}onAndCancel(e,t,s){return e.addEventListener(t,s,!1),()=>{e.removeEventListener(t,s,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Li=Li||document.querySelector("base"),Li?Li.getAttribute("href"):null);return null==t?null:function(n){Yo=Yo||document.createElement("a"),Yo.setAttribute("href",n);const e=Yo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Li=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const s=t.indexOf("="),[a,l]=-1==s?[t,""]:[t.slice(0,s),t.slice(s+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Yo,Li=null;const Vu=new m.OlP("TRANSITION_ID"),Uu=[{provide:m.ip1,useFactory:function(n,e,t){return()=>{t.get(m.CZH).donePromise.then(()=>{const s=F(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)s.remove(a[l])})}},deps:[Vu,Ee,m.zs3],multi:!0}];class bt{static init(){(0,m.VLi)(new bt)}addToWindow(e){m.dqk.getAngularTestability=(s,a=!0)=>{const l=e.findTestabilityInTree(s,a);if(null==l)throw new Error("Could not find testability for element.");return l},m.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(s=>{const a=m.dqk.getAllAngularTestabilities();let l=a.length,f=!1;const v=function(b){f=f||b,l--,0==l&&s(f)};a.forEach(function(b){b.whenStable(v)})})}findTestabilityInTree(e,t,s){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:s?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Nd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const ss=new m.OlP("EventManagerPlugins");let ea=(()=>{class n{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,s,a){return this._findPluginFor(s).addEventListener(t,s,a)}addGlobalEventListener(t,s,a){return this._findPluginFor(s).addGlobalEventListener(t,s,a)}getZone(){return this._zone}_findPluginFor(t){const s=this._eventNameToPlugin.get(t);if(s)return s;const a=this._plugins;for(let l=0;l<a.length;l++){const f=a[l];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(ss),m.LFG(m.R0b))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class mo{constructor(e){this._doc=e}addGlobalEventListener(e,t,s){const a=F().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,s)}}let Wc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const s=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),os=(()=>{class n extends Wc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,s,a){t.forEach(l=>{const f=this._doc.createElement("style");f.textContent=l,a.push(s.appendChild(f))})}addHost(t){const s=[];this._addStylesToHost(this._stylesSet,t,s),this._hostNodes.set(t,s)}removeHost(t){const s=this._hostNodes.get(t);s&&s.forEach(Md),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(t,a,s)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Md))}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Ee))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function Md(n){F().remove(n)}const Se={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Dt=/%COMP%/g;function ks(n,e,t){for(let s=0;s<e.length;s++){let a=e[s];Array.isArray(a)?ks(n,a,t):(a=a.replace(Dt,n),t.push(a))}return t}function Pd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let na=(()=>{class n{constructor(t,s,a){this.eventManager=t,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Ui(t)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;switch(s.encapsulation){case m.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new Bi(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(t),a}case 1:case m.ifc.ShadowDom:return new as(this.eventManager,this.sharedStylesHost,t,s);default:if(!this.rendererByCompId.has(s.id)){const a=ks(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(ea),m.LFG(os),m.LFG(m.AFp))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class Ui{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Se[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,s){e&&e.insertBefore(t,s)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error(`The selector "${e}" did not match any elements`);return t||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,s,a){if(a){t=a+":"+t;const l=Se[a];l?e.setAttributeNS(l,t,s):e.setAttribute(t,s)}else e.setAttribute(t,s)}removeAttribute(e,t,s){if(s){const a=Se[s];a?e.removeAttributeNS(a,t):e.removeAttribute(`${s}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,s,a){a&(m.JOm.DashCase|m.JOm.Important)?e.style.setProperty(t,s,a&m.JOm.Important?"important":""):e.style[t]=s}removeStyle(e,t,s){s&m.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,s){e[t]=s}setValue(e,t){e.nodeValue=t}listen(e,t,s){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Pd(s)):this.eventManager.addEventListener(e,t,Pd(s))}}class Bi extends Ui{constructor(e,t,s,a){super(e),this.component=s;const l=ks(a+"-"+s.id,s.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Dt,a+"-"+s.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Dt,n)}(a+"-"+s.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const s=super.createElement(e,t);return super.setAttribute(s,this.contentAttr,""),s}}class as extends Ui{constructor(e,t,s,a){super(e),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ks(a.id,a.styles,[]);for(let f=0;f<l.length;f++){const v=document.createElement("style");v.textContent=l[f],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,s){return super.insertBefore(this.nodeOrShadowRoot(e),t,s)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ja=(()=>{class n extends mo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,a){return t.addEventListener(s,a,!1),()=>this.removeEventListener(t,s,a)}removeEventListener(t,s,a){return t.removeEventListener(s,a)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Ee))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const _o=["alt","control","meta","shift"],qu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Wr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ji=(()=>{class n extends mo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,s,a){const l=n.parseEventName(s),f=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,l.domEventName,f))}static parseEventName(t){const s=t.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(s.pop());let f="";if(_o.forEach(b=>{const S=s.indexOf(b);S>-1&&(s.splice(S,1),f+=b+".")}),f+=l,0!=s.length||0===l.length)return null;const v={};return v.domEventName=a,v.fullKey=f,v}static getEventFullKey(t){let s="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Vd.hasOwnProperty(e)&&(e=Vd[e]))}return qu[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),_o.forEach(l=>{l!=a&&Wr[l](t)&&(s+=l+".")}),s+=a,s}static eventCallback(t,s,a){return l=>{n.getEventFullKey(l)===t&&a.runGuarded(()=>s(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Ee))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const el=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:"browser"},{provide:m.g9A,useValue:function(){Os.makeCurrent(),bt.init()},multi:!0},{provide:Ee,useFactory:function(){return(0,m.RDi)(document),document},deps:[]}]),Fs=[[],{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function(){return new m.qLn},deps:[]},{provide:ss,useClass:ja,multi:!0,deps:[Ee,m.R0b,m.Lbi]},{provide:ss,useClass:ji,multi:!0,deps:[Ee]},[],{provide:na,useClass:na,deps:[ea,os,m.AFp]},{provide:m.FYo,useExisting:na},{provide:Wc,useExisting:os},{provide:os,useClass:os,deps:[Ee]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b]},{provide:ea,useClass:ea,deps:[ss,m.R0b]},{provide:class{},useClass:Nd,deps:[]},[]];let Ha=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:m.AFp,useValue:t.appId},{provide:Vu,useExisting:m.AFp},Uu]}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(n,12))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:Fs,imports:[qg,m.hGG]}),n})();"undefined"!=typeof window&&window;var pn=V(4402),Cn=V(7574),Ya=V(9796),ht=V(8002),ua=V(1555);function ls(n,e){return new Cn.y(t=>{const s=n.length;if(0===s)return void t.complete();const a=new Array(s);let l=0,f=0;for(let v=0;v<s;v++){const b=(0,pn.D)(n[v]);let S=!1;t.add(b.subscribe({next:M=>{S||(S=!0,f++),a[v]=M},error:M=>t.error(M),complete:()=>{l++,(l===s||!S)&&(f===s&&t.next(e?e.reduce((M,P,Y)=>(M[P]=a[Y],M),{}):a),t.complete())}}))}})}let ds=(()=>{class n{constructor(t,s){this._renderer=t,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,s){this._renderer.setProperty(this._elementRef.nativeElement,t,s)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.Qsj),m.Y36(m.SBq))},n.\u0275dir=m.lG2({type:n}),n})(),hs=(()=>{class n extends ds{}return n.\u0275fac=function(){let e;return function(s){return(e||(e=m.n5z(n)))(s||n)}}(),n.\u0275dir=m.lG2({type:n,features:[m.qOj]}),n})();const fs=new m.OlP("NgValueAccessor"),$d={provide:fs,useExisting:(0,m.Gpc)(()=>ps),multi:!0},rl=new m.OlP("CompositionEventMode");let ps=(()=>{class n extends ds{constructor(t,s,a){super(t,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(rl,8))},n.\u0275dir=m.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,s){1&t&&m.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[m._Bn([$d]),m.qOj]}),n})();const zn=new m.OlP("NgValidators"),Di=new m.OlP("NgAsyncValidators");function Hd(n){return null!=n}function al(n){const e=(0,m.QGY)(n)?(0,pn.D)(n):n;return(0,m.CqO)(e),e}function Tf(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ju(n,e){return e.map(t=>t(n))}function Xu(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function ec(n){return null!=n?function(n){if(!n)return null;const e=n.filter(Hd);return 0==e.length?null:function(t){return Tf(Ju(t,e))}}(Xu(n)):null}function Xa(n){return null!=n?function(n){if(!n)return null;const e=n.filter(Hd);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,Ya.k)(e))return ls(e,null);if((0,ua.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return ls(t.map(s=>e[s]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return ls(n=1===n.length&&(0,Ya.k)(n[0])?n[0]:n,null).pipe((0,ht.U)(t=>e(...t)))}return ls(n,null)}(Ju(t,e).map(al)).pipe((0,ht.U)(Tf))}}(Xu(n)):null}function ha(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function eu(n){return n?Array.isArray(n)?n:[n]:[]}function _s(n,e){return Array.isArray(n)?n.includes(e):n===e}function vs(n,e){const t=eu(e);return eu(n).forEach(a=>{_s(t,a)||t.push(a)}),t}function wo(n,e){return eu(e).filter(t=>!_s(n,t))}let Kg=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ec(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Xa(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,s){return!!this.control&&this.control.hasError(t,s)}getError(t,s){return this.control?this.control.getError(t,s):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=m.lG2({type:n}),n})(),Mt=(()=>{class n extends Kg{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(s){return(e||(e=m.n5z(n)))(s||n)}}(),n.\u0275dir=m.lG2({type:n,features:[m.qOj]}),n})();class Ti extends Kg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bo{constructor(e){this._cd=e}is(e){var t,s,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[e])}}let Kr=(()=>{class n extends bo{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(Ti,2))},n.\u0275dir=m.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,s){2&t&&m.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[m.qOj]}),n})(),Zr=(()=>{class n extends bo{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(Mt,10))},n.\u0275dir=m.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,s){2&t&&m.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[m.qOj]}),n})();function Z(n,e){Ge(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&sr(n,e)})}(n,e),function(n,e){const t=(s,a)=>{e.valueAccessor.writeValue(s),a&&e.viewToModelUpdate(s)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&sr(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=s=>{e.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ne(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ge(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(ha(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const s=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(ha(s,e.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();Ne(e._rawValidators,a),Ne(e._rawAsyncValidators,a)}function sr(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function iu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Es="VALID",qd="INVALID",un="PENDING",fa="DISABLED";function Co(n){return(Wd(n)?n.validators:n)||null}function rc(n){return Array.isArray(n)?ec(n):n||null}function hl(n,e){return(Wd(e)?e.asyncValidators:n)||null}function Nf(n){return Array.isArray(n)?Xa(n):n||null}function Wd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Mf{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=rc(this._rawValidators),this._composedAsyncValidatorFn=Nf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Es}get invalid(){return this.status===qd}get pending(){return this.status==un}get disabled(){return this.status===fa}get enabled(){return this.status!==fa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=rc(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Nf(e)}addValidators(e){this.setValidators(vs(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vs(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wo(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wo(e,this._rawAsyncValidators))}hasValidator(e){return _s(this._rawValidators,e)}hasAsyncValidator(e){return _s(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=un,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fa,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Es,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Es||this.status===un)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fa:Es}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=un,this._hasOwnPendingAsyncValidator=!0;const t=al(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let s=n;return e.forEach(a=>{s=s instanceof li?s.controls.hasOwnProperty(a)?s.controls[a]:null:s instanceof zd&&s.at(a)||null}),s}(this,e)}getError(e,t){const s=t?this.get(t):this;return s&&s.errors?s.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?fa:this.errors?qd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(un)?un:this._anyControlsHaveStatus(qd)?qd:Es}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Io extends Mf{constructor(e=null,t,s){super(Co(t),hl(s,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class li extends Mf{constructor(e,t,s){super(Co(t),hl(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,s={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,s)=>(e[s]=t instanceof Io?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,s)=>!!s._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const s=this.controls[t];s&&e(s,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const s=this.controls[t];if(this.contains(t)&&e(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,s)=>((t.enabled||this.disabled)&&(e[s]=t.value),e))}_reduceChildren(e,t){let s=e;return this._forEachChild((a,l)=>{s=t(s,a,l)}),s}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class zd extends Mf{constructor(e,t,s){super(Co(t),hl(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,s={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((s,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Io?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,s)=>!!s._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,s)=>{e(t,s)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const pa={provide:Mt,useExisting:(0,m.Gpc)(()=>sc)},ic=(()=>Promise.resolve(null))();let sc=(()=>{class n extends Mt{constructor(t,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new m.vpe,this.form=new li({},ec(t),Xa(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ic.then(()=>{const s=this._findContainer(t.path);t.control=s.registerControl(t.name,t.control),Z(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ic.then(()=>{const s=this._findContainer(t.path);s&&s.removeControl(t.name),iu(this._directives,t)})}addFormGroup(t){ic.then(()=>{const s=this._findContainer(t.path),a=new li({});(function(n,e){Ge(n,e)})(a,t),s.registerControl(t.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ic.then(()=>{const s=this._findContainer(t.path);s&&s.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,s){ic.then(()=>{this.form.get(t.path).setValue(s)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const s=t.control;"submit"===s.updateOn&&s._pendingChange&&(t.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(zn,10),m.Y36(Di,10))},n.\u0275dir=m.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,s){1&t&&m.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([pa]),m.qOj]}),n})();const eb={provide:Ti,useExisting:(0,m.Gpc)(()=>Xg)},Of=(()=>Promise.resolve(null))();let Xg=(()=>{class n extends Ti{constructor(t,s,a,l){super(),this.control=new Io,this._registered=!1,this.update=new m.vpe,this._parent=t,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function(n,e){if(!e)return null;let t,s,a;return Array.isArray(e),e.forEach(l=>{l.constructor===ps?t=l:function(n){return Object.getPrototypeOf(n.constructor)===hs}(l)?s=l:a=l}),a||s||t||null}(0,l)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Z(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Of.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const s=t.isDisabled.currentValue,a=""===s||s&&"false"!==s;Of.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(Mt,9),m.Y36(zn,10),m.Y36(Di,10),m.Y36(fs,10))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([eb]),m.qOj,m.TTD]}),n})(),em=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=m.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Do=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})(),um=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[[Do]]}),n})(),cm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[um]}),n})();var qe=V(5917),Ao=V(9765),dm=V(7971);class Yr extends Ao.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new dm.N;return this._value}next(e){super.next(this._value=e)}}var Qr=V(4869),Jr=V(7393);class hm extends Jr.L{notifyNext(e,t,s,a,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class dv extends Jr.L{constructor(e,t,s){super(),this.parent=e,this.outerValue=t,this.outerIndex=s,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Wf=V(7444);function zf(n,e,t,s,a=new dv(n,t,s)){if(!a.closed)return e instanceof Cn.y?e.subscribe(a):(0,Wf.s)(e)(a)}var ob=V(6693);const fm={};class xn{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Xd(e,this.resultSelector))}}class Xd extends hm{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(fm),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let s=0;s<t;s++)this.add(zf(this,e[s],void 0,s))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,s){const a=this.values,f=this.toRespond?a[s]===fm?--this.toRespond:this.toRespond:0;a[s]=t,0===f&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}const wl=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Zn=V(3282);function ar(...n){return(0,Zn.J)(1)((0,qe.of)(...n))}var Bs=V(9193);function eh(n){return new Cn.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,pn.D)(t):(0,Bs.c)()).subscribe(e)})}var pm=V(2441),di=V(5345);function kn(n,e){return"function"==typeof e?t=>t.pipe(kn((s,a)=>(0,pn.D)(n(s,a)).pipe((0,ht.U)((l,f)=>e(s,l,a,f))))):t=>t.lift(new gm(n))}class gm{constructor(e){this.project=e}call(e,t){return t.subscribe(new Kf(e,this.project))}}class Kf extends di.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const s=this.index++;try{t=this.project(e,s)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const s=new di.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,di.ft)(e,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const ym=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Zf(n){return e=>0===n?(0,Bs.c)():e.lift(new _m(n))}class _m{constructor(e){if(this.total=e,this.total<0)throw new ym}call(e,t){return t.subscribe(new Yf(e,this.total))}}class Yf extends Jr.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,s=++this.count;s<=t&&(this.destination.next(e),s===t&&(this.destination.complete(),this.unsubscribe()))}}function _(...n){const e=n[n.length-1];return(0,Qr.K)(e)?(n.pop(),t=>ar(n,t,e)):t=>ar(n,t)}function h(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new p(n,e,t))}}class p{constructor(e,t,s=!1){this.accumulator=e,this.seed=t,this.hasSeed=s}call(e,t){return t.subscribe(new E(e,this.accumulator,this.seed,this.hasSeed))}}class E extends Jr.L{constructor(e,t,s,a){super(e),this.accumulator=t,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let s;try{s=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}function A(n,e){return function(s){return s.lift(new N(n,e))}}class N{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new z(e,this.predicate,this.thisArg))}}class z extends Jr.L{constructor(e,t,s){super(e),this.predicate=t,this.thisArg=s,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(s){return void this.destination.error(s)}t&&this.destination.next(e)}}function de(n){return function(t){const s=new Ue(n),a=t.lift(s);return s.caught=a}}class Ue{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Xe(e,this.selector,this.caught))}}class Xe extends di.Ds{constructor(e,t,s){super(e),this.selector=t,this.caught=s}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const s=new di.IY(this);this.add(s);const a=(0,di.ft)(t,s);a!==s&&this.add(a)}}}var Je=V(9773);function st(n,e){return(0,Je.zg)(n,e,1)}function Fn(n){return function(t){return 0===n?(0,Bs.c)():t.lift(new hi(n))}}class hi{constructor(e){if(this.total=e,this.total<0)throw new ym}call(e,t){return t.subscribe(new Xr(e,this.total))}}class Xr extends Jr.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,s=this.total,a=this.count++;t.length<s?t.push(e):t[a%s]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<s;l++){const f=t++%s;e.next(a[f])}}e.complete()}}function th(n=Jf){return e=>e.lift(new Qf(n))}class Qf{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new vm(e,this.errorFactory))}}class vm extends Jr.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Jf(){return new wl}function Xf(n=null){return e=>e.lift(new ep(n))}class ep{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Em(e,this.defaultValue))}}class Em extends Jr.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var nh=V(4487);function Gi(n,e){const t=arguments.length>=2;return s=>s.pipe(n?A((a,l)=>n(a,l,s)):nh.y,Zf(1),t?Xf(e):th(()=>new wl))}var En=V(3342),ab=V(1307),NT=V(5319);class uR{constructor(e){this.callback=e}call(e,t){return t.subscribe(new ma(e,this.callback))}}class ma extends Jr.L{constructor(e,t){super(e),this.add(new NT.w(t))}}class So{constructor(e,t){this.id=e,this.url=t}}class tp extends So{constructor(e,t,s="imperative",a=null){super(e,t),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class np extends So{constructor(e,t,s){super(e,t),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fv extends So{constructor(e,t,s){super(e,t),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rp extends So{constructor(e,t,s){super(e,t),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cb extends So{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lb extends So{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pv extends So{constructor(e,t,s,a,l){super(e,t),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gv extends So{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class db extends So{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MT{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bl{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mv{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hb{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OT{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yv{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fb{constructor(e,t,s){this.routerEvent=e,this.position=t,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const St="primary";class PT{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function rh(n){return new PT(n)}const pb="ngNavigationCancelingError";function _v(n){const e=Error("NavigationCancelingError: "+n);return e[pb]=!0,e}function vv(n,e,t){const s=t.path.split("/");if(s.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||s.length<n.length))return null;const a={};for(let l=0;l<s.length;l++){const f=s[l],v=n[l];if(f.startsWith(":"))a[f.substring(1)]=v;else if(f!==v.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function js(n,e){const t=n?Object.keys(n):void 0,s=e?Object.keys(e):void 0;if(!t||!s||t.length!=s.length)return!1;let a;for(let l=0;l<t.length;l++)if(a=t[l],!yb(n[a],e[a]))return!1;return!0}function yb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),s=[...e].sort();return t.every((a,l)=>s[l]===a)}return n===e}function _b(n){return Array.prototype.concat.apply([],n)}function Ev(n){return n.length>0?n[n.length-1]:null}function Ln(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function xo(n){return(0,m.CqO)(n)?n:(0,m.QGY)(n)?(0,pn.D)(Promise.resolve(n)):(0,qe.of)(n)}const FT={exact:function wv(n,e,t){if(!cu(n.segments,e.segments)||!Cl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const s in e.children)if(!n.children[s]||!wv(n.children[s],e.children[s],t))return!1;return!0},subset:bm},ip={exact:function(n,e){return js(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>yb(n[t],e[t]))},ignored:()=>!0};function Eb(n,e,t){return FT[t.paths](n.root,e.root,t.matrixParams)&&ip[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function bm(n,e,t){return bv(n,e,e.segments,t)}function bv(n,e,t,s){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!cu(a,t)||e.hasChildren()||!Cl(a,t,s))}if(n.segments.length===t.length){if(!cu(n.segments,t)||!Cl(n.segments,t,s))return!1;for(const a in e.children)if(!n.children[a]||!bm(n.children[a],e.children[a],s))return!1;return!0}{const a=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(cu(n.segments,a)&&Cl(n.segments,a,s)&&n.children[St])&&bv(n.children[St],e,l,s)}}function Cl(n,e,t){return e.every((s,a)=>ip[t](n[a].parameters,s.parameters))}class ya{constructor(e,t,s){this.root=e,this.queryParams=t,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rh(this.queryParams)),this._queryParamMap}toString(){return LT.serialize(this)}}class Rt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ln(t,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cm(this)}}class Il{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=rh(this.parameters)),this._parameterMap}toString(){return Ib(this)}}function cu(n,e){return n.length===e.length&&n.every((t,s)=>t.path===e[s].path)}class Cv{}class Iv{parse(e){const t=new Db(e);return new ya(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${ih(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const s=n[t];return Array.isArray(s)?s.map(a=>`${op(t)}=${op(a)}`).join("&"):`${op(t)}=${op(s)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const LT=new Iv;function Cm(n){return n.segments.map(e=>Ib(e)).join("/")}function ih(n,e){if(!n.hasChildren())return Cm(n);if(e){const t=n.children[St]?ih(n.children[St],!1):"",s=[];return Ln(n.children,(a,l)=>{l!==St&&s.push(`${l}:${ih(a,!1)}`)}),s.length>0?`${t}(${s.join("//")})`:t}{const t=function(n,e){let t=[];return Ln(n.children,(s,a)=>{a===St&&(t=t.concat(e(s,a)))}),Ln(n.children,(s,a)=>{a!==St&&(t=t.concat(e(s,a)))}),t}(n,(s,a)=>a===St?[ih(n.children[St],!1)]:[`${a}:${ih(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[St]?`${Cm(n)}/${t[0]}`:`${Cm(n)}/(${t.join("//")})`}}function Im(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function op(n){return Im(n).replace(/%3B/gi,";")}function Dm(n){return Im(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tm(n){return decodeURIComponent(n)}function Dv(n){return Tm(n.replace(/\+/g,"%20"))}function Ib(n){return`${Dm(n.path)}${function(n){return Object.keys(n).map(e=>`;${Dm(e)}=${Dm(n[e])}`).join("")}(n.parameters)}`}const UT=/^[^\/()?;=#]+/;function ap(n){const e=n.match(UT);return e?e[0]:""}const BT=/^[^=?&#]+/,$T=/^[^?&#]+/;class Db{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(s[St]=new Rt(e,t)),s}parseSegment(){const e=ap(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Il(Tm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ap(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const a=ap(this.remaining);a&&(s=a,this.capture(s))}e[Tm(t)]=Tm(s)}parseQueryParam(e){const t=function(n){const e=n.match(BT);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const f=function(n){const e=n.match($T);return e?e[0]:""}(this.remaining);f&&(s=f,this.capture(s))}const a=Dv(t),l=Dv(s);if(e.hasOwnProperty(a)){let f=e[a];Array.isArray(f)||(f=[f],e[a]=f),f.push(l)}else e[a]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=ap(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;s.indexOf(":")>-1?(l=s.substr(0,s.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=St);const f=this.parseChildren();t[l]=1===Object.keys(f).length?f[St]:new Rt([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Tb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Tv(e,this._root);return t?t.children.map(s=>s.value):[]}firstChild(e){const t=Tv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Av(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return Av(e,this._root).map(t=>t.value)}}function Tv(n,e){if(n===e.value)return e;for(const t of e.children){const s=Tv(n,t);if(s)return s}return null}function Av(n,e){if(n===e.value)return[e];for(const t of e.children){const s=Av(n,t);if(s.length)return s.unshift(e),s}return[]}class lt{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function sh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Sv extends Tb{constructor(e,t){super(e),this.snapshot=t,Sm(this,e)}toString(){return this.snapshot.toString()}}function up(n,e){const t=function(n,e){const f=new $s([],{},{},"",{},St,e,null,n.root,-1,{});return new Am("",new lt(f,[]))}(n,e),s=new Yr([new Il("",{})]),a=new Yr({}),l=new Yr({}),f=new Yr({}),v=new Yr(""),b=new Dl(s,a,f,v,l,St,e,t.root);return b.snapshot=t.root,new Sv(new lt(b,[]),t)}class Dl{constructor(e,t,s,a,l,f,v,b){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=f,this.component=v,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(e=>rh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(e=>rh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ab(n,e="emptyOnly"){const t=n.pathFromRoot;let s=0;if("always"!==e)for(s=t.length-1;s>=1;){const a=t[s],l=t[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(l.component)break;s--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(s))}class $s{constructor(e,t,s,a,l,f,v,b,S,M,P){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=f,this.component=v,this.routeConfig=b,this._urlSegment=S,this._lastPathIndex=M,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Am extends Tb{constructor(e,t){super(t),this.url=e,Sm(this,t)}toString(){return xm(this._root)}}function Sm(n,e){e.value._routerState=n,e.children.forEach(t=>Sm(n,t))}function xm(n){const e=n.children.length>0?` { ${n.children.map(xm).join(", ")} } `:"";return`${n.value}${e}`}function Sb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,js(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),js(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!js(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),js(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Rm(n,e){return js(n.params,e.params)&&function(n,e){return cu(n,e)&&n.every((t,s)=>js(t.parameters,e[s].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||Rm(n.parent,e.parent))}function Hs(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const s=t.value;s._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(s=>{for(const a of t.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return Hs(n,s,a);return Hs(n,s)})}(n,e,t);return new lt(s,a)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const f=l.route;return cp(e,f),f}}const s=function(n){return new Dl(new Yr(n.url),new Yr(n.params),new Yr(n.queryParams),new Yr(n.fragment),new Yr(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(l=>Hs(n,l));return new lt(s,a)}}function cp(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)cp(n.children[t],e.children[t])}function Mm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function oh(n){return"object"==typeof n&&null!=n&&n.outlets}function xb(n,e,t,s,a){let l={};return s&&Ln(s,(f,v)=>{l[v]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),new ya(t.root===n?e:Rb(t.root,n,e),l,a)}function Rb(n,e,t){const s={};return Ln(n.children,(a,l)=>{s[l]=a===e?t:Rb(a,e,t)}),new Rt(n.segments,s)}class GT{constructor(e,t,s){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=s,e&&s.length>0&&Mm(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(oh);if(a&&a!==Ev(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Om{constructor(e,t,s){this.segmentGroup=e,this.processChildren=t,this.index=s}}function WT(n,e,t){if(n||(n=new Rt([],{})),0===n.segments.length&&n.hasChildren())return Mv(n,e,t);const s=function(n,e,t){let s=0,a=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=t.length)return l;const f=n.segments[a],v=t[s];if(oh(v))break;const b=`${v}`,S=s<t.length-1?t[s+1]:null;if(a>0&&void 0===b)break;if(b&&S&&"object"==typeof S&&void 0===S.outlets){if(!KT(b,S,f))return l;s+=2}else{if(!KT(b,{},f))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,e,t),a=t.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const l=new Rt(n.segments.slice(0,s.pathIndex),{});return l.children[St]=new Rt(n.segments.slice(s.pathIndex),n.children),Mv(l,0,a)}return s.match&&0===a.length?new Rt(n.segments,{}):s.match&&!n.hasChildren()?Mb(n,e,t):s.match?Mv(n,0,a):Mb(n,e,t)}function Mv(n,e,t){if(0===t.length)return new Rt(n.segments,{});{const s=function(n){return oh(n[0])?n[0].outlets:{[St]:n}}(t),a={};return Ln(s,(l,f)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[f]=WT(n.children[f],e,l))}),Ln(n.children,(l,f)=>{void 0===s[f]&&(a[f]=l)}),new Rt(n.segments,a)}}function Mb(n,e,t){const s=n.segments.slice(0,e);let a=0;for(;a<t.length;){const l=t[a];if(oh(l)){const b=pR(l.outlets);return new Rt(s,b)}if(0===a&&Mm(t[0])){s.push(new Il(n.segments[e].path,zT(t[0]))),a++;continue}const f=oh(l)?l.outlets[St]:`${l}`,v=a<t.length-1?t[a+1]:null;f&&v&&Mm(v)?(s.push(new Il(f,zT(v))),a+=2):(s.push(new Il(f,{})),a++)}return new Rt(s,{})}function pR(n){const e={};return Ln(n,(t,s)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[s]=Mb(new Rt([],{}),0,t))}),e}function zT(n){const e={};return Ln(n,(t,s)=>e[s]=`${t}`),e}function KT(n,e,t){return n==t.path&&js(e,t.parameters)}class mR{constructor(e,t,s,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=s,this.forwardEvent=a}activate(e){const t=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,s,e),Sb(this.futureState.root),this.activateChildRoutes(t,s,e)}deactivateChildRoutes(e,t,s){const a=sh(t);e.children.forEach(l=>{const f=l.value.outlet;this.deactivateRoutes(l,a[f],s),delete a[f]}),Ln(a,(l,f)=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(e,t,s){const a=e.value,l=t?t.value:null;if(a===l)if(a.component){const f=s.getContext(a.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,s);else l&&this.deactivateRouteAndItsChildren(t,s)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const s=t.getContext(e.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),l=s.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const s=t.getContext(e.value.outlet),a=s&&e.value.component?s.children:t,l=sh(e);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(e,t,s){const a=sh(t);e.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new yv(l.value.snapshot))}),e.children.length&&this.forwardEvent(new hb(e.value.snapshot))}activateRoutes(e,t,s){const a=e.value,l=t?t.value:null;if(Sb(a),a===l)if(a.component){const f=s.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,s);else if(a.component){const f=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const v=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(v.contexts),f.attachRef=v.componentRef,f.route=v.route.value,f.outlet&&f.outlet.attach(v.componentRef,v.route.value),ZT(v.route)}else{const v=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),b=v?v.module.componentFactoryResolver:null;f.attachRef=null,f.route=a,f.resolver=b,f.outlet&&f.outlet.activateWith(a,b),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,s)}}function ZT(n){Sb(n.value),n.children.forEach(ZT)}class lp{constructor(e,t){this.routes=e,this.module=t}}function cc(n){return"function"==typeof n}function lu(n){return n instanceof ya}const ah=Symbol("INITIAL_VALUE");function dp(){return kn(n=>function(...n){let e,t;return(0,Qr.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Ya.k)(n[0])&&(n=n[0]),(0,ob.n)(n,t).lift(new xn(e))}(n.map(e=>e.pipe(Zf(1),_(ah)))).pipe(h((e,t)=>{let s=!1;return t.reduce((a,l,f)=>a!==ah?a:(l===ah&&(s=!0),s||!1!==l&&f!==t.length-1&&!lu(l)?a:l),e)},ah),A(e=>e!==ah),(0,ht.U)(e=>lu(e)?e:!0===e),Zf(1)))}let QT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,s){1&t&&m._UZ(0,"router-outlet")},directives:function(){return[qm]},encapsulation:2}),n})();function Pm(n,e=""){for(let t=0;t<n.length;t++){const s=n[t];JT(s,kb(e,s))}}function JT(n,e){n.children&&Pm(n.children,e)}function kb(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Pv(n){const e=n.children&&n.children.map(Pv),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==St&&(t.component=QT),t}function Gs(n){return n.outlet||St}function uh(n,e){const t=n.filter(s=>Gs(s)===e);return t.push(...n.filter(s=>Gs(s)!==e)),t}const Tl={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ch(n,e,t){var s;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Tl):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||vv)(t,n,e);if(!l)return Object.assign({},Tl);const f={};Ln(l.posParams,(b,S)=>{f[S]=b.path});const v=l.consumed.length>0?Object.assign(Object.assign({},f),l.consumed[l.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:v,positionalParamSegments:null!==(s=l.posParams)&&void 0!==s?s:{}}}function du(n,e,t,s,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(s=>fp(n,e,s)&&Gs(s)!==St)}(n,t,s)){const f=new Rt(e,function(n,e,t,s){const a={};a[St]=s,s._sourceSegment=n,s._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Gs(l)!==St){const f=new Rt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[Gs(l)]=f}return a}(n,e,s,new Rt(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(s=>fp(n,e,s))}(n,t,s)){const f=new Rt(n.segments,function(n,e,t,s,a,l){const f={};for(const v of s)if(fp(n,t,v)&&!a[Gs(v)]){const b=new Rt([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===l?n.segments.length:e.length,f[Gs(v)]=b}return Object.assign(Object.assign({},a),f)}(n,e,t,s,n.children,a));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const l=new Rt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function fp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function km(n,e,t,s){return!!(Gs(n)===s||s!==St&&fp(e,t,n))&&("**"===n.path||ch(e,n,t).matched)}function Fm(n,e,t){return 0===e.length&&!n.children[t]}class dh{constructor(e){this.segmentGroup=e||null}}class pp{constructor(e){this.urlTree=e}}function Lm(n){return new Cn.y(e=>e.error(new dh(n)))}function kv(n){return new Cn.y(e=>e.error(new pp(n)))}function yR(n){return new Cn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class eA{constructor(e,t,s,a,l){this.configLoader=t,this.urlSerializer=s,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(m.h0i)}apply(){const e=du(this.urlTree.root,[],[],this.config).segmentGroup,t=new Rt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,St).pipe((0,ht.U)(l=>this.createUrlTree(Fv(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(de(l=>{if(l instanceof pp)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof dh?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,St).pipe((0,ht.U)(a=>this.createUrlTree(Fv(a),e.queryParams,e.fragment))).pipe(de(a=>{throw a instanceof dh?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,s){const a=e.segments.length>0?new Rt([],{[St]:e}):e;return new ya(a,t,s)}expandSegmentGroup(e,t,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(e,t,s).pipe((0,ht.U)(l=>new Rt([],l))):this.expandSegment(e,s,t,s.segments,a,!0)}expandChildren(e,t,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return(0,pn.D)(a).pipe(st(l=>{const f=s.children[l],v=uh(t,l);return this.expandSegmentGroup(e,v,f,l).pipe((0,ht.U)(b=>({segment:b,outlet:l})))}),h((l,f)=>(l[f.outlet]=f.segment,l),{}),function(n,e){const t=arguments.length>=2;return s=>s.pipe(n?A((a,l)=>n(a,l,s)):nh.y,Fn(1),t?Xf(e):th(()=>new wl))}())}expandSegment(e,t,s,a,l,f){return(0,pn.D)(s).pipe(st(v=>this.expandSegmentAgainstRoute(e,t,s,v,a,l,f).pipe(de(S=>{if(S instanceof dh)return(0,qe.of)(null);throw S}))),Gi(v=>!!v),de((v,b)=>{if(v instanceof wl||"EmptyError"===v.name){if(Fm(t,a,l))return(0,qe.of)(new Rt([],{}));throw new dh(t)}throw v}))}expandSegmentAgainstRoute(e,t,s,a,l,f,v){return km(a,t,l,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,l,f):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,s,a,l,f):Lm(t):Lm(t)}expandSegmentAgainstRouteUsingRedirect(e,t,s,a,l,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,s,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,l,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,s,a){const l=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?kv(l):this.lineralizeSegments(s,l).pipe((0,Je.zg)(f=>{const v=new Rt(f,{});return this.expandSegment(e,v,t,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,l,f){const{matched:v,consumedSegments:b,lastChild:S,positionalParamSegments:M}=ch(t,a,l);if(!v)return Lm(t);const P=this.applyRedirectCommands(b,a.redirectTo,M);return a.redirectTo.startsWith("/")?kv(P):this.lineralizeSegments(a,P).pipe((0,Je.zg)(Y=>this.expandSegment(e,t,s,Y.concat(l.slice(S)),f,!1)))}matchSegmentAgainstRoute(e,t,s,a,l){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,qe.of)(s._loadedConfig):this.configLoader.load(e.injector,s)).pipe((0,ht.U)(Y=>(s._loadedConfig=Y,new Rt(a,{})))):(0,qe.of)(new Rt(a,{}));const{matched:f,consumedSegments:v,lastChild:b}=ch(t,s,a);if(!f)return Lm(t);const S=a.slice(b);return this.getChildConfig(e,s,a).pipe((0,Je.zg)(P=>{const Y=P.module,J=P.routes,{segmentGroup:xe,slicedSegments:je}=du(t,v,S,J),Ze=new Rt(xe.segments,xe.children);if(0===je.length&&Ze.hasChildren())return this.expandChildren(Y,J,Ze).pipe((0,ht.U)(Ut=>new Rt(v,Ut)));if(0===J.length&&0===je.length)return(0,qe.of)(new Rt(v,{}));const Pt=Gs(s)===l;return this.expandSegment(Y,Ze,J,je,Pt?St:l,!0).pipe((0,ht.U)(Mn=>new Rt(v.concat(Mn.segments),Mn.children)))}))}getChildConfig(e,t,s){return t.children?(0,qe.of)(new lp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,qe.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,s).pipe((0,Je.zg)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,ht.U)(l=>(t._loadedConfig=l,l))):(n=t,new Cn.y(e=>e.error(_v(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,qe.of)(new lp([],e))}runCanLoadGuards(e,t,s){const a=t.canLoad;if(!a||0===a.length)return(0,qe.of)(!0);const l=a.map(f=>{const v=e.get(f);let b;if((n=v)&&cc(n.canLoad))b=v.canLoad(t,s);else{if(!cc(v))throw new Error("Invalid CanLoad guard");b=v(t,s)}var n;return xo(b)});return(0,qe.of)(l).pipe(dp(),(0,En.b)(f=>{if(!lu(f))return;const v=_v(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw v.url=f,v}),(0,ht.U)(f=>!0===f))}lineralizeSegments(e,t){let s=[],a=t.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,qe.of)(s);if(a.numberOfChildren>1||!a.children[St])return yR(e.redirectTo);a=a.children[St]}}applyRedirectCommands(e,t,s){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,s)}applyRedirectCreatreUrlTree(e,t,s,a){const l=this.createSegmentGroup(e,t.root,s,a);return new ya(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const s={};return Ln(e,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const v=a.substring(1);s[l]=t[v]}else s[l]=a}),s}createSegmentGroup(e,t,s,a){const l=this.createSegments(e,t.segments,s,a);let f={};return Ln(t.children,(v,b)=>{f[b]=this.createSegmentGroup(e,v,s,a)}),new Rt(l,f)}createSegments(e,t,s,a){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,a):this.findOrReturn(l,s))}findPosParam(e,t,s){const a=s[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let s=0;for(const a of t){if(a.path===e.path)return t.splice(s),a;s++}return e}}function Fv(n){const e={};for(const s of Object.keys(n.children)){const l=Fv(n.children[s]);(l.segments.length>0||l.hasChildren())&&(e[s]=l)}return function(n){if(1===n.numberOfChildren&&n.children[St]){const e=n.children[St];return new Rt(n.segments.concat(e.segments),e.children)}return n}(new Rt(n.segments,e))}class qi{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Vm{constructor(e,t){this.component=e,this.route=t}}function nA(n,e,t){const s=n._root;return Um(s,e?e._root:null,t,[s.value])}function Lv(n,e,t){const s=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(s?s.module.injector:t).get(n)}function Um(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=sh(e);return n.children.forEach(f=>{(function(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,f=e?e.value:null,v=t?t.getContext(n.value.outlet):null;if(f&&l.routeConfig===f.routeConfig){const b=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!cu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!cu(n.url,e.url)||!js(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rm(n,e)||!js(n.queryParams,e.queryParams);case"paramsChange":default:return!Rm(n,e)}}(f,l,l.routeConfig.runGuardsAndResolvers);b?a.canActivateChecks.push(new qi(s)):(l.data=f.data,l._resolvedData=f._resolvedData),Um(n,e,l.component?v?v.children:null:t,s,a),b&&v&&v.outlet&&v.outlet.isActivated&&a.canDeactivateChecks.push(new Vm(v.outlet.component,f))}else f&&hh(e,v,a),a.canActivateChecks.push(new qi(s)),Um(n,null,l.component?v?v.children:null:t,s,a)})(f,l[f.value.outlet],t,s.concat([f.value]),a),delete l[f.value.outlet]}),Ln(l,(f,v)=>hh(f,t.getContext(v),a)),a}function hh(n,e,t){const s=sh(n),a=n.value;Ln(s,(l,f)=>{hh(l,a.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new Vm(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class Hb{}function Uv(n){return new Cn.y(e=>e.error(n))}class _a{constructor(e,t,s,a,l,f){this.rootComponentType=e,this.config=t,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=f}recognize(){const e=du(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,St);if(null===t)return null;const s=new $s([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},St,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new lt(s,t),l=new Am(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,s=Ab(t,this.paramsInheritanceStrategy);t.params=Object.freeze(s.params),t.data=Object.freeze(s.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,s){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,s)}processChildren(e,t){const s=[];for(const l of Object.keys(t.children)){const f=t.children[l],v=uh(e,l),b=this.processSegmentGroup(v,f,l);if(null===b)return null;s.push(...b)}const a=fA(s);return a.sort((e,t)=>e.value.outlet===St?-1:t.value.outlet===St?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,s,a){for(const l of e){const f=this.processSegmentAgainstRoute(l,t,s,a);if(null!==f)return f}return Fm(t,s,a)?[]:null}processSegmentAgainstRoute(e,t,s,a){if(e.redirectTo||!km(e,t,s,a))return null;let l,f=[],v=[];if("**"===e.path){const J=s.length>0?Ev(s).parameters:{};l=new $s(s,J,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Wb(e),Gs(e),e.component,e,Gb(t),qb(t)+s.length,Bm(e))}else{const J=ch(t,e,s);if(!J.matched)return null;f=J.consumedSegments,v=s.slice(J.lastChild),l=new $s(f,J.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Wb(e),Gs(e),e.component,e,Gb(t),qb(t)+f.length,Bm(e))}const b=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:M}=du(t,f,v,b.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);var n;if(0===M.length&&S.hasChildren()){const J=this.processChildren(b,S);return null===J?null:[new lt(l,J)]}if(0===b.length&&0===M.length)return[new lt(l,[])];const P=Gs(e)===a,Y=this.processSegment(b,S,M,P?St:a);return null===Y?null:[new lt(l,Y)]}}function hA(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function fA(n){const e=[],t=new Set;for(const s of n){if(!hA(s)){e.push(s);continue}const a=e.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),t.add(a)):e.push(s)}for(const s of t){const a=fA(s.children);e.push(new lt(s.value,a))}return e.filter(s=>!t.has(s))}function Gb(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function qb(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Wb(n){return n.data||{}}function Bm(n){return n.resolve||{}}function gp(n){return kn(e=>{const t=n(e);return t?(0,pn.D)(t).pipe((0,ht.U)(()=>e)):(0,qe.of)(e)})}class _A extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Hv=new m.OlP("ROUTES");class $m{constructor(e,t,s,a){this.loader=e,this.compiler=t,this.onLoadStartListener=s,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,ht.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=l.create(e);return new lp(_b(f.injector.get(Hv,void 0,m.XFs.Self|m.XFs.Optional)).map(Pv),f)}),de(l=>{throw t._loader$=void 0,l}));return t._loader$=new pm.c(a,()=>new Ao.xQ).pipe((0,ab.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,pn.D)(this.loader.load(e)):xo(e()).pipe((0,Je.zg)(t=>t instanceof m.YKP?(0,qe.of)(t):(0,pn.D)(this.compiler.compileModuleAsync(t))))}}class vR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fh,this.attachRef=null}}class fh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const s=this.getOrCreateContext(e);s.outlet=t,this.contexts.set(e,s)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new vR,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Zb{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Yb(n){throw n}function Qb(n,e,t){return e.parse("/")}function Gv(n,e){return(0,qe.of)(null)}const hu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wi=(()=>{class n{constructor(t,s,a,l,f,v,b,S){this.rootComponentType=t,this.urlSerializer=s,this.rootContexts=a,this.location=l,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ao.xQ,this.errorHandler=Yb,this.malformedUriErrorHandler=Qb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Gv,afterPreactivation:Gv},this.urlHandlingStrategy=new Zb,this.routeReuseStrategy=new _A,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(m.h0i),this.console=f.get(m.c2e);const Y=f.get(m.R0b);this.isNgZoneEnabled=Y instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new ya(new Rt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $m(v,b,J=>this.triggerEvent(new MT(J)),J=>this.triggerEvent(new bl(J))),this.routerState=up(this.currentUrlTree,this.rootComponentType),this.transitions=new Yr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const s=this.events;return t.pipe(A(a=>0!==a.id),(0,ht.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),kn(a=>{let l=!1,f=!1;return(0,qe.of)(a).pipe((0,En.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),kn(v=>{const b=this.browserUrlTree.toString(),S=!this.navigated||v.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return qv(v.source)&&(this.browserUrlTree=v.extractedUrl),(0,qe.of)(v).pipe(kn(P=>{const Y=this.transitions.getValue();return s.next(new tp(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),Y!==this.transitions.getValue()?Bs.E:Promise.resolve(P)}),function(n,e,t,s){return kn(a=>function(n,e,t,s,a){return new eA(n,e,t,s,a).apply()}(n,e,t,a.extractedUrl,s).pipe((0,ht.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,En.b)(P=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function(n,e,t,s,a){return(0,Je.zg)(l=>function(n,e,t,s,a="emptyOnly",l="legacy"){try{const f=new _a(n,e,t,s,a,l).recognize();return null===f?Uv(new Hb):(0,qe.of)(f)}catch(f){return Uv(f)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),s,a).pipe((0,ht.U)(f=>Object.assign(Object.assign({},l),{targetSnapshot:f}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,En.b)(P=>{"eager"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(P.urlAfterRedirects,P),this.browserUrlTree=P.urlAfterRedirects);const Y=new cb(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);s.next(Y)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Y,extractedUrl:J,source:xe,restoredState:je,extras:Ze}=v,Pt=new tp(Y,this.serializeUrl(J),xe,je);s.next(Pt);const nn=up(J,this.rootComponentType).snapshot;return(0,qe.of)(Object.assign(Object.assign({},v),{targetSnapshot:nn,urlAfterRedirects:J,extras:Object.assign(Object.assign({},Ze),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),Bs.E}),gp(v=>{const{targetSnapshot:b,id:S,extractedUrl:M,rawUrl:P,extras:{skipLocationChange:Y,replaceUrl:J}}=v;return this.hooks.beforePreactivation(b,{navigationId:S,appliedUrlTree:M,rawUrlTree:P,skipLocationChange:!!Y,replaceUrl:!!J})}),(0,En.b)(v=>{const b=new lb(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(b)}),(0,ht.U)(v=>Object.assign(Object.assign({},v),{guards:nA(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Je.zg)(t=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:f}}=t;return 0===f.length&&0===l.length?(0,qe.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,s){return(0,pn.D)(n).pipe((0,Je.zg)(a=>function(n,e,t,s,a){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,qe.of)(!0);const f=l.map(v=>{const b=Lv(v,e,a);let S;if(function(n){return n&&cc(n.canDeactivate)}(b))S=xo(b.canDeactivate(n,e,t,s));else{if(!cc(b))throw new Error("Invalid CanDeactivate guard");S=xo(b(n,e,t,s))}return S.pipe(Gi())});return(0,qe.of)(f).pipe(dp())}(a.component,a.route,t,e,s)),Gi(a=>!0!==a,!0))}(f,s,a,n).pipe((0,Je.zg)(v=>v&&function(n){return"boolean"==typeof n}(v)?function(n,e,t,s){return(0,pn.D)(e).pipe(st(a=>ar(function(n,e){return null!==n&&e&&e(new mv(n)),(0,qe.of)(!0)}(a.route.parent,s),function(n,e){return null!==n&&e&&e(new OT(n)),(0,qe.of)(!0)}(a.route,s),function(n,e,t){const s=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(f=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>eh(()=>{const v=f.guards.map(b=>{const S=Lv(b,f.node,t);let M;if(function(n){return n&&cc(n.canActivateChild)}(S))M=xo(S.canActivateChild(s,n));else{if(!cc(S))throw new Error("Invalid CanActivateChild guard");M=xo(S(s,n))}return M.pipe(Gi())});return(0,qe.of)(v).pipe(dp())}));return(0,qe.of)(l).pipe(dp())}(n,a.path,t),function(n,e,t){const s=e.routeConfig?e.routeConfig.canActivate:null;if(!s||0===s.length)return(0,qe.of)(!0);const a=s.map(l=>eh(()=>{const f=Lv(l,e,t);let v;if(function(n){return n&&cc(n.canActivate)}(f))v=xo(f.canActivate(e,n));else{if(!cc(f))throw new Error("Invalid CanActivate guard");v=xo(f(e,n))}return v.pipe(Gi())}));return(0,qe.of)(a).pipe(dp())}(n,a.route,t))),Gi(a=>!0!==a,!0))}(s,l,n,e):(0,qe.of)(v)),(0,ht.U)(v=>Object.assign(Object.assign({},t),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,En.b)(v=>{if(lu(v.guardsResult)){const S=_v(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw S.url=v.guardsResult,S}const b=new pv(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(b)}),A(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),gp(v=>{if(v.guards.canActivateChecks.length)return(0,qe.of)(v).pipe((0,En.b)(b=>{const S=new gv(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(S)}),kn(b=>{let S=!1;return(0,qe.of)(b).pipe(function(n,e){return(0,Je.zg)(t=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,qe.of)(t);let l=0;return(0,pn.D)(a).pipe(st(f=>function(n,e,t,s){return function(n,e,t,s){const a=Object.keys(n);if(0===a.length)return(0,qe.of)({});const l={};return(0,pn.D)(a).pipe((0,Je.zg)(f=>function(n,e,t,s){const a=Lv(n,e,s);return xo(a.resolve?a.resolve(e,t):a(e,t))}(n[f],e,t,s).pipe((0,En.b)(v=>{l[f]=v}))),Fn(1),(0,Je.zg)(()=>Object.keys(l).length===a.length?(0,qe.of)(l):Bs.E))}(n._resolve,n,e,s).pipe((0,ht.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Ab(n,t).resolve),null)))}(f.route,s,n,e)),(0,En.b)(()=>l++),Fn(1),(0,Je.zg)(f=>l===a.length?(0,qe.of)(t):Bs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,En.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,En.b)(b=>{const S=new db(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(S)}))}),gp(v=>{const{targetSnapshot:b,id:S,extractedUrl:M,rawUrl:P,extras:{skipLocationChange:Y,replaceUrl:J}}=v;return this.hooks.afterPreactivation(b,{navigationId:S,appliedUrlTree:M,rawUrlTree:P,skipLocationChange:!!Y,replaceUrl:!!J})}),(0,ht.U)(v=>{const b=function(n,e,t){const s=Hs(n,e._root,t?t._root:void 0);return new Sv(s,e)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:b})}),(0,En.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((n,e,t)=>(0,ht.U)(s=>(new mR(e,s.targetRouterState,s.currentRouterState,t).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,En.b)({next(){l=!0},complete(){l=!0}}),function(n){return e=>e.lift(new uR(n))}(()=>{var v;if(!l&&!f){const b=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,b)):this.cancelNavigationTransition(a,b)}(null===(v=this.currentNavigation)||void 0===v?void 0:v.id)===a.id&&(this.currentNavigation=null)}),de(v=>{if(f=!0,function(n){return n&&n[pb]}(v)){const b=lu(v.url);b||(this.navigated=!0,this.restoreHistory(a,!0));const S=new fv(a.id,this.serializeUrl(a.extractedUrl),v.message);s.next(S),b?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),P={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qv(a.source)};this.scheduleNavigation(M,"imperative",null,P,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const b=new rp(a.id,this.serializeUrl(a.extractedUrl),v);s.next(b);try{a.resolve(this.errorHandler(v))}catch(S){a.reject(S)}}return Bs.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const s=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:l,urlTree:f}=s,v={replaceUrl:!0};if(l){const b=Object.assign({},l);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(v.state=b)}this.scheduleNavigation(f,a,l,v)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(t){var s;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,s){if(!t)return!0;const a=s.urlTree.toString()===t.urlTree.toString();return s.transitionId!==t.transitionId||!a||!("hashchange"===s.source&&"popstate"===t.source||"popstate"===s.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Pm(t),this.config=t.map(Pv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,s={}){const{relativeTo:a,queryParams:l,fragment:f,queryParamsHandling:v,preserveFragment:b}=s,S=a||this.routerState.root,M=b?this.currentUrlTree.fragment:f;let P=null;switch(v){case"merge":P=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=l||null}return null!==P&&(P=this.removeEmptyProps(P)),function(n,e,t,s,a){if(0===t.length)return xb(e.root,e.root,e,s,a);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new GT(!0,0,n);let e=0,t=!1;const s=n.reduce((a,l,f)=>{if("object"==typeof l&&null!=l){if(l.outlets){const v={};return Ln(l.outlets,(b,S)=>{v[S]="string"==typeof b?b.split("/"):b}),[...a,{outlets:v}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===f?(l.split("/").forEach((v,b)=>{0==b&&"."===v||(0==b&&""===v?t=!0:".."===v?e++:""!=v&&a.push(v))}),a):[...a,l]},[]);return new GT(t,e,s)}(t);if(l.toRoot())return xb(e.root,new Rt([],{}),e,s,a);const f=function(n,e,t){if(n.isAbsolute)return new Om(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Om(l,l===e.root,0)}const s=Mm(n.commands[0])?0:1;return function(n,e,t){let s=n,a=e,l=t;for(;l>a;){if(l-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new Om(s,!1,a-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(l,e,n),v=f.processChildren?Mv(f.segmentGroup,f.index,l.commands):WT(f.segmentGroup,f.index,l.commands);return xb(f.segmentGroup,v,e,s,a)}(S,this.currentUrlTree,t,P,null!=M?M:null)}navigateByUrl(t,s={skipLocationChange:!1}){const a=lu(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,s)}navigate(t,s={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,s),s)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let s;try{s=this.urlSerializer.parse(t)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return s}isActive(t,s){let a;if(a=!0===s?Object.assign({},hu):!1===s?Object.assign({},Hm):s,lu(t))return Eb(this.currentUrlTree,t,a);const l=this.parseUrl(t);return Eb(this.currentUrlTree,l,a)}removeEmptyProps(t){return Object.keys(t).reduce((s,a)=>{const l=t[a];return null!=l&&(s[a]=l),s},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new np(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,s,a,l,f){var v,b;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),M=qv(s)&&S&&!qv(S.source),J=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===t.toString();if(M&&J)return Promise.resolve(!0);let xe,je,Ze;f?(xe=f.resolve,je=f.reject,Ze=f.promise):Ze=new Promise((Mn,Ut)=>{xe=Mn,je=Ut});const Pt=++this.navigationId;let nn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),nn=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):nn=0,this.setTransition({id:Pt,targetPageId:nn,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:xe,reject:je,promise:Ze,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ze.catch(Mn=>Promise.reject(Mn))}setBrowserUrl(t,s){const a=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(t,s=!1){var a,l;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===f?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,s){const a=new fv(t.id,this.serializeUrl(t.extractedUrl),s);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,s){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:s}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.DyG),m.LFG(Cv),m.LFG(fh),m.LFG(Fe),m.LFG(m.zs3),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(void 0))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function qv(n){return"imperative"!==n}let qm=(()=>{class n{constructor(t,s,a,l,f){this.parentContexts=t,this.location=s,this.resolver=a,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.name=l||St,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,s){this.activated=t,this._activatedRoute=s,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(s=s||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,b=new Jb(t,v,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(fh),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},n.\u0275dir=m.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Jb{constructor(e,t,s){this.route=e,this.childContexts=t,this.parent=s}get(e,t){return e===Dl?this.route:e===fh?this.childContexts:this.parent.get(e,t)}}class Xb{}class tC{preload(e,t){return(0,qe.of)(null)}}let Wm=(()=>{class n{constructor(t,s,a,l,f){this.router=t,this.injector=l,this.preloadingStrategy=f,this.loader=new $m(s,a,S=>t.triggerEvent(new MT(S)),S=>t.triggerEvent(new bl(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(A(t=>t instanceof np),st(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(m.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,s){const a=[];for(const l of s)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const f=l._loadedConfig;a.push(this.processRoutes(f.module,f.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(t,l)):l.children&&a.push(this.processRoutes(t,l.children));return(0,pn.D)(a).pipe((0,Zn.J)(),(0,ht.U)(l=>{}))}preloadConfig(t,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,qe.of)(s._loadedConfig):this.loader.load(t.injector,s)).pipe((0,Je.zg)(l=>(s._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Wi),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(Xb))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),Wv=(()=>{class n{constructor(t,s,a={}){this.router=t,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof np&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fb&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,s){this.router.triggerEvent(new fb(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Wi),m.LFG(ho),m.LFG(void 0))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const hc=new m.OlP("ROUTER_CONFIGURATION"),Al=new m.OlP("ROUTER_FORROOT_GUARD"),wA=[Fe,{provide:Cv,useClass:Iv},{provide:Wi,useFactory:function(n,e,t,s,a,l,f,v={},b,S){const M=new Wi(null,n,e,t,s,a,l,_b(f));return b&&(M.urlHandlingStrategy=b),S&&(M.routeReuseStrategy=S),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(v,M),v.enableTracing&&M.events.subscribe(P=>{var Y,J;null===(Y=console.group)||void 0===Y||Y.call(console,`Router Event: ${P.constructor.name}`),console.log(P.toString()),console.log(P),null===(J=console.groupEnd)||void 0===J||J.call(console)}),M},deps:[Cv,fh,Fe,m.zs3,m.v3s,m.Sil,Hv,hc,[class{},new m.FiY],[class{},new m.FiY]]},fh,{provide:Dl,useFactory:function(n){return n.routerState.root},deps:[Wi]},{provide:m.v3s,useClass:m.EAV},Wm,tC,class{preload(e,t){return t().pipe(de(()=>(0,qe.of)(null)))}},{provide:hc,useValue:{enableTracing:!1}}];function bA(){return new m.PXZ("Router",Wi)}let Sl=(()=>{class n{constructor(t,s){}static forRoot(t,s){return{ngModule:n,providers:[wA,rC(t),{provide:Al,useFactory:DA,deps:[[Wi,new m.FiY,new m.tp0]]},{provide:hc,useValue:s||{}},{provide:q,useFactory:IA,deps:[he,[new m.tBr(ve),new m.FiY],hc]},{provide:Wv,useFactory:CA,deps:[Wi,ho,hc]},{provide:Xb,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:tC},{provide:m.PXZ,multi:!0,useFactory:bA},[wn,{provide:m.ip1,multi:!0,useFactory:zv,deps:[wn]},{provide:Ea,useFactory:bR,deps:[wn]},{provide:m.tb,multi:!0,useExisting:Ea}]]}}static forChild(t){return{ngModule:n,providers:[rC(t)]}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Al,8),m.LFG(Wi,8))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();function CA(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Wv(n,e,t)}function IA(n,e,t={}){return t.useHash?new Ie(n,e):new pe(n,e)}function DA(n){return"guarded"}function rC(n){return[{provide:m.deG,multi:!0,useValue:n},{provide:Hv,multi:!0,useValue:n}]}let wn=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ao.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(v=>s=v),l=this.injector.get(Wi),f=this.injector.get(hc);return"disabled"===f.initialNavigation?(l.setUpLocationChangeListener(),s(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,qe.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),l.initialNavigation()):s(!0),a})}bootstrapListener(t){const s=this.injector.get(hc),a=this.injector.get(Wm),l=this.injector.get(Wv),f=this.injector.get(Wi),v=this.injector.get(m.z2F);t===v.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&f.initialNavigation(),a.setUpPreloading(),l.init(),f.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.zs3))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function zv(n){return n.appInitializer.bind(n)}function bR(n){return n.bootstrapListener.bind(n)}const Ea=new m.OlP("Router Initializer"),CR=[];let AA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[[Sl.forRoot(CR)],Sl]}),n})();var SA=V(3637),ei=V(6643);function zm(){return n=>n.lift(new oC)}class oC{call(e,t){return t.subscribe(new aC(e))}}class aC extends Jr.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class RA{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new yp(e,this.compare,this.keySelector))}}class yp extends Jr.L{constructor(e,t,s){super(e),this.keySelector=s,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=t,this.destination.next(e))}}var Ke,bs=V(8939),uC=(V(4671),V(4486)),be=V(8239),fc=V(5452),Km=V(6034),pc=V(5601),Nt=V(3854),MA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},wa={},Zm=Zm||{},Et=MA||self;function Ym(){}function cC(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Qm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Yv="closure_uid_"+(1e9*Math.random()>>>0),lC=0;function dC(n,e,t){return n.call.apply(n.bind,arguments)}function IR(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function gn(n,e,t){return(gn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dC:IR).apply(null,arguments)}function Qv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function fi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(s,a,l){for(var f=Array(arguments.length-2),v=2;v<arguments.length;v++)f[v-2]=arguments[v];return e.prototype[a].apply(s,f)}}function xl(){this.s=this.s,this.o=this.o}var fC={};xl.prototype.s=!1,xl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Yv)&&n[Yv]||(n[Yv]=++lC)}(this);delete fC[n]}},xl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Jv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},pC=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const s=n.length,a="string"==typeof n?n.split(""):n;for(let l=0;l<s;l++)l in a&&e.call(t,a[l],l,n)};function Xv(n){return Array.prototype.concat.apply([],arguments)}function _p(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function Jm(n){return/^[\s\xa0]*$/.test(n)}var Ri,Xm=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function xi(n,e){return-1!=n.indexOf(e)}function eE(n,e){return n<e?-1:n>e?1:0}e:{var gC=Et.navigator;if(gC){var mC=gC.userAgent;if(mC){Ri=mC;break e}}Ri=""}function tE(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function vp(n){const e={};for(const t in n)e[t]=n[t];return e}var Rl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nE(n,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)n[t]=s[t];for(let l=0;l<Rl.length;l++)t=Rl[l],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function Cs(n){return Cs[" "](n),n}Cs[" "]=Ym;var Nl,n,OA=xi(Ri,"Opera"),ph=xi(Ri,"Trident")||xi(Ri,"MSIE"),ey=xi(Ri,"Edge"),qs=ey||ph,gh=xi(Ri,"Gecko")&&!(xi(Ri.toLowerCase(),"webkit")&&!xi(Ri,"Edge"))&&!(xi(Ri,"Trident")||xi(Ri,"MSIE"))&&!xi(Ri,"Edge"),pi=xi(Ri.toLowerCase(),"webkit")&&!xi(Ri,"Edge");function gc(){var n=Et.document;return n?n.documentMode:void 0}e:{var zi="",wp=(n=Ri,gh?/rv:([^\);]+)(\)|;)/.exec(n):ey?/Edge\/([\d\.]+)/.exec(n):ph?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):pi?/WebKit\/(\S+)/.exec(n):OA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(wp&&(zi=wp?wp[1]:""),ph){var mc=gc();if(null!=mc&&mc>parseFloat(zi)){Nl=String(mc);break e}}Nl=zi}var mh={};function yh(){return e=mh,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=Xm(String(Nl)).split("."),t=Xm("9").split("."),s=Math.max(e.length,t.length);for(let f=0;0==n&&f<s;f++){var a=e[f]||"",l=t[f]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=eE(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||eE(0==a[2].length,0==l[2].length)||eE(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n}();var e}var _h=Et.document&&ph&&(gc()||parseInt(Nl,10))||void 0,vh=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Et.addEventListener("test",Ym,e),Et.removeEventListener("test",Ym,e)}catch(t){}return n}();function Yn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ba(n,e){if(Yn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(gh){e:{try{Cs(e.nodeName);var a=!0;break e}catch(l){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:yC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ba.Z.h.call(this)}}Yn.prototype.h=function(){this.defaultPrevented=!0},fi(ba,Yn);var yC={2:"touch",3:"pen",4:"mouse"};ba.prototype.h=function(){ba.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Eh="closure_listenable_"+(1e6*Math.random()|0),_C=0;function vC(n,e,t,s,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++_C,this.ca=this.fa=!1}function bp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Cp(n){this.src=n,this.g={},this.h=0}function ty(n,e){var t=e.type;if(t in n.g){var l,s=n.g[t],a=Jv(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(bp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ny(n,e,t,s){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==s)return a}return-1}Cp.prototype.add=function(n,e,t,s,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var f=ny(n,e,s,a);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new vC(e,this.src,l,!!s,a)).fa=t,n.push(e)),e};var ry="closure_lm_"+(1e6*Math.random()|0),rE={};function iE(n,e,t,s,a){if(s&&s.once)return sE(n,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)iE(n,e[l],t,s,a);return null}return t=aE(t),n&&n[Eh]?n.N(e,t,Qm(s)?!!s.capture:!!s,a):EC(n,e,t,!1,s,a)}function EC(n,e,t,s,a,l){if(!e)throw Error("Invalid event type");var f=Qm(a)?!!a.capture:!!a,v=oE(n);if(v||(n[ry]=v=new Cp(n)),(t=v.add(e,t,s,f,l)).proxy)return t;if(s=function(){var e=IC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)vh||(a=f),void 0===a&&(a=!1),n.addEventListener(e.toString(),s,a);else if(n.attachEvent)n.attachEvent(CC(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function sE(n,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)sE(n,e[l],t,s,a);return null}return t=aE(t),n&&n[Eh]?n.O(e,t,Qm(s)?!!s.capture:!!s,a):EC(n,e,t,!0,s,a)}function wC(n,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)wC(n,e[l],t,s,a);else s=Qm(s)?!!s.capture:!!s,t=aE(t),n&&n[Eh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ny(l=n.g[e],t,s,a))&&(bp(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=oE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ny(e,t,s,a)),(t=-1<n?e[n]:null)&&bC(t))}function bC(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Eh])ty(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(CC(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=oE(e))?(ty(t,n),0==t.h&&(t.src=null,e[ry]=null)):bp(n)}}}function CC(n){return n in rE?rE[n]:rE[n]="on"+n}function IC(n,e){if(n.ca)n=!0;else{e=new ba(e,this);var t=n.listener,s=n.ia||n.src;n.fa&&bC(n),n=t.call(s,e)}return n}function oE(n){return(n=n[ry])instanceof Cp?n:null}var iy="__closure_events_fn_"+(1e9*Math.random()>>>0);function aE(n){return"function"==typeof n?n:(n[iy]||(n[iy]=function(e){return n.handleEvent(e)}),n[iy])}function Nr(){xl.call(this),this.i=new Cp(this),this.P=this,this.I=null}function gi(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new Yn(e,n);else if(e instanceof Yn)e.target=e.target||n;else{var a=e;nE(e=new Yn(s,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];a=sy(f,s,!0,e)&&a}if(a=sy(f=e.g=n,s,!0,e)&&a,a=sy(f,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=sy(f=e.g=t[l],s,!1,e)&&a}function sy(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.ca&&f.capture==t){var v=f.listener,b=f.ia||f.src;f.fa&&ty(n.i,f),a=!1!==v.call(b,s)&&a}}return a&&!s.defaultPrevented}fi(Nr,xl),Nr.prototype[Eh]=!0,Nr.prototype.removeEventListener=function(n,e,t,s){wC(this,n,e,t,s)},Nr.prototype.M=function(){if(Nr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)bp(t[s]);delete n.g[e],n.h--}}this.I=null},Nr.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},Nr.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var oy=Et.JSON.stringify;function TR(){var n=DC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var cE,kA=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new FA,n=>n.reset());class FA{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function SR(n){Et.setTimeout(()=>{throw n},0)}function uE(n,e){cE||function(){var n=Et.Promise.resolve(void 0);cE=function(){n.then(xR)}}(),Ip||(cE(),Ip=!0),DC.add(n,e)}var Ip=!1,DC=new class{constructor(){this.h=this.g=null}add(e,t){const s=kA.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function xR(){for(var n;n=TR();){try{n.h.call(n.g)}catch(t){SR(t)}var e=kA;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ip=!1}function dE(n,e){Nr.call(this),this.h=n||1,this.g=e||Et,this.j=gn(this.kb,this),this.l=Date.now()}function TC(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function hE(n,e,t){if("function"==typeof n)t&&(n=gn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=gn(n.handleEvent,n)}return 2147483647<Number(e)?-1:Et.setTimeout(n,e||0)}function fE(n){n.g=hE(()=>{n.g=null,n.i&&(n.i=!1,fE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}fi(dE,Nr),(Ke=dE.prototype).da=!1,Ke.S=null,Ke.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),gi(this,"tick"),this.da&&(TC(this),this.start()))}},Ke.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ke.M=function(){dE.Z.M.call(this),TC(this),delete this.g};class RR extends xl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fE(this)}M(){super.M(),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dp(n){xl.call(this),this.h=n,this.g={}}fi(Dp,xl);var Ol=[];function AC(n,e,t,s){Array.isArray(t)||(t&&(Ol[0]=t.toString()),t=Ol);for(var a=0;a<t.length;a++){var l=iE(e,t[a],s||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function pE(n){tE(n.g,function(e,t){this.g.hasOwnProperty(t)&&bC(e)},n),n.g={}}function ay(){this.g=!0}function wh(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<a.length;f++)a[f]=""}}}return oy(t)}catch(v){return e}}(n,t)+(s?" "+s:"")})}Dp.prototype.M=function(){Dp.Z.M.call(this),pE(this)},Dp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ay.prototype.Aa=function(){this.g=!1},ay.prototype.info=function(){};var Pl={},RC=null;function cy(){return RC=RC||new Nr}function NC(n){Yn.call(this,Pl.Ma,n)}function bh(n){const e=cy();gi(e,new NC(e,n))}function MC(n,e){Yn.call(this,Pl.STAT_EVENT,n),this.stat=e}function mi(n){const e=cy();gi(e,new MC(e,n))}function gE(n,e){Yn.call(this,Pl.Na,n),this.size=e}function kl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){n()},e)}Pl.Ma="serverreachability",fi(NC,Yn),Pl.STAT_EVENT="statevent",fi(MC,Yn),Pl.Na="timingevent",fi(gE,Yn);var mE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ly={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yE(){}function Ch(){}yE.prototype.h=null;var _E,Tp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ap(){Yn.call(this,"d")}function Sp(){Yn.call(this,"c")}function Ih(){}function Fl(n,e,t,s){this.l=n,this.j=e,this.m=t,this.X=s||1,this.V=new Dp(this),this.P=NR,this.W=new dE(n=qs?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new vE}function vE(){this.i=null,this.g="",this.h=!1}fi(Ap,Yn),fi(Sp,Yn),fi(Ih,yE),Ih.prototype.g=function(){return new XMLHttpRequest},Ih.prototype.i=function(){return{}},_E=new Ih;var NR=45e3,EE={},xp={};function dy(n,e,t){n.K=1,n.v=kp(Ca(e)),n.s=t,n.U=!0,OC(n,null)}function OC(n,e){n.F=Date.now(),Ll(n),n.A=Ca(n.v);var t=n.A,s=n.X;Array.isArray(s)||(s=[String(s)]),LC(t.h,"t",s),n.C=0,t=n.l.H,n.h=new vE,n.g=$E(n.l,t?e:null,!n.s),0<n.O&&(n.L=new RR(gn(n.Ia,n,n.g),n.O)),AC(n.V,n.g,"readystatechange",n.gb),e=n.H?vp(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),bh(1),function(n,e,t,s,a,l){n.info(function(){if(n.g)if(l)for(var f="",v=l.split("&"),b=0;b<v.length;b++){var S=v[b].split("=");if(1<S.length){var M=S[0];S=S[1];var P=M.split("_");f=2<=P.length&&"type"==P[1]?f+(M+"=")+S+"&":f+(M+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function wE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function hy(n,e,t){let a,s=!0;for(;!n.I&&n.C<t.length;){if(a=PC(n,t),a==xp){4==e&&(n.o=4,mi(14),s=!1),wh(n.j,n.m,null,"[Incomplete Response]");break}if(a==EE){n.o=4,mi(15),wh(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}wh(n.j,n.m,a,null),py(n,a)}wE(n)&&a!=xp&&a!=EE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,mi(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),BE(e),e.L=!0,mi(11))):(wh(n.j,n.m,t,"[Invalid Chunked Response]"),_c(n),Np(n))}function PC(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?xp:(t=Number(e.substring(t,s)),isNaN(t)?EE:(s+=1)+t>e.length?xp:(e=e.substr(s,t),n.C=s+t,e))}function Ll(n){n.Y=Date.now()+n.P,fy(n,n.P)}function fy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=kl(gn(n.eb,n),e)}function Rp(n){n.B&&(Et.clearTimeout(n.B),n.B=null)}function Np(n){0==n.l.G||n.I||QC(n.l,n)}function _c(n){Rp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,TC(n.W),pE(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function py(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Ws(t.i,n)))if(t.I=n.N,!n.J&&Ws(t.i,n)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(S){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=kl(gn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Ty(t),Iy(t)}UE(t),mi(18)}if(1>=my(t.i)&&t.ka){try{t.ka()}catch(S){}t.ka=void 0}}else Bl(t,11)}else if((n.J||t.g==n)&&Ty(t),!Jm(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let S=a[e];if(t.U=S[0],S=S[1],2==t.G)if("c"==S[0]){t.J=S[1],t.la=S[2];const M=S[3];null!=M&&(t.ma=M,t.h.info("VER="+t.ma));const P=S[4];null!=P&&(t.za=P,t.h.info("SVER="+t.za));const Y=S[5];null!=Y&&"number"==typeof Y&&0<Y&&(t.K=s=1.5*Y,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const J=n.g;if(J){const xe=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xe){var l=s.i;!l.g&&(xi(xe,"spdy")||xi(xe,"quic")||xi(xe,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(RE(l,l.h),l.h=null))}if(s.D){const je=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;je&&(s.sa=je,In(s.F,s.D,je))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((s=t).oa=jE(s,s.H?s.la:null,s.W),f.J){UC(s.i,f);var v=f,b=s.K;b&&v.setTimeout(b),v.B&&(Rp(v),Ll(v)),s.g=f}else ZC(s);0<t.l.length&&Dy(t)}else"stop"!=S[0]&&"close"!=S[0]||Bl(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?Bl(t,7):LE(t):"noop"!=S[0]&&t.j&&t.j.wa(S),t.A=0)}bh(4)}catch(S){}}function gy(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(cC(n)||"string"==typeof n)pC(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(cC(n)||"string"==typeof n){t=[];for(var s=n.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,n)t[s++]=a;a=(s=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(cC(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n)).length;for(var l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],n)}}function Dh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(n)if(n instanceof Dh)for(t=n.T(),s=0;s<t.length;s++)this.set(t[s],n.get(t[s]));else for(s in n)this.set(s,n[s])}function CE(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var s=n.g[e];Vl(n.h,s)&&(n.g[t++]=s),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)Vl(a,s=n.g[e])||(n.g[t++]=s,a[s]=1),e++;n.g.length=t}}function Vl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ke=Fl.prototype).setTimeout=function(n){this.P=n},Ke.gb=function(n){n=n.target;const e=this.L;e&&3==Ia(n)?e.l():this.Ia(n)},Ke.Ia=function(n){try{if(n==this.g)e:{const M=Ia(this.g);var e=this.g.Da();const P=this.g.ba();if(!(3>M)&&(3!=M||qs||this.g&&(this.h.h||this.g.ga()||kE(this.g)))){this.I||4!=M||7==e||bh(8==e||0>=P?3:2),Rp(this);var t=this.g.ba();this.N=t;t:if(wE(this)){var s=kE(this.g);n="";var a=s.length,l=4==Ia(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){_c(this),Np(this);var f="";break t}this.h.i=new Et.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function(n,e,t,s,a,l,f){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.X,M,t),this.i){if(this.$&&!this.J){t:{if(this.g){var v,b=this.g;if((v=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jm(v)){var S=v;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,mi(12),_c(this),Np(this);break e}wh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,py(this,t)}this.U?(hy(this,M,f),qs&&this.i&&3==M&&(AC(this.V,this.W,"tick",this.fb),this.W.start())):(wh(this.j,this.m,f,null),py(this,f)),4==M&&_c(this),this.i&&!this.I&&(4==M?QC(this.l,this):(this.i=!1,Ll(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,mi(12)):(this.o=0,mi(13)),_c(this),Np(this)}}}catch(M){}},Ke.fb=function(){if(this.g){var n=Ia(this.g),e=this.g.ga();this.C<e.length&&(Rp(this),hy(this,n,e),this.i&&4!=n&&Ll(this))}},Ke.cancel=function(){this.I=!0,_c(this)},Ke.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(bh(3),mi(17)),_c(this),this.o=2,Np(this)):fy(this,this.Y-n)},(Ke=Dh.prototype).R=function(){CE(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ke.T=function(){return CE(this),this.g.concat()},Ke.get=function(n,e){return Vl(this.h,n)?this.h[n]:e},Ke.set=function(n,e){Vl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ke.forEach=function(n,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],l=this.get(a);n.call(e,l,a,this)}};var IE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof vc){this.g=void 0!==e?e:n.g,Mp(this,n.j),this.s=n.s,Op(this,n.i),Pp(this,n.m),this.l=n.l,e=n.h;var t=new Lp;t.i=e.i,e.g&&(t.g=new Dh(e.g),t.h=e.h),TE(this,t),this.o=n.o}else n&&(t=String(n).match(IE))?(this.g=!!e,Mp(this,t[1]||"",!0),this.s=Fp(t[2]||""),Op(this,t[3]||"",!0),Pp(this,t[4]),this.l=Fp(t[5]||"",!0),TE(this,t[6]||"",!0),this.o=Fp(t[7]||"")):(this.g=!!e,this.h=new Lp(null,this.g))}function Ca(n){return new vc(n)}function Mp(n,e,t){n.j=t?Fp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Op(n,e,t){n.i=t?Fp(e,!0):e}function Pp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function TE(n,e,t){e instanceof Lp?(n.h=e,function(n,e){e&&!n.j&&(fu(n),n.i=null,n.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(AE(this,s),LC(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Th(e,$A)),n.h=new Lp(e,n.g))}function In(n,e,t){n.h.set(e,t)}function kp(n){return In(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Fp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Th(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,BA),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function BA(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}vc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Th(e,ur,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Th(e,ur,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Th(t,"/"==t.charAt(0)?jA:kC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Th(t,FC)),n.join("")};var ur=/[#\/\?@]/g,kC=/[#\?:]/g,jA=/[#\?]/g,$A=/[#\?@]/g,FC=/#/g;function Lp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function fu(n){n.g||(n.g=new Dh,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),a=null;if(0<=s){var l=n[t].substring(0,s);a=n[t].substring(s+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function AE(n,e){fu(n),e=Ah(n,e),Vl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Vl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&CE(n)))}function Ul(n,e){return fu(n),e=Ah(n,e),Vl(n.g.h,e)}function LC(n,e,t){AE(n,e),0<t.length&&(n.i=null,n.g.set(Ah(n,e),_p(t)),n.h+=t.length)}function Ah(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function SE(n){this.l=n||OR,n=Et.PerformanceNavigationTiming?0<(n=Et.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Et.g&&Et.g.Ea&&Et.g.Ea()&&Et.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ke=Lp.prototype).add=function(n,e){fu(this),this.i=null,n=Ah(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ke.forEach=function(n,e){fu(this),this.g.forEach(function(t,s){pC(t,function(a){n.call(e,a,s,this)},this)},this)},Ke.T=function(){fu(this);for(var n=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=n[s],l=0;l<a.length;l++)t.push(e[s]);return t},Ke.R=function(n){fu(this);var e=[];if("string"==typeof n)Ul(this,n)&&(e=Xv(e,this.g.get(Ah(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Xv(e,n[t])}return e},Ke.set=function(n,e){return fu(this),this.i=null,Ul(this,n=Ah(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ke.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var l=0;l<s.length;l++){var f=a;""!==s[l]&&(f+="="+encodeURIComponent(String(s[l]))),n.push(f)}}return this.i=n.join("&")};var OR=10;function xE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function my(n){return n.h?1:n.g?n.g.size:0}function Ws(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function RE(n,e){n.g?n.g.add(e):n.h=e}function UC(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Mo(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return _p(n.i)}function Is(){}function Oo(){this.g=new Is}function BC(n,e,t){const s=t||"";try{gy(n,function(a,l){let f=a;Qm(a)&&(f=oy(a)),e.push(s+l+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function yy(n,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(l){}}function Vp(n){this.l=n.$b||null,this.j=n.ib||!1}function _y(n,e){Nr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=NE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}SE.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Is.prototype.stringify=function(n){return Et.JSON.stringify(n,void 0)},Is.prototype.parse=function(n){return Et.JSON.parse(n,void 0)},fi(Vp,yE),Vp.prototype.g=function(){return new _y(this.l,this.j)},Vp.prototype.i=function(n){return function(){return n}}({}),fi(_y,Nr);var NE=0;function vy(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function pu(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Up(n)}function Up(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ke=_y.prototype).open=function(n,e){if(this.readyState!=NE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Up(this)},Ke.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Et).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pu(this)),this.readyState=NE},Ke.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Up(this)),this.g&&(this.readyState=3,Up(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Et.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vy(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ke.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?pu(this):Up(this),3==this.readyState&&vy(this)}},Ke.Ua=function(n){this.g&&(this.response=this.responseText=n,pu(this))},Ke.Ta=function(n){this.g&&(this.response=n,pu(this))},Ke.ha=function(){this.g&&pu(this)},Ke.setRequestHeader=function(n,e){this.v.append(n,e)},Ke.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ke.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(_y.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var $C=Et.JSON.parse;function cr(n){Nr.call(this),this.headers=new Dh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ME,this.K=this.L=!1}fi(cr,Nr);var ME="",HC=/^https?$/i,Ey=["POST","PUT"];function GC(n){return"content-type"==n.toLowerCase()}function OE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,wy(n),Bp(n)}function wy(n){n.D||(n.D=!0,gi(n,"complete"),gi(n,"error"))}function by(n){if(n.h&&void 0!==Zm&&(!n.C[1]||4!=Ia(n)||2!=n.ba()))if(n.v&&4==Ia(n))hE(n.Fa,0,n);else if(gi(n,"readystatechange"),4==Ia(n)){n.h=!1;try{const v=n.ba();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===v){var a=String(n.H).match(IE)[1]||null;if(!a&&Et.self&&Et.self.location){var l=Et.self.location.protocol;a=l.substr(0,l.length-1)}s=!HC.test(a?a.toLowerCase():"")}t=s}if(t)gi(n,"complete"),gi(n,"success");else{n.m=6;try{var f=2<Ia(n)?n.g.statusText:""}catch(b){f=""}n.j=f+" ["+n.ba()+"]",wy(n)}}finally{Bp(n)}}}function Bp(n,e){if(n.g){PE(n);const t=n.g,s=n.C[0]?Ym:null;n.g=null,n.C=null,e||gi(n,"ready");try{t.onreadystatechange=s}catch(a){}}}function PE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Et.clearTimeout(n.A),n.A=null)}function Ia(n){return n.g?n.g.readyState:0}function kE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ME:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Cy(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function(n){let e="";return tE(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):In(n,e,t))}function Sh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function FE(n){this.za=0,this.l=[],this.h=new ay,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Sh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Sh("baseRetryDelayMs",5e3,n),this.$a=Sh("retryDelaySeedMs",1e4,n),this.Ya=Sh("forwardChannelMaxRetries",2,n),this.ra=Sh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new SE(n&&n.concurrentRequestLimit),this.Ca=new Oo,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function LE(n){if(WC(n),3==n.G){var e=n.V++,t=Ca(n.F);In(t,"SID",n.J),In(t,"RID",e),In(t,"TYPE","terminate"),jp(n,t),(e=new Fl(n,n.h,e,void 0)).K=2,e.v=kp(Ca(t)),t=!1,Et.navigator&&Et.navigator.sendBeacon&&(t=Et.navigator.sendBeacon(e.v.toString(),"")),!t&&Et.Image&&((new Image).src=e.v,t=!0),t||(e.g=$E(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ll(e)}XC(n)}function Iy(n){n.g&&(BE(n),n.g.cancel(),n.g=null)}function WC(n){Iy(n),n.u&&(Et.clearTimeout(n.u),n.u=null),Ty(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Et.clearTimeout(n.m),n.m=null)}function VE(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Dy(n)}function Dy(n){xE(n.i)||n.m||(n.m=!0,uE(n.Ha,n),n.C=0)}function zC(n,e){var t;t=e?e.m:n.V++;const s=Ca(n.F);In(s,"SID",n.J),In(s,"RID",t),In(s,"AID",n.U),jp(n,s),n.o&&n.s&&Cy(s,n.o,n.s),t=new Fl(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=KC(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),RE(n.i,t),dy(t,s,e)}function jp(n,e){n.j&&gy({},function(t,s){In(e,s,t)})}function KC(n,e,t){t=Math.min(n.l.length,t);var s=n.j?gn(n.j.Oa,n.j,n):null;e:{var a=n.l;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=a[0].h,f.push("ofs="+l)):l=0:f.push("ofs="+l);let v=!0;for(let b=0;b<t;b++){let S=a[b].h;const M=a[b].g;if(S-=l,0>S)l=Math.max(0,a[b].h-100),v=!1;else try{BC(M,f,"req"+S+"_")}catch(P){s&&s(M)}}if(v){s=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,s}function ZC(n){n.g||n.u||(n.Y=1,uE(n.Ga,n),n.A=0)}function UE(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=kl(gn(n.Ga,n),JC(n,n.A)),n.A++,0))}function BE(n){null!=n.B&&(Et.clearTimeout(n.B),n.B=null)}function YC(n){n.g=new Fl(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ca(n.oa);In(e,"RID","rpc"),In(e,"SID",n.J),In(e,"CI",n.N?"0":"1"),In(e,"AID",n.U),jp(n,e),In(e,"TYPE","xmlhttp"),n.o&&n.s&&Cy(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=kp(Ca(e)),t.s=null,t.U=!0,OC(t,n)}function Ty(n){null!=n.v&&(Et.clearTimeout(n.v),n.v=null)}function QC(n,e){var t=null;if(n.g==e){Ty(n),BE(n),n.g=null;var s=2}else{if(!Ws(n.i,e))return;t=e.D,UC(n.i,e),s=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;gi(s=cy(),new gE(s,t,e,a)),Dy(n)}else ZC(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==s&&function(n,e){return!(my(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=kl(gn(n.Ha,n,e),JC(n,n.C)),n.C++,0)))}(n,e)||2==s&&UE(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:Bl(n,5);break;case 4:Bl(n,10);break;case 3:Bl(n,6);break;default:Bl(n,2)}}function JC(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Bl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var s=gn(n.jb,n);t||(t=new vc("//www.google.com/images/cleardot.gif"),Et.location&&"http"==Et.location.protocol||Mp(t,"https"),kp(t)),function(n,e){const t=new ay;if(Et.Image){const s=new Image;s.onload=Qv(yy,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Qv(yy,t,s,"TestLoadImage: error",!1,e),s.onabort=Qv(yy,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Qv(yy,t,s,"TestLoadImage: timeout",!1,e),Et.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else mi(2);n.G=0,n.j&&n.j.va(e),XC(n),WC(n)}function XC(n){n.G=0,n.I=-1,n.j&&((0!=Mo(n.i).length||0!=n.l.length)&&(n.i.i.length=0,_p(n.l),n.l.length=0),n.j.ua())}function jE(n,e,t){let s=function(n){return n instanceof vc?Ca(n):new vc(n,void 0)}(t);if(""!=s.i)e&&Op(s,e+"."+s.i),Pp(s,s.m);else{const a=Et.location;s=function(n,e,t,s){var a=new vc(null,void 0);return n&&Mp(a,n),e&&Op(a,e),t&&Pp(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&tE(n.aa,function(a,l){In(s,l,a)}),t=n.sa,(e=n.D)&&t&&In(s,e,t),In(s,"VER",n.ma),jp(n,s),s}function $E(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cr(t&&n.Ba&&!n.qa?new Vp({ib:!0}):n.qa)).L=n.H,e}function HE(){}function $p(){if(ph&&!(10<=Number(_h)))throw Error("Environmental error: no available transport.")}function Ki(n,e){Nr.call(this),this.g=new FE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Jm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new jl(this)}function GE(n){Ap.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function qE(){Sp.call(this),this.status=1}function jl(n){this.g=n}(Ke=cr.prototype).ea=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_E.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:_E),this.g.onreadystatechange=gn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void OE(this,l)}n=t||"";const a=new Dh(this.headers);s&&gy(s,function(l,f){a.set(f,l)}),s=function(n){e:{var e=GC;const t=n.length,s="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=Et.FormData&&n instanceof Et.FormData,!(0<=Jv(Ey,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,f){this.g.setRequestHeader(f,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{PE(this),0<this.B&&((this.K=function(n){return ph&&yh()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gn(this.pa,this)):this.A=hE(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){OE(this,l)}},Ke.pa=function(){void 0!==Zm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gi(this,"timeout"),this.abort(8))},Ke.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,gi(this,"complete"),gi(this,"abort"),Bp(this))},Ke.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bp(this,!0)),cr.Z.M.call(this)},Ke.Fa=function(){this.s||(this.F||this.v||this.l?by(this):this.cb())},Ke.cb=function(){by(this)},Ke.ba=function(){try{return 2<Ia(this)?this.g.status:-1}catch(n){return-1}},Ke.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ke.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),$C(e)}},Ke.Da=function(){return this.m},Ke.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ke=FE.prototype).ma=8,Ke.G=1,Ke.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ke.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new Fl(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=vp(l),nE(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=KC(this,a,e),In(t=Ca(this.F),"RID",n),In(t,"CVER",22),this.D&&In(t,"X-HTTP-Session-Id",this.D),jp(this,t),this.o&&l&&Cy(t,this.o,l),RE(this.i,a),this.Ra&&In(t,"TYPE","init"),this.ja?(In(t,"$req",e),In(t,"SID","null"),a.$=!0,dy(a,t,null)):dy(a,t,e),this.G=2}}else 3==this.G&&(n?zC(this,n):0==this.l.length||xE(this.i)||zC(this))},Ke.Ga=function(){if(this.u=null,YC(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=kl(gn(this.bb,this),n)}},Ke.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,mi(10),Iy(this),YC(this))},Ke.ab=function(){null!=this.v&&(this.v=null,Iy(this),UE(this),mi(19))},Ke.jb=function(n){n?(this.h.info("Successfully pinged google.com"),mi(2)):(this.h.info("Failed to ping google.com"),mi(1))},(Ke=HE.prototype).xa=function(){},Ke.wa=function(){},Ke.va=function(){},Ke.ua=function(){},Ke.Oa=function(){},$p.prototype.g=function(n,e){return new Ki(n,e)},fi(Ki,Nr),Ki.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),uE(gn(n.hb,n,e))),mi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=jE(n,null,n.W),Dy(n)},Ki.prototype.close=function(){LE(this.g)},Ki.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,VE(this.g,e)}else this.v?((e={}).__data__=oy(n),VE(this.g,e)):VE(this.g,n)},Ki.prototype.M=function(){this.g.j=null,delete this.j,LE(this.g),delete this.g,Ki.Z.M.call(this)},fi(GE,Ap),fi(qE,Sp),fi(jl,HE),jl.prototype.xa=function(){gi(this.g,"a")},jl.prototype.wa=function(n){gi(this.g,new GE(n))},jl.prototype.va=function(n){gi(this.g,new qE(n))},jl.prototype.ua=function(){gi(this.g,"b")},$p.prototype.createWebChannel=$p.prototype.g,Ki.prototype.send=Ki.prototype.u,Ki.prototype.open=Ki.prototype.m,Ki.prototype.close=Ki.prototype.close,mE.NO_ERROR=0,mE.TIMEOUT=8,mE.HTTP_ERROR=6,ly.COMPLETE="complete",Ch.EventType=Tp,Tp.OPEN="a",Tp.CLOSE="b",Tp.ERROR="c",Tp.MESSAGE="d",Nr.prototype.listen=Nr.prototype.N,cr.prototype.listenOnce=cr.prototype.O,cr.prototype.getLastError=cr.prototype.La,cr.prototype.getLastErrorCode=cr.prototype.Da,cr.prototype.getStatus=cr.prototype.ba,cr.prototype.getResponseJson=cr.prototype.Qa,cr.prototype.getResponseText=cr.prototype.ga,cr.prototype.send=cr.prototype.ea;var eI=wa.createWebChannelTransport=function(){return new $p},WE=wa.getStatEventTarget=function(){return cy()},Ay=wa.ErrorCode=mE,$l=wa.EventType=ly,WA=wa.Event=Pl,tI=wa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},xh=wa.FetchXmlHttpFactory=Vp,zE=wa.WebChannel=Ch,KE=wa.XhrIo=cr;const zA="@firebase/firestore";class Mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mr.UNAUTHENTICATED=new Mr(null),Mr.GOOGLE_CREDENTIALS=new Mr("google-credentials-uid"),Mr.FIRST_PARTY=new Mr("first-party-uid"),Mr.MOCK_USER=new Mr("mock-user");let Hl="9.1.3";const Gl=new pc.Yd("@firebase/firestore");function at(){return Gl.logLevel}function Ve(n,...e){if(Gl.logLevel<=pc.in.DEBUG){const t=e.map(ZE);Gl.debug(`Firestore (${Hl}): ${n}`,...t)}}function lr(n,...e){if(Gl.logLevel<=pc.in.ERROR){const t=e.map(ZE);Gl.error(`Firestore (${Hl}): ${n}`,...t)}}function Ec(n,...e){if(Gl.logLevel<=pc.in.WARN){const t=e.map(ZE);Gl.warn(`Firestore (${Hl}): ${n}`,...t)}}function ZE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function tt(n="Unexpected state"){const e=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: `+n;throw lr(e),new Error(e)}function ft(n,e){n||tt()}function He(n,e){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class YE{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class nI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mr.UNAUTHENTICATED))}shutdown(){}}class rI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iI{constructor(e){this.t=e,this.currentUser=Mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=S=>this.i!==a?(a=this.i,t(S)):Promise.resolve();let f=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Or,e.enqueueRetryable(()=>l(this.currentUser))};const v=()=>{const S=f;e.enqueueRetryable((0,be.Z)(function*(){yield S.promise,yield l(s.currentUser)}))},b=S=>{Ve("FirebaseCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),v()};this.t.onInit(S=>b(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?b(S):(Ve("FirebaseCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Or)}},0),v()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ve("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ft("string"==typeof s.accessToken),new YE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ft(null===e||"string"==typeof e),new Mr(e)}}class ZA{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Mr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class YA{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new ZA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ds{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.g(s),this.p=s=>t.writeSequenceNumber(s))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function Hp(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}Ds.T=-1;class sI{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Hp(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function Ot(n,e){return n<e?-1:n>e?1:0}function Rh(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}function Gp(n){return n+"\0"}class Er{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Er.fromMillis(Date.now())}static fromDate(e){return Er.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Er(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Er(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function QE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ql(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Nh(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class gu{constructor(e,t,s){void 0===t?t=0:t>e.length&&tt(),void 0===s?s=e.length-t:s>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===gu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gu?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),f=t.get(a);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kt extends gu{construct(e,t,s){return new Kt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Oe(ye.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Kt(t)}static emptyPath(){return new Kt([])}}const QA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends gu{construct(e,t,s){return new ti(e,t,s)}static isValidIdentifier(e){return QA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ti(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new Oe(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const v=e[a];if("\\"===v){if(a+1===e.length)throw new Oe(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[a+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Oe(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=b,a+=2}else"`"===v?(f=!f,a++):"."!==v||f?(s+=v,a++):(l(),a++)}if(l(),f)throw new Oe(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ti(t)}static emptyPath(){return new ti([])}}class Wl{constructor(e){this.fields=e,e.sort(ti.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rh(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class wr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new wr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new wr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wr.EMPTY_BYTE_STRING=new wr("");const JA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mu(n){if(ft(!!n),"string"==typeof n){let e=0;const t=JA.exec(n);if(ft(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dr(n.seconds),nanos:dr(n.nanos)}}function dr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Mh(n){return"string"==typeof n?wr.fromBase64String(n):wr.fromUint8Array(n)}function aI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function XA(n){const e=n.mapValue.fields.__previous_value__;return aI(e)?XA(e):e}function Sy(n){const e=mu(n.mapValue.fields.__local_write_time__.timestampValue);return new Er(e.seconds,e.nanos)}function Oh(n){return null==n}function qp(n){return 0===n&&1/n==-1/0}function Wp(n){return"number"==typeof n&&Number.isInteger(n)&&!qp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(Kt.fromString(e))}static fromName(e){return new nt(Kt.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new Kt(e.slice()))}}function zl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?aI(n)?4:10:tt()}function Po(n,e){const t=zl(n);if(t!==zl(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sy(n).isEqual(Sy(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=mu(s.timestampValue),f=mu(a.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Mh(n.bytesValue).isEqual(Mh(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return dr(s.geoPointValue.latitude)===dr(a.geoPointValue.latitude)&&dr(s.geoPointValue.longitude)===dr(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return dr(s.integerValue)===dr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=dr(s.doubleValue),f=dr(a.doubleValue);return l===f?qp(l)===qp(f):isNaN(l)&&isNaN(f)}return!1}(n,e);case 9:return Rh(n.arrayValue.values||[],e.arrayValue.values||[],Po);case 10:return function(s,a){const l=s.mapValue.fields||{},f=a.mapValue.fields||{};if(QE(l)!==QE(f))return!1;for(const v in l)if(l.hasOwnProperty(v)&&(void 0===f[v]||!Po(l[v],f[v])))return!1;return!0}(n,e);default:return tt()}var a}function yu(n,e){return void 0!==(n.values||[]).find(t=>Po(t,e))}function Ph(n,e){const t=zl(n),s=zl(e);if(t!==s)return Ot(t,s);switch(t){case 0:return 0;case 1:return Ot(n.booleanValue,e.booleanValue);case 2:return function(a,l){const f=dr(a.integerValue||a.doubleValue),v=dr(l.integerValue||l.doubleValue);return f<v?-1:f>v?1:f===v?0:isNaN(f)?isNaN(v)?0:-1:1}(n,e);case 3:return uI(n.timestampValue,e.timestampValue);case 4:return uI(Sy(n),Sy(e));case 5:return Ot(n.stringValue,e.stringValue);case 6:return function(a,l){const f=Mh(a),v=Mh(l);return f.compareTo(v)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const f=a.split("/"),v=l.split("/");for(let b=0;b<f.length&&b<v.length;b++){const S=Ot(f[b],v[b]);if(0!==S)return S}return Ot(f.length,v.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const f=Ot(dr(a.latitude),dr(l.latitude));return 0!==f?f:Ot(dr(a.longitude),dr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const f=a.values||[],v=l.values||[];for(let b=0;b<f.length&&b<v.length;++b){const S=Ph(f[b],v[b]);if(S)return S}return Ot(f.length,v.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){const f=a.fields||{},v=Object.keys(f),b=l.fields||{},S=Object.keys(b);v.sort(),S.sort();for(let M=0;M<v.length&&M<S.length;++M){const P=Ot(v[M],S[M]);if(0!==P)return P;const Y=Ph(f[v[M]],b[S[M]]);if(0!==Y)return Y}return Ot(v.length,S.length)}(n.mapValue,e.mapValue);default:throw tt()}}function uI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ot(n,e);const t=mu(n),s=mu(e),a=Ot(t.seconds,s.seconds);return 0!==a?a:Ot(t.nanos,s.nanos)}function JE(n){return XE(n)}function XE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const a=mu(s);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Mh(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let a="[",l=!0;for(const f of s.values||[])l?l=!1:a+=",",a+=XE(f);return a+"]"}(n.arrayValue):"mapValue"in n?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",f=!0;for(const v of a)f?f=!1:l+=",",l+=`${v}:${XE(s.fields[v])}`;return l+"}"}(n.mapValue):tt();var e}function xy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ry(n){return!!n&&"integerValue"in n}function ew(n){return!!n&&"arrayValue"in n}function cI(n){return!!n&&"nullValue"in n}function Kl(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ny(n){return!!n&&"mapValue"in n}function kh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ql(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=kh(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kh(n.arrayValue.values[t]);return e}return Object.assign({},n)}class yi{constructor(e){this.value=e}static empty(){return new yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ny(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kh(t)}setAll(e){let t=ti.emptyPath(),s={},a=[];e.forEach((f,v)=>{if(!t.isImmediateParentOf(v)){const b=this.getFieldsMap(t);this.applyChanges(b,s,a),s={},a=[],t=v.popLast()}f?s[v.lastSegment()]=kh(f):a.push(v.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Ny(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Po(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Ny(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){ql(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new yi(kh(this.value))}}function tw(n){const e=[];return ql(n.fields,(t,s)=>{const a=new ti([t]);if(Ny(s)){const l=tw(s.mapValue).fields;if(0===l.length)e.push(a);else for(const f of l)e.push(a.child(f))}else e.push(a)}),new Wl(e)}class Rn{constructor(e,t,s,a,l){this.key=e,this.documentType=t,this.version=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Rn(e,0,Ct.min(),yi.empty(),0)}static newFoundDocument(e,t,s){return new Rn(e,1,t,s,0)}static newNoDocument(e,t){return new Rn(e,2,t,yi.empty(),0)}static newUnknownDocument(e,t){return new Rn(e,3,t,yi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Rn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lI{constructor(e,t=null,s=[],a=[],l=null,f=null,v=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=f,this.endAt=v,this.A=null}}function dI(n,e=null,t=[],s=[],a=null,l=null,f=null){return new lI(n,e,t,s,a,l,f)}function Zl(n){const e=He(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>function(n){return n.field.canonicalString()+n.op.toString()+JE(n.value)}(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Oh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=My(e.startAt)),e.endAt&&(t+="|ub:",t+=My(e.endAt)),e.A=t}return e.A}function zp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!uS(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!Po(t.value,s.value))return!1;var t,s;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sw(n.startAt,e.startAt)&&sw(n.endAt,e.endAt)}function Kp(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ni extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,s):new nS(e,t,s):"array-contains"===t?new iS(e,s):"in"===t?new sS(e,s):"not-in"===t?new oS(e,s):"array-contains-any"===t?new aS(e,s):new Ni(e,t,s)}static R(e,t,s){return"in"===t?new nw(e,s):new rS(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Ph(t,this.value)):null!==t&&zl(this.value)===zl(t)&&this.P(Ph(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class nS extends Ni{constructor(e,t,s){super(e,t,s),this.key=nt.fromName(s.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.P(t)}}class nw extends Ni{constructor(e,t){super(e,"in",t),this.keys=rw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rS extends Ni{constructor(e,t){super(e,"not-in",t),this.keys=rw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>nt.fromName(s.referenceValue))}class iS extends Ni{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ew(t)&&yu(t.arrayValue,this.value)}}class sS extends Ni{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yu(this.value.arrayValue,t)}}class oS extends Ni{constructor(e,t){super(e,"not-in",t)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yu(this.value.arrayValue,t)}}class aS extends Ni{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ew(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>yu(this.value.arrayValue,s))}}class Zp{constructor(e,t){this.position=e,this.before=t}}function My(n){return`${n.before?"b":"a"}:${n.position.map(e=>JE(e)).join(",")}`}class Fh{constructor(e,t="asc"){this.field=e,this.dir=t}}function uS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function iw(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],f=n.position[a];if(s=l.field.isKeyField()?nt.comparator(nt.fromName(f.referenceValue),t.key):Ph(f,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return n.before?s<=0:s<0}function sw(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Po(n.position[t],e.position[t]))return!1;return!0}class _u{constructor(e,t=null,s=[],a=[],l=null,f="F",v=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=f,this.startAt=v,this.endAt=b,this.V=null,this.S=null}}function hI(n,e,t,s,a,l,f,v){return new _u(n,e,t,s,a,l,f,v)}function Yl(n){return new _u(n)}function Oy(n){return!Oh(n.limit)&&"F"===n.limitType}function Py(n){return!Oh(n.limit)&&"L"===n.limitType}function ow(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Yp(n){for(const e of n.filters)if(e.v())return e.field;return null}function Qp(n){return null!==n.collectionGroup}function Ql(n){const e=He(n);if(null===e.V){e.V=[];const t=Yp(e),s=ow(e);if(null!==t&&null===s)t.isKeyField()||e.V.push(new Fh(t)),e.V.push(new Fh(ti.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.V.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Fh(ti.keyField(),l))}}}return e.V}function Zi(n){const e=He(n);if(!e.S)if("F"===e.limitType)e.S=dI(e.path,e.collectionGroup,Ql(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Ql(e))t.push(new Fh(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new Zp(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Zp(e.startAt.position,!e.startAt.before):null;e.S=dI(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.S}function fI(n,e,t){return new _u(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jp(n,e){return zp(Zi(n),Zi(e))&&n.limitType===e.limitType}function ky(n){return`${Zl(Zi(n))}|lt:${n.limitType}`}function aw(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${JE(s.value)}`;var s}).join(", ")}]`),Oh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(e+=", startAt: "+My(n.startAt)),n.endAt&&(e+=", endAt: "+My(n.endAt)),`Target(${e})`}(Zi(n))}; limitType=${n.limitType})`}function Lh(n,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):nt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!iw(t.startAt,Ql(t),s)||t.endAt&&iw(t.endAt,Ql(t),s)));var t,s}function pI(n){return(e,t)=>{let s=!1;for(const a of Ql(n)){const l=gI(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function gI(n,e,t){const s=n.field.isKeyField()?nt.comparator(e.key,t.key):function(a,l,f){const v=l.data.field(a),b=f.data.field(a);return null!==v&&null!==b?Ph(v,b):tt()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return tt()}}function uw(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qp(e)?"-0":e}}function cw(n){return{integerValue:""+n}}function cS(n,e){return Wp(e)?cw(e):uw(n,e)}class Fy{constructor(){this._=void 0}}function Vh(n,e,t){return n instanceof vu?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof Jl?Xl(n,e):n instanceof ed?lS(n,e):function(s,a){const l=Ly(s,a),f=ko(l)+ko(s.C);return Ry(l)&&Ry(s.C)?cw(f):uw(s.N,f)}(n,e)}function PR(n,e,t){return n instanceof Jl?Xl(n,e):n instanceof ed?lS(n,e):t}function Ly(n,e){return n instanceof Uh?Ry(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class vu extends Fy{}class Jl extends Fy{constructor(e){super(),this.elements=e}}function Xl(n,e){const t=lw(e);for(const s of n.elements)t.some(a=>Po(a,s))||t.push(s);return{arrayValue:{values:t}}}class ed extends Fy{constructor(e){super(),this.elements=e}}function lS(n,e){let t=lw(e);for(const s of n.elements)t=t.filter(a=>!Po(a,s));return{arrayValue:{values:t}}}class Uh extends Fy{constructor(e,t){super(),this.N=e,this.C=t}}function ko(n){return dr(n.integerValue||n.doubleValue)}function lw(n){return ew(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Vy{constructor(e,t){this.field=e,this.transform=t}}class dS{constructor(e,t){this.version=e,this.transformResults=t}}class hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dw(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class By{}function hS(n,e,t){n instanceof Bh?function(s,a,l){const f=s.value.clone(),v=mI(s.fieldTransforms,a,l.transformResults);f.setAll(v),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):n instanceof wc?function(s,a,l){if(!dw(s.precondition,a))return void a.convertToUnknownDocument(l.version);const f=mI(s.fieldTransforms,a,l.transformResults),v=a.data;v.setAll(fS(s)),v.setAll(f),a.convertToFoundDocument(l.version,v).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function hw(n,e,t){var a;n instanceof Bh?function(s,a,l){if(!dw(s.precondition,a))return;const f=s.value.clone(),v=yI(s.fieldTransforms,l,a);f.setAll(v),a.convertToFoundDocument(jy(a),f).setHasLocalMutations()}(n,e,t):n instanceof wc?function(s,a,l){if(!dw(s.precondition,a))return;const f=yI(s.fieldTransforms,l,a),v=a.data;v.setAll(fS(s)),v.setAll(f),a.convertToFoundDocument(jy(a),v).setHasLocalMutations()}(n,e,t):dw(n.precondition,a=e)&&a.convertToNoDocument(Ct.min())}function fw(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=Ly(s.transform,a||null);null!=l&&(null==t&&(t=yi.empty()),t.set(s.field,l))}return t||null}function pw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&Rh(t,s,(a,l)=>function(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof Jl&&s instanceof Jl||t instanceof ed&&s instanceof ed?Rh(t.elements,s.elements,Po):t instanceof Uh&&s instanceof Uh?Po(t.C,s.C):t instanceof vu&&s instanceof vu);var t,s}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}function jy(n){return n.isFoundDocument()?n.version:Ct.min()}class Bh extends By{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}}class wc extends By{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}}function fS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function mI(n,e,t){const s=new Map;ft(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],f=l.transform,v=e.data.field(l.field);s.set(l.field,PR(f,v,t[a]))}return s}function yI(n,e,t){const s=new Map;for(const a of n){const l=a.transform,f=t.data.field(a.field);s.set(a.field,Vh(l,f,e))}return s}class Xp extends By{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class $y extends By{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class _I{constructor(e){this.count=e}}var Qn,Vt;function vI(n){switch(n){default:return tt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function gw(n){if(void 0===n)return lr("GRPC error has no .code"),ye.UNKNOWN;switch(n){case Qn.OK:return ye.OK;case Qn.CANCELLED:return ye.CANCELLED;case Qn.UNKNOWN:return ye.UNKNOWN;case Qn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Qn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Qn.INTERNAL:return ye.INTERNAL;case Qn.UNAVAILABLE:return ye.UNAVAILABLE;case Qn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Qn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Qn.NOT_FOUND:return ye.NOT_FOUND;case Qn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Qn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Qn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Qn.ABORTED:return ye.ABORTED;case Qn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Qn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Qn.DATA_LOSS:return ye.DATA_LOSS;default:return tt()}}(Vt=Qn||(Qn={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";class Un{constructor(e,t){this.comparator=e,this.root=t||Pr.EMPTY}insert(e,t){return new Un(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pr.BLACK,null,null))}remove(e){return new Un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hy(this.root,e,this.comparator,!0)}}class Hy{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pr{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=null!=s?s:Pr.RED,this.left=null!=a?a:Pr.EMPTY,this.right=null!=l?l:Pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Pr(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Pr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Pr.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}Pr.EMPTY=null,Pr.RED=!0,Pr.BLACK=!1,Pr.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(n,e,t,s,a){return this}insert(n,e,t){return new Pr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(e){this.comparator=e,this.data=new Un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new eg(this.data.getIterator())}getIteratorFrom(e){return new eg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dn(this.comparator);return t.data=e,t}}class eg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const tg=new Un(nt.comparator);function zs(){return tg}const pS=new Un(nt.comparator);function EI(){return pS}const gS=new Un(nt.comparator);function wI(){return gS}const mS=new Dn(nt.comparator);function tn(...n){let e=mS;for(const t of n)e=e.add(t);return e}const yS=new Dn(Ot);function Gy(){return yS}class ng{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,rg.createSynthesizedTargetChangeForCurrentChange(e,t)),new ng(Ct.min(),s,Gy(),zs(),tn())}}class rg{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new rg(wr.EMPTY_BYTE_STRING,t,tn(),tn(),tn())}}class qy{constructor(e,t,s,a){this.k=e,this.removedTargetIds=t,this.key=s,this.$=a}}class _S{constructor(e,t){this.targetId=e,this.O=t}}class bI{constructor(e,t,s=wr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class jh{constructor(){this.F=0,this.M=II(),this.L=wr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=tn(),t=tn(),s=tn();return this.M.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:tt()}}),new rg(this.L,this.B,e,t,s)}G(){this.U=!1,this.M=II()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class vS{constructor(e){this.tt=e,this.et=new Map,this.nt=zs(),this.st=CI(),this.it=new Dn(Ot)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const s=this.ut(t);switch(e.state){case 0:this.ht(t)&&s.j(e.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(e.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(t);break;case 3:this.ht(t)&&(s.Z(),s.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),s.j(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((s,a)=>{this.ht(a)&&t(a)})}ft(e){const t=e.targetId,s=e.O.count,a=this.dt(t);if(a){const l=a.target;if(Kp(l))if(0===s){const f=new nt(l.path);this.at(t,f,Rn.newNoDocument(f,Ct.min()))}else ft(1===s);else this.wt(t)!==s&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((l,f)=>{const v=this.dt(f);if(v){if(l.current&&Kp(v.target)){const b=new nt(v.target.path);null!==this.nt.get(b)||this.gt(f,b)||this.at(f,b,Rn.newNoDocument(b,e))}l.K&&(t.set(f,l.W()),l.G())}});let s=tn();this.st.forEach((l,f)=>{let v=!0;f.forEachWhile(b=>{const S=this.dt(b);return!S||2===S.purpose||(v=!1,!1)}),v&&(s=s.add(l))});const a=new ng(e,t,this.it,this.nt,s);return this.nt=zs(),this.st=CI(),this.it=new Dn(Ot),a}ot(e,t){if(!this.ht(e))return;const s=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,s),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,s){if(!this.ht(e))return;const a=this.ut(e);this.gt(e,t)?a.H(t,1):a.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),s&&(this.nt=this.nt.insert(t,s))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new jh,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Dn(Ot),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new jh),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function CI(){return new Un(nt.comparator)}function II(){return new Un(nt.comparator)}const Wy={asc:"ASCENDING",desc:"DESCENDING"},td={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class DI{constructor(e,t){this.databaseId=e,this.D=t}}function ig(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ES(n,e){return n.D?e.toBase64():e.toUint8Array()}function wS(n,e){return ig(n,e.toTimestamp())}function Jn(n){return ft(!!n),Ct.fromTimestamp(function(e){const t=mu(e);return new Er(t.seconds,t.nanos)}(n))}function mw(n,e){return(t=n,new Kt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function TI(n){const e=Kt.fromString(n);return ft(MI(e)),e}function $h(n,e){return mw(n.databaseId,e.path)}function Fo(n,e){const t=TI(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nt(AI(t))}function sg(n,e){return mw(n.databaseId,e)}function yw(n){const e=TI(n);return 4===e.length?Kt.emptyPath():AI(e)}function Hh(n){return new Kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AI(n){return ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function SI(n,e,t){return{name:$h(n,e),fields:t.value.mapValue.fields}}function _w(n,e,t){const s=Fo(n,e.name),a=Jn(e.updateTime),l=new yi({mapValue:{fields:e.fields}}),f=Rn.newFoundDocument(s,a,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function nd(n,e){let t;if(e instanceof Bh)t={update:SI(n,e.key,e.value)};else if(e instanceof Xp)t={delete:$h(n,e.key)};else if(e instanceof wc)t={update:SI(n,e.key,e.data),updateMask:FR(e.fieldMask)};else{if(!(e instanceof $y))return tt();t={verify:$h(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const f=l.transform;if(f instanceof vu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Jl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ed)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Uh)return{fieldPath:l.field.canonicalString(),increment:f.C};throw tt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:wS(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:tt()),t;var a}function og(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?hr.updateTime(Jn(a.updateTime)):void 0!==a.exists?hr.exists(a.exists):hr.none():hr.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(l,f){let v=null;"setToServerValue"in f?(ft("REQUEST_TIME"===f.setToServerValue),v=new vu):"appendMissingElements"in f?v=new Jl(f.appendMissingElements.values||[]):"removeAllFromArray"in f?v=new ed(f.removeAllFromArray.values||[]):"increment"in f?v=new Uh(l,f.increment):tt();const b=ti.fromServerFormat(f.fieldPath);return new Vy(b,v)}(n,a)):[];var a;if(e.update){const a=Fo(n,e.update.name),l=new yi({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Wl((e.updateMask.fieldPaths||[]).map(S=>ti.fromServerFormat(S)));return new wc(a,l,f,t,s)}return new Bh(a,l,t,s)}if(e.delete){const a=Fo(n,e.delete);return new Xp(a,t)}if(e.verify){const a=Fo(n,e.verify);return new $y(a,t)}return tt()}function Gh(n,e){return{documents:[sg(n,e.path)]}}function Zt(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=sg(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=sg(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(v){if(0===v.length)return;const b=v.map(S=>function(M){if("=="===M.op){if(Kl(M.value))return{unaryFilter:{field:Zs(M.field),op:"IS_NAN"}};if(cI(M.value))return{unaryFilter:{field:Zs(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(Kl(M.value))return{unaryFilter:{field:Zs(M.field),op:"IS_NOT_NAN"}};if(cI(M.value))return{unaryFilter:{field:Zs(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zs(M.field),op:vw(M.op),value:M.value}}}(S));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);a&&(t.structuredQuery.where=a);const l=function(v){if(0!==v.length)return v.map(b=>{return{field:Zs((S=b).field),direction:Ks(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=(b=e.limit,n.D||Oh(b)?b:{value:b});var b;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=CS(e.startAt)),e.endAt&&(t.structuredQuery.endAt=CS(e.endAt)),t}function Eu(n){let e=yw(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){ft(1===s);const M=t.from[0];M.allDescendants?a=M.collectionId:e=e.child(M.collectionId)}let l=[];t.where&&(l=Wh(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(M=>{return new Fh(ag((P=M).field),function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let v=null;t.limit&&(v=function(M){let P;return P="object"==typeof M?M.value:M,Oh(P)?null:P}(t.limit));let b=null;t.startAt&&(b=vt(t.startAt));let S=null;return t.endAt&&(S=vt(t.endAt)),hI(e,a,f,l,v,"F",b,S)}function Wh(n){return n?void 0!==n.unaryFilter?[NI(n)]:void 0!==n.fieldFilter?[RI(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Wh(e)).reduce((e,t)=>e.concat(t)):tt():[]}function CS(n){return{before:n.before,values:n.position}}function vt(n){return new Zp(n.values||[],!!n.before)}function Ks(n){return Wy[n]}function vw(n){return td[n]}function Zs(n){return{fieldPath:n.canonicalString()}}function ag(n){return ti.fromServerFormat(n.fieldPath)}function RI(n){return Ni.create(ag(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(n.fieldFilter.op),n.fieldFilter.value)}function NI(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ag(n.unaryFilter.field);return Ni.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ag(n.unaryFilter.field);return Ni.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ag(n.unaryFilter.field);return Ni.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ag(n.unaryFilter.field);return Ni.create(a,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}function FR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function MI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Lo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Nn(e)),e=Ys(n.get(t),e);return Nn(e)}function Ys(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function Nn(n){return n+"\x01\x01"}function br(n){const e=n.length;if(ft(e>=2),2===e)return ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Kt.emptyPath();const t=e-2,s=[];let a="";for(let l=0;l<e;){const f=n.indexOf("\x01",l);switch((f<0||f>t)&&tt(),n.charAt(f+1)){case"\x01":const v=n.substring(l,f);let b;0===a.length?b=v:(a+=v,b=a,a=""),s.push(b);break;case"\x10":a+=n.substring(l,f),a+="\0";break;case"\x11":a+=n.substring(l,f+1);break;default:tt()}l=f+2}return new Kt(s)}class OI{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Ts{constructor(e,t,s){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=s}}Ts.store="owner",Ts.key="owner";class wu{constructor(e,t,s){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=s}}wu.store="mutationQueues",wu.keyPath="userId";class mn{constructor(e,t,s,a,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=s,this.baseMutations=a,this.mutations=l}}mn.store="mutations",mn.keyPath="batchId",mn.userMutationsIndex="userMutationsIndex",mn.userMutationsKeyPath=["userId","batchId"];class Xn{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Lo(t)]}static key(e,t,s){return[e,Lo(t),s]}}Xn.store="documentMutations",Xn.PLACEHOLDER=new Xn;class ug{constructor(e,t){this.path=e,this.readTime=t}}class IS{constructor(e,t){this.path=e,this.version=t}}class cn{constructor(e,t,s,a,l,f){this.unknownDocument=e,this.noDocument=t,this.document=s,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=f}}cn.store="remoteDocuments",cn.readTimeIndex="readTimeIndex",cn.readTimeIndexPath="readTime",cn.collectionReadTimeIndex="collectionReadTimeIndex",cn.collectionReadTimeIndexPath=["parentPath","readTime"];class Da{constructor(e){this.byteSize=e}}Da.store="remoteDocumentGlobal",Da.key="remoteDocumentGlobalKey";class Mi{constructor(e,t,s,a,l,f,v){this.targetId=e,this.canonicalId=t,this.readTime=s,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=f,this.query=v}}Mi.store="targets",Mi.keyPath="targetId",Mi.queryTargetsIndexName="queryTargetsIndex",Mi.queryTargetsKeyPath=["canonicalId","targetId"];class Cr{constructor(e,t,s){this.targetId=e,this.path=t,this.sequenceNumber=s}}Cr.store="targetDocuments",Cr.keyPath=["targetId","path"],Cr.documentTargetsIndex="documentTargetsIndex",Cr.documentTargetsKeyPath=["path","targetId"];class ni{constructor(e,t,s,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=s,this.targetCount=a}}ni.key="targetGlobalKey",ni.store="targetGlobal";class bu{constructor(e,t){this.collectionId=e,this.parent=t}}bu.store="collectionParents",bu.keyPath=["collectionId","parent"];class Ta{constructor(e,t,s,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=s,this.inForeground=a}}Ta.store="clientMetadata",Ta.keyPath="clientId";class Vo{constructor(e,t,s){this.bundleId=e,this.createTime=t,this.version=s}}Vo.store="bundles",Vo.keyPath="bundleId";class zh{constructor(e,t,s){this.name=e,this.readTime=t,this.bundledQuery=s}}zh.store="namedQueries",zh.keyPath="name";const zy=[wu.store,mn.store,Xn.store,cn.store,Mi.store,Ts.store,ni.store,Cr.store,Ta.store,Da.store,bu.store,Vo.store,zh.store],Ew="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ww{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Me((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Me?t:Me.resolve(t)}catch(t){return Me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.reject(t)}static resolve(e){return new Me((t,s)=>{t(e)})}static reject(e){return new Me((t,s)=>{s(e)})}static waitFor(e){return new Me((t,s)=>{let a=0,l=0,f=!1;e.forEach(v=>{++a,v.next(()=>{++l,f&&l===a&&t()},b=>s(b))}),f=!0,l===a&&t()})}static or(e){let t=Me.resolve(!1);for(const s of e)t=t.next(a=>a?Me.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}}class rd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Or,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new id(e,t.error)):this.Et.resolve()},this.transaction.onerror=s=>{const a=sd(s.target.error);this.Et.reject(new id(e,a))}}static open(e,t,s,a){try{return new rd(t,e.transaction(a,s))}catch(l){throw new id(t,l)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new LR(t)}}class Uo{constructor(e,t,s){this.name=e,this.version=t,this.At=s,12.2===Uo.Rt((0,Nt.z$)())&&lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),dt(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Nt.hl)())return!1;if(Uo.Pt())return!0;const e=(0,Nt.z$)(),t=Uo.Rt(e),s=0<t&&t<10,a=Uo.vt(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||l)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(e){var t=this;return(0,be.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=f=>{s(f.target.result)},l.onblocked=()=>{a(new id(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=f=>{const v=f.target.error;a("VersionError"===v.name?new Oe(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===v.name?new Oe(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+v):new id(e,v))},l.onupgradeneeded=f=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.At.Ct(f.target.result,l.transaction,f.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=s=>t.Nt(s)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var l=this;return(0,be.Z)(function*(){const f="readonly"===t;let v=0;for(;;){++v;try{l.db=yield l.Dt(e);const b=rd.open(l.db,e,f?"readonly":"readwrite",s),S=a(b).catch(M=>(b.abort(M),Me.reject(M))).toPromise();return S.catch(()=>{}),yield b.It,S}catch(b){const S="FirebaseError"!==b.name&&v<3;if(Ve("SimpleDb","Transaction failed with error:",b.message,"Retrying:",S),l.close(),!S)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bw{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return dt(this.kt.delete())}}class id extends Oe{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Kh(n){return"IndexedDbTransactionError"===n.name}class LR{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),dt(s)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),dt(this.store.add(e))}get(e){return dt(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),dt(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),dt(this.store.count())}Lt(e,t){const s=this.cursor(this.options(e,t)),a=[];return this.Bt(s,(l,f)=>{a.push(f)}).next(()=>a)}Ut(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.qt=!1;const a=this.cursor(s);return this.Bt(a,(l,f,v)=>v.delete())}Kt(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.Bt(a,t)}jt(e){const t=this.cursor({});return new Me((s,a)=>{t.onerror=l=>{const f=sd(l.target.error);a(f)},t.onsuccess=l=>{const f=l.target.result;f?e(f.primaryKey,f.value).next(v=>{v?f.continue():s()}):s()}})}Bt(e,t){const s=[];return new Me((a,l)=>{e.onerror=f=>{l(f.target.error)},e.onsuccess=f=>{const v=f.target.result;if(!v)return void a();const b=new bw(v),S=t(v.primaryKey,v.value,b);if(S instanceof Me){const M=S.catch(P=>(b.done(),Me.reject(P)));s.push(M)}b.isDone?a():null===b.Ft?v.continue():v.continue(b.Ft)}}).next(()=>Me.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.qt?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function dt(n){return new Me((e,t)=>{n.onsuccess=s=>{e(s.target.result)},n.onerror=s=>{const a=sd(s.target.error);t(a)}})}let DS=!1;function sd(n){const e=Uo.Rt((0,Nt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return DS||(DS=!0,setTimeout(()=>{throw s},0)),s}}return n}class PI extends ww{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function Yi(n,e){const t=He(n);return Uo.St(t.Qt,e)}class Cw{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&hS(l,e,s[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&hw(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&hw(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const s=e.get(t.key),a=s;this.applyToLocalView(a),s.isValidDocument()||a.convertToNoDocument(Ct.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tn())}isEqual(e){return this.batchId===e.batchId&&Rh(this.mutations,e.mutations,(t,s)=>pw(t,s))&&Rh(this.baseMutations,e.baseMutations,(t,s)=>pw(t,s))}}class kI{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){ft(e.mutations.length===s.length);let a=wI();const l=e.mutations;for(let f=0;f<l.length;f++)a=a.insert(l[f].key,s[f].version);return new kI(e,t,s,a)}}class od{constructor(e,t,s,a,l=Ct.min(),f=Ct.min(),v=wr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=v}withSequenceNumber(e){return new od(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new od(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new od(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class FI{constructor(e){this.Wt=e}}function kr(n,e){if(e.document)return _w(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=nt.fromSegments(e.noDocument.path),s=Yh(e.noDocument.readTime),a=Rn.newNoDocument(t,s);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=nt.fromSegments(e.unknownDocument.path),s=Yh(e.unknownDocument.version);return Rn.newUnknownDocument(t,s)}return tt()}function LI(n,e,t){const s=Iw(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:$h(v=n.Wt,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:ig(v,b.version.toTimestamp())};return new cn(null,null,l,e.hasCommittedMutations,s,a)}var v,b;if(e.isNoDocument()){const l=e.key.path.toArray(),f=Zh(e.version),v=e.hasCommittedMutations;return new cn(null,new ug(l,f),null,v,s,a)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),f=Zh(e.version);return new cn(new IS(l,f),null,null,!0,s,a)}return tt()}function Iw(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ky(n){const e=new Er(n[0],n[1]);return Ct.fromTimestamp(e)}function Zh(n){const e=n.toTimestamp();return new OI(e.seconds,e.nanoseconds)}function Yh(n){const e=new Er(n.seconds,n.nanoseconds);return Ct.fromTimestamp(e)}function Qh(n,e){const t=(e.baseMutations||[]).map(l=>og(n.Wt,l));for(let l=0;l<e.mutations.length-1;++l){const f=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(f.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const s=e.mutations.map(l=>og(n.Wt,l)),a=Er.fromMillis(e.localWriteTimeMs);return new Cw(e.batchId,a,t,s)}function cg(n){const e=Yh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Yh(n.lastLimboFreeSnapshotVersion):Ct.min();let s;var a;return void 0!==n.query.documents?(ft(1===(a=n.query).documents.length),s=Zi(Yl(yw(a.documents[0])))):s=Zi(Eu(n.query)),new od(s,n.targetId,0,n.lastListenSequenceNumber,e,t,wr.fromBase64String(n.resumeToken))}function VI(n,e){const t=Zh(e.snapshotVersion),s=Zh(e.lastLimboFreeSnapshotVersion);let a;a=Kp(e.target)?Gh(n.Wt,e.target):Zt(n.Wt,e.target);const l=e.resumeToken.toBase64();return new Mi(e.targetId,Zl(e.target),t,l,e.sequenceNumber,s,a)}function Dw(n){const e=Eu({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fI(e,e.limit,"L"):e}class Tw{getBundleMetadata(e,t){return UI(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Yh(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return UI(e).put({bundleId:(s=t).id,createTime:Zh(Jn(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return BI(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Dw(a.bundledQuery),readTime:Yh(a.readTime)};var a})}saveNamedQuery(e,t){return BI(e).put({name:(s=t).name,readTime:Zh(Jn(s.readTime)),bundledQuery:s.bundledQuery});var s}}function UI(n){return Yi(n,Vo.store)}function BI(n){return Yi(n,zh.store)}class jI{constructor(){this.Gt=new lg}addToCollectionParentIndex(e,t){return this.Gt.add(t),Me.resolve()}getCollectionParents(e,t){return Me.resolve(this.Gt.getEntries(t))}}class lg{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Dn(Kt.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Dn(Kt.comparator)).toArray()}}class TS{constructor(){this.zt=new lg}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const l={collectionId:s,parent:Lo(a)};return AS(e).put(l)}return Me.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Gp(t),""],!1,!0);return AS(e).Lt(a).next(l=>{for(const f of l){if(f.collectionId!==t)break;s.push(br(f.parent))}return s})}}function AS(n){return Yi(n,bu.store)}const $I={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qi{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Qi(e,Qi.DEFAULT_COLLECTION_PERCENTILE,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function HI(n,e,t){const s=n.store(mn.store),a=n.store(Xn.store),l=[],f=IDBKeyRange.only(t.batchId);let v=0;const b=s.Kt({range:f},(M,P,Y)=>(v++,Y.delete()));l.push(b.next(()=>{ft(1===v)}));const S=[];for(const M of t.mutations){const P=Xn.key(e,M.key.path,t.batchId);l.push(a.delete(P)),S.push(M.key)}return Me.waitFor(l).next(()=>S)}function Zy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw tt();e=n.noDocument}return JSON.stringify(e).length}Qi.DEFAULT_COLLECTION_PERCENTILE=10,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qi.DEFAULT=new Qi(41943040,Qi.DEFAULT_COLLECTION_PERCENTILE,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qi.DISABLED=new Qi(-1,0,0);class Aw{constructor(e,t,s,a){this.userId=e,this.N=t,this.Ht=s,this.referenceDelegate=a,this.Jt={}}static Yt(e,t,s,a){ft(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Aw(l,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qs(e).Kt({index:mn.userMutationsIndex,range:s},(a,l,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const l=Jh(e),f=Qs(e);return f.add({}).next(v=>{ft("number"==typeof v);const b=new Cw(v,t,s,a),S=function(Y,J,xe){const je=xe.baseMutations.map(Pt=>nd(Y.Wt,Pt)),Ze=xe.mutations.map(Pt=>nd(Y.Wt,Pt));return new mn(J,xe.batchId,xe.localWriteTime.toMillis(),je,Ze)}(this.N,this.userId,b),M=[];let P=new Dn((Y,J)=>Ot(Y.canonicalString(),J.canonicalString()));for(const Y of a){const J=Xn.key(this.userId,Y.key.path,v);P=P.add(Y.key.path.popLast()),M.push(f.put(S)),M.push(l.put(J,Xn.PLACEHOLDER))}return P.forEach(Y=>{M.push(this.Ht.addToCollectionParentIndex(e,Y))}),e.addOnCommittedListener(()=>{this.Jt[v]=b.keys()}),Me.waitFor(M).next(()=>b)})}lookupMutationBatch(e,t){return Qs(e).get(t).next(s=>s?(ft(s.userId===this.userId),Qh(this.N,s)):null)}Xt(e,t){return this.Jt[t]?Me.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Jt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return Qs(e).Kt({index:mn.userMutationsIndex,range:a},(f,v,b)=>{v.userId===this.userId&&(ft(v.batchId>=s),l=Qh(this.N,v)),b.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Qs(e).Kt({index:mn.userMutationsIndex,range:t,reverse:!0},(a,l,f)=>{s=l.batchId,f.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qs(e).Lt(mn.userMutationsIndex,t).next(s=>s.map(a=>Qh(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Xn.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(s),l=[];return Jh(e).Kt({range:a},(f,v,b)=>{const[S,M,P]=f,Y=br(M);if(S===this.userId&&t.path.isEqual(Y))return Qs(e).get(P).next(J=>{if(!J)throw tt();ft(J.userId===this.userId),l.push(Qh(this.N,J))});b.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dn(Ot);const a=[];return t.forEach(l=>{const f=Xn.prefixForPath(this.userId,l.path),v=IDBKeyRange.lowerBound(f),b=Jh(e).Kt({range:v},(S,M,P)=>{const[Y,J,xe]=S,je=br(J);Y===this.userId&&l.path.isEqual(je)?s=s.add(xe):P.done()});a.push(b)}),Me.waitFor(a).next(()=>this.Zt(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,l=Xn.prefixForPath(this.userId,s),f=IDBKeyRange.lowerBound(l);let v=new Dn(Ot);return Jh(e).Kt({range:f},(b,S,M)=>{const[P,Y,J]=b,xe=br(Y);P===this.userId&&s.isPrefixOf(xe)?xe.length===a&&(v=v.add(J)):M.done()}).next(()=>this.Zt(e,v))}Zt(e,t){const s=[],a=[];return t.forEach(l=>{a.push(Qs(e).get(l).next(f=>{if(null===f)throw tt();ft(f.userId===this.userId),s.push(Qh(this.N,f))}))}),Me.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return HI(e.Qt,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Me.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Me.resolve();const s=IDBKeyRange.lowerBound(Xn.prefixForUser(this.userId)),a=[];return Jh(e).Kt({range:s},(l,f,v)=>{if(l[0]===this.userId){const b=br(l[1]);a.push(b)}else v.done()}).next(()=>{ft(0===a.length)})})}containsKey(e,t){return GI(e,this.userId,t)}ee(e){return qI(e).get(this.userId).next(t=>t||new wu(this.userId,-1,""))}}function GI(n,e,t){const s=Xn.prefixForPath(e,t.path),a=s[1],l=IDBKeyRange.lowerBound(s);let f=!1;return Jh(n).Kt({range:l,qt:!0},(v,b,S)=>{const[M,P,Y]=v;M===e&&P===a&&(f=!0),S.done()}).next(()=>f)}function Qs(n){return Yi(n,mn.store)}function Jh(n){return Yi(n,Xn.store)}function qI(n){return Yi(n,wu.store)}class bc{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new bc(0)}static ie(){return new bc(-1)}}class dg{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const s=new bc(t.highestTargetId);return t.highestTargetId=s.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>Ct.fromTimestamp(new Er(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.re(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.oe(e,a)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(s=>(s.targetCount+=1,this.ce(t,s),this.oe(e,s))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hg(e).delete(t.targetId)).next(()=>this.re(e)).next(s=>(ft(s.targetCount>0),s.targetCount-=1,this.oe(e,s)))}removeTargets(e,t,s){let a=0;const l=[];return hg(e).Kt((f,v)=>{const b=cg(v);b.sequenceNumber<=t&&null===s.get(b.targetId)&&(a++,l.push(this.removeTargetData(e,b)))}).next(()=>Me.waitFor(l)).next(()=>a)}forEachTarget(e,t){return hg(e).Kt((s,a)=>{const l=cg(a);t(l)})}re(e){return Sw(e).get(ni.key).next(t=>(ft(null!==t),t))}oe(e,t){return Sw(e).put(ni.key,t)}ae(e,t){return hg(e).put(VI(this.N,t))}ce(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Zl(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return hg(e).Kt({range:a,index:Mi.queryTargetsIndexName},(f,v,b)=>{const S=cg(v);zp(t,S.target)&&(l=S,b.done())}).next(()=>l)}addMatchingKeys(e,t,s){const a=[],l=Cc(e);return t.forEach(f=>{const v=Lo(f.path);a.push(l.put(new Cr(s,v))),a.push(this.referenceDelegate.addReference(e,s,f))}),Me.waitFor(a)}removeMatchingKeys(e,t,s){const a=Cc(e);return Me.forEach(t,l=>{const f=Lo(l.path);return Me.waitFor([a.delete([s,f]),this.referenceDelegate.removeReference(e,s,l)])})}removeMatchingKeysForTargetId(e,t){const s=Cc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Cc(e);let l=tn();return a.Kt({range:s,qt:!0},(f,v,b)=>{const S=br(f[1]),M=new nt(S);l=l.add(M)}).next(()=>l)}containsKey(e,t){const s=Lo(t.path),a=IDBKeyRange.bound([s],[Gp(s)],!1,!0);let l=0;return Cc(e).Kt({index:Cr.documentTargetsIndex,qt:!0,range:a},([f,v],b,S)=>{0!==f&&(l++,S.done())}).next(()=>l>0)}Tt(e,t){return hg(e).get(t).next(s=>s?cg(s):null)}}function hg(n){return Yi(n,Mi.store)}function Sw(n){return Yi(n,ni.store)}function Cc(n){return Yi(n,Cr.store)}function ad(n){return xw.apply(this,arguments)}function xw(){return(xw=(0,be.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==Ew)throw n;Ve("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function WI([n,e],[t,s]){const a=Ot(n,t);return 0===a?Ot(e,s):a}class SS{constructor(e){this.ue=e,this.buffer=new Dn(WI),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();WI(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zI{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const s=this.de?3e5:6e4;Ve("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,be.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){Kh(a)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield ad(a)}yield t._e(e)}))}}class xS{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Me.resolve(Ds.T);const s=new SS(t);return this.me.forEachTarget(e,a=>s.fe(a.sequenceNumber)).next(()=>this.me.ye(e,a=>s.fe(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.me.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve($I)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$I):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let s,a,l,f,v,b,S;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),a=this.params.maximumSequenceNumbersToCollect):a=P,f=Date.now(),this.nthSequenceNumber(e,a))).next(P=>(s=P,v=Date.now(),this.removeTargets(e,s,t))).next(P=>(l=P,b=Date.now(),this.removeOrphanedDocuments(e,s))).next(P=>(S=Date.now(),at()<=pc.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-M}ms\n\tDetermined least recently used ${a} in `+(v-f)+`ms\n\tRemoved ${l} targets in `+(b-v)+`ms\n\tRemoved ${P} documents in `+(S-b)+`ms\nTotal Duration: ${S-M}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:P})))}}class RS{constructor(e,t){this.db=e,this.garbageCollector=new xS(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Te(e){let t=0;return this.ye(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(s,a)=>t(a))}addReference(e,t,s){return Rw(e,s)}removeReference(e,t,s){return Rw(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Rw(e,t)}Ie(e,t){return function(s,a){let l=!1;return qI(s).jt(f=>GI(s,f,a).next(v=>(v&&(l=!0),Me.resolve(!v)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Ee(e,(f,v)=>{if(v<=t){const b=this.Ie(e,f).next(S=>{if(!S)return l++,s.getEntry(e,f).next(()=>(s.removeEntry(f),Cc(e).delete([0,Lo(f.path)])))});a.push(b)}}).next(()=>Me.waitFor(a)).next(()=>s.apply(e)).next(()=>l)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Rw(e,t)}Ee(e,t){const s=Cc(e);let a,l=Ds.T;return s.Kt({index:Cr.documentTargetsIndex},([f,v],{path:b,sequenceNumber:S})=>{0===f?(l!==Ds.T&&t(new nt(br(a)),l),l=S,a=b):l=Ds.T}).next(()=>{l!==Ds.T&&t(new nt(br(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Rw(n,e){return Cc(n).put((s=n.currentSequenceNumber,new Cr(0,Lo(e.path),s)));var s}class fg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t])}else this.inner[s]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),!0;return!1}forEach(e){ql(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return Nh(this.inner)}}class NS{constructor(){this.changes=new fg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Ct.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Rn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Me.resolve(s.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Nw{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,s){return Ic(e).put(Yy(t),s)}removeEntry(e,t){const s=Ic(e),a=Yy(t);return s.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Ae(e,s)))}getEntry(e,t){return Ic(e).get(Yy(t)).next(s=>this.Re(t,s))}be(e,t){return Ic(e).get(Yy(t)).next(s=>({document:this.Re(t,s),size:Zy(s)}))}getEntries(e,t){let s=zs();return this.Pe(e,t,(a,l)=>{const f=this.Re(a,l);s=s.insert(a,f)}).next(()=>s)}ve(e,t){let s=zs(),a=new Un(nt.comparator);return this.Pe(e,t,(l,f)=>{const v=this.Re(l,f);s=s.insert(l,v),a=a.insert(l,Zy(f))}).next(()=>({documents:s,Ve:a}))}Pe(e,t,s){if(t.isEmpty())return Me.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let f=l.getNext();return Ic(e).Kt({range:a},(v,b,S)=>{const M=nt.fromSegments(v);for(;f&&nt.comparator(f,M)<0;)s(f,null),f=l.getNext();f&&f.isEqual(M)&&(s(f,b),f=l.hasNext()?l.getNext():null),f?S.Mt(f.path.toArray()):S.done()}).next(()=>{for(;f;)s(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,s){let a=zs();const l=t.path.length+1,f={};if(s.isEqual(Ct.min())){const v=t.path.toArray();f.range=IDBKeyRange.lowerBound(v)}else{const v=t.path.toArray(),b=Iw(s);f.range=IDBKeyRange.lowerBound([v,b],!0),f.index=cn.collectionReadTimeIndex}return Ic(e).Kt(f,(v,b,S)=>{if(v.length!==l)return;const M=kr(this.N,b);t.path.isPrefixOf(M.key.path)?Lh(t,M)&&(a=a.insert(M.key,M)):S.done()}).next(()=>a)}newChangeBuffer(e){return new MS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return KI(e).get(Da.key).next(t=>(ft(!!t),t))}Ae(e,t){return KI(e).put(Da.key,t)}Re(e,t){if(t){const s=kr(this.N,t);if(!s.isNoDocument()||!s.version.isEqual(Ct.min()))return s}return Rn.newInvalidDocument(e)}}class MS extends NS{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new fg(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Dn((l,f)=>Ot(l.canonicalString(),f.canonicalString()));return this.changes.forEach((l,f)=>{const v=this.De.get(l);if(f.document.isValidDocument()){const b=LI(this.Se.N,f.document,this.getReadTime(l));a=a.add(l.path.popLast()),s+=Zy(b)-v,t.push(this.Se.addEntry(e,l,b))}else if(s-=v,this.trackRemovals){const b=LI(this.Se.N,Rn.newNoDocument(l,Ct.min()),this.getReadTime(l));t.push(this.Se.addEntry(e,l,b))}else t.push(this.Se.removeEntry(e,l))}),a.forEach(l=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,l))}),t.push(this.Se.updateMetadata(e,s)),Me.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(s=>(this.De.set(t,s.size),s.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:s,Ve:a})=>(a.forEach((l,f)=>{this.De.set(l,f)}),s))}}function KI(n){return Yi(n,Da.store)}function Ic(n){return Yi(n,cn.store)}function Yy(n){return n.path.toArray()}class OS{constructor(e){this.N=e}Ct(e,t,s,a){ft(s<a&&s>=0&&a<=11);const l=new rd("createOrUpgrade",t);var v;s<1&&a>=1&&(e.createObjectStore(Ts.store),(v=e).createObjectStore(wu.store,{keyPath:wu.keyPath}),v.createObjectStore(mn.store,{keyPath:mn.keyPath,autoIncrement:!0}).createIndex(mn.userMutationsIndex,mn.userMutationsKeyPath,{unique:!0}),v.createObjectStore(Xn.store),ZI(e),function(v){v.createObjectStore(cn.store)}(e));let f=Me.resolve();return s<3&&a>=3&&(0!==s&&(function(v){v.deleteObjectStore(Cr.store),v.deleteObjectStore(Mi.store),v.deleteObjectStore(ni.store)}(e),ZI(e)),f=f.next(()=>function(v){const b=v.store(ni.store),S=new ni(0,0,Ct.min().toTimestamp(),0);return b.put(ni.key,S)}(l))),s<4&&a>=4&&(0!==s&&(f=f.next(()=>function(v,b){return b.store(mn.store).Lt().next(S=>{v.deleteObjectStore(mn.store),v.createObjectStore(mn.store,{keyPath:mn.keyPath,autoIncrement:!0}).createIndex(mn.userMutationsIndex,mn.userMutationsKeyPath,{unique:!0});const M=b.store(mn.store),P=S.map(Y=>M.put(Y));return Me.waitFor(P)})}(e,l))),f=f.next(()=>{!function(v){v.createObjectStore(Ta.store,{keyPath:Ta.keyPath})}(e)})),s<5&&a>=5&&(f=f.next(()=>this.Ce(l))),s<6&&a>=6&&(f=f.next(()=>(function(v){v.createObjectStore(Da.store)}(e),this.Ne(l)))),s<7&&a>=7&&(f=f.next(()=>this.xe(l))),s<8&&a>=8&&(f=f.next(()=>this.ke(e,l))),s<9&&a>=9&&(f=f.next(()=>{(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(e),function(v){const b=v.objectStore(cn.store);b.createIndex(cn.readTimeIndex,cn.readTimeIndexPath,{unique:!1}),b.createIndex(cn.collectionReadTimeIndex,cn.collectionReadTimeIndexPath,{unique:!1})}(t)})),s<10&&a>=10&&(f=f.next(()=>this.$e(l))),s<11&&a>=11&&(f=f.next(()=>{(function(v){v.createObjectStore(Vo.store,{keyPath:Vo.keyPath})})(e),function(v){v.createObjectStore(zh.store,{keyPath:zh.keyPath})}(e)})),f}Ne(e){let t=0;return e.store(cn.store).Kt((s,a)=>{t+=Zy(a)}).next(()=>{const s=new Da(t);return e.store(Da.store).put(Da.key,s)})}Ce(e){const t=e.store(wu.store),s=e.store(mn.store);return t.Lt().next(a=>Me.forEach(a,l=>{const f=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return s.Lt(mn.userMutationsIndex,f).next(v=>Me.forEach(v,b=>{ft(b.userId===l.userId);const S=Qh(this.N,b);return HI(e,l.userId,S).next(()=>{})}))}))}xe(e){const t=e.store(Cr.store),s=e.store(cn.store);return e.store(ni.store).get(ni.key).next(a=>{const l=[];return s.Kt((f,v)=>{const b=new Kt(f),S=[0,Lo(b)];l.push(t.get(S).next(M=>M?Me.resolve():t.put(new Cr(0,Lo(b),a.highestListenSequenceNumber))))}).next(()=>Me.waitFor(l))})}ke(e,t){e.createObjectStore(bu.store,{keyPath:bu.keyPath});const s=t.store(bu.store),a=new lg,l=f=>{if(a.add(f)){const v=f.lastSegment(),b=f.popLast();return s.put({collectionId:v,parent:Lo(b)})}};return t.store(cn.store).Kt({qt:!0},(f,v)=>{const b=new Kt(f);return l(b.popLast())}).next(()=>t.store(Xn.store).Kt({qt:!0},([f,v,b],S)=>{const M=br(v);return l(M.popLast())}))}$e(e){const t=e.store(Mi.store);return t.Kt((s,a)=>{const l=cg(a),f=VI(this.N,l);return t.put(f)})}}function ZI(n){n.createObjectStore(Cr.store,{keyPath:Cr.keyPath}).createIndex(Cr.documentTargetsIndex,Cr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Mi.store,{keyPath:Mi.keyPath}).createIndex(Mi.queryTargetsIndexName,Mi.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(ni.store)}const Qy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pg{constructor(e,t,s,a,l,f,v,b,S,M){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Oe=l,this.window=f,this.document=v,this.Fe=S,this.Me=M,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=P=>Promise.resolve(),!pg.bt())throw new Oe(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RS(this,a),this.We=t+"main",this.N=new FI(b),this.Ge=new Uo(this.We,11,new OS(this.N)),this.ze=new dg(this.referenceDelegate,this.N),this.Ht=new TS,this.He=new Nw(this.N,this.Ht),this.Je=new Tw,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===M&&lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(ye.FAILED_PRECONDITION,Qy);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Ds(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var s=(0,be.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,be.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Cu(e).put(new Ta(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(Kh(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return gg(e).get(Ts.key).next(t=>Me.resolve(this.cn(t)))}un(e){return Cu(e).delete(this.clientId)}hn(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Yi(s,Ta.store);return a.Lt().next(l=>{const f=e.fn(l,18e5),v=l.filter(b=>-1===f.indexOf(b));return Me.forEach(v,b=>a.delete(b.clientId)).next(()=>v)})}).catch(()=>[]);if(e.Ye)for(const s of t)e.Ye.removeItem(e.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Me.resolve(!0):gg(e).get(Ts.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new Oe(ye.FAILED_PRECONDITION,Qy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Cu(e).Lt().next(s=>void 0===this.fn(s,5e3).find(a=>{if(this.clientId!==a.clientId){const f=!this.inForeground&&a.inForeground,v=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||f&&v)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Ts.store,Ta.store],t=>{const s=new PI(t,Ds.T);return e.on(s).next(()=>e.un(s))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(s=>this.ln(s.updateTimeMs,t)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Cu(e).Lt().next(t=>this.fn(t,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(e){return Aw.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,s){let l;return Ve("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",zy,f=>(l=new PI(f,this.Le?this.Le.next():Ds.T),"readwrite-primary"===t?this.sn(l).next(v=>!!v||this.rn(l)).next(v=>{if(!v)throw lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Oe(ye.FAILED_PRECONDITION,Ew);return s(l)}).next(v=>this.an(l).next(()=>v)):this.Tn(l).next(()=>s(l)))).then(f=>(l.raiseOnCommittedEvent(),f))}Tn(e){return gg(e).get(Ts.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.cn(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(ye.FAILED_PRECONDITION,Qy)})}an(e){const t=new Ts(this.clientId,this.allowTabSynchronization,Date.now());return gg(e).put(Ts.key,t)}static bt(){return Uo.bt()}on(e){const t=gg(e);return t.get(Ts.key).next(s=>this.cn(s)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete(Ts.key)):Me.resolve())}ln(e,t){const s=Date.now();return!(e<s-t||e>s&&(lr(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Nt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const s=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return lr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){lr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gg(n){return Yi(n,Ts.store)}function Cu(n){return Yi(n,Ta.store)}function Fr(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class YI{constructor(e,t){this.progress=e,this.En=t}}class Js{constructor(e,t,s){this.He=e,this.In=t,this.Ht=s}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(s=>this.Rn(e,t,s))}Rn(e,t,s){return this.He.getEntry(e,t).next(a=>{for(const l of s)l.applyToLocalView(a);return a})}bn(e,t){e.forEach((s,a)=>{for(const l of t)l.applyToLocalView(a)})}Pn(e,t){return this.He.getEntries(e,t).next(s=>this.vn(e,s).next(()=>s))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>this.bn(t,s))}getDocumentsMatchingQuery(e,t,s){return nt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(e,t.path):Qp(t)?this.Sn(e,t,s):this.Dn(e,t,s);var a}Vn(e,t){return this.An(e,new nt(t)).next(s=>{let a=EI();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}Sn(e,t,s){const a=t.collectionGroup;let l=EI();return this.Ht.getCollectionParents(e,a).next(f=>Me.forEach(f,v=>{const b=(S=t,M=v.child(a),new _u(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,M;return this.Dn(e,b,s).next(S=>{S.forEach((M,P)=>{l=l.insert(M,P)})})}).next(()=>l))}Dn(e,t,s){let a,l;return this.He.getDocumentsMatchingQuery(e,t,s).next(f=>(a=f,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(f=>(l=f,this.Cn(e,l,a).next(v=>{a=v;for(const b of l)for(const S of b.mutations){const M=S.key;let P=a.get(M);null==P&&(P=Rn.newInvalidDocument(M),a=a.insert(M,P)),hw(S,P,b.localWriteTime),P.isFoundDocument()||(a=a.remove(M))}}))).next(()=>(a.forEach((f,v)=>{Lh(t,v)||(a=a.remove(f))}),a))}Cn(e,t,s){let a=tn();for(const f of t)for(const v of f.mutations)v instanceof wc&&null===s.get(v.key)&&(a=a.add(v.key));let l=s;return this.He.getEntries(e,a).next(f=>(f.forEach((v,b)=>{b.isFoundDocument()&&(l=l.insert(v,b))}),l))}}class mg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Nn=s,this.xn=a}static kn(e,t){let s=tn(),a=tn();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new mg(e,t.fromCache,s,a)}}class QI{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,s,a){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||s.isEqual(Ct.min())?this.Fn(e,t):this.On.Pn(e,a).next(l=>{const f=this.Mn(t,l);return(Oy(t)||Py(t))&&this.Ln(t.limitType,f,a,s)?this.Fn(e,t):(at()<=pc.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),aw(t)),this.On.getDocumentsMatchingQuery(e,t,s).next(v=>(f.forEach(b=>{v=v.insert(b.key,b)}),v)))});var l}Mn(e,t){let s=new Dn(pI(e));return t.forEach((a,l)=>{Lh(e,l)&&(s=s.add(l))}),s}Ln(e,t,s,a){if(s.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Fn(e,t){return at()<=pc.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",aw(t)),this.On.getDocumentsMatchingQuery(e,t,Ct.min())}}class JI{constructor(e,t,s,a){this.persistence=e,this.Bn=t,this.N=a,this.Un=new Un(Ot),this.qn=new fg(l=>Zl(l),zp),this.Kn=Ct.min(),this.In=e.getMutationQueue(s),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Js(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function Mw(n,e,t,s){return new JI(n,e,t,s)}function Ow(n,e){return Pw.apply(this,arguments)}function Pw(){return(Pw=(0,be.Z)(function*(n,e){const t=He(n);let s=t.In,a=t.Qn;const l=yield t.persistence.runTransaction("Handle user change","readonly",f=>{let v;return t.In.getAllMutationBatches(f).next(b=>(v=b,s=t.persistence.getMutationQueue(e),a=new Js(t.jn,s,t.persistence.getIndexManager()),s.getAllMutationBatches(f))).next(b=>{const S=[],M=[];let P=tn();for(const Y of v){S.push(Y.batchId);for(const J of Y.mutations)P=P.add(J.key)}for(const Y of b){M.push(Y.batchId);for(const J of Y.mutations)P=P.add(J.key)}return a.Pn(f,P).next(Y=>({Wn:Y,removedBatchIds:S,addedBatchIds:M}))})});return t.In=s,t.Qn=a,t.Bn.$n(t.Qn),l})).apply(this,arguments)}function PS(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.jn.newChangeBuffer({trackRemovals:!0});return function(f,v,b,S){const M=b.batch,P=M.keys();let Y=Me.resolve();return P.forEach(J=>{Y=Y.next(()=>S.getEntry(v,J)).next(xe=>{const je=b.docVersions.get(J);ft(null!==je),xe.version.compareTo(je)<0&&(M.applyToRemoteDocument(xe,b),xe.isValidDocument()&&S.addEntry(xe,b.commitVersion))})}),Y.next(()=>f.In.removeMutationBatch(v,M))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.In.performConsistencyCheck(s)).next(()=>t.Qn.Pn(s,a))})}function XI(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function eD(n,e){const t=He(n),s=e.snapshotVersion;let a=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.jn.newChangeBuffer({trackRemovals:!0});a=t.Un;const v=[];e.targetChanges.forEach((S,M)=>{const P=a.get(M);if(!P)return;v.push(t.ze.removeMatchingKeys(l,S.removedDocuments,M).next(()=>t.ze.addMatchingKeys(l,S.addedDocuments,M)));const Y=S.resumeToken;if(Y.approximateByteSize()>0){const J=P.withResumeToken(Y,s).withSequenceNumber(l.currentSequenceNumber);a=a.insert(M,J),xe=P,Ze=S,ft((je=J).resumeToken.approximateByteSize()>0),(0===xe.resumeToken.approximateByteSize()||je.snapshotVersion.toMicroseconds()-xe.snapshotVersion.toMicroseconds()>=3e8||Ze.addedDocuments.size+Ze.modifiedDocuments.size+Ze.removedDocuments.size>0)&&v.push(t.ze.updateTargetData(l,J))}var xe,je,Ze});let b=zs();if(e.documentUpdates.forEach((S,M)=>{e.resolvedLimboDocuments.has(S)&&v.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),v.push(tD(l,f,e.documentUpdates,s,void 0).next(S=>{b=S})),!s.isEqual(Ct.min())){const S=t.ze.getLastRemoteSnapshotVersion(l).next(M=>t.ze.setTargetsMetadata(l,l.currentSequenceNumber,s));v.push(S)}return Me.waitFor(v).next(()=>f.apply(l)).next(()=>t.Qn.vn(l,b)).next(()=>b)}).then(l=>(t.Un=a,l))}function tD(n,e,t,s,a){let l=tn();return t.forEach(f=>l=l.add(f)),e.getEntries(n,l).next(f=>{let v=zs();return t.forEach((b,S)=>{const M=f.get(b),P=(null==a?void 0:a.get(b))||s;S.isNoDocument()&&S.version.isEqual(Ct.min())?(e.removeEntry(b,P),v=v.insert(b,S)):!M.isValidDocument()||S.version.compareTo(M.version)>0||0===S.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(S,P),v=v.insert(b,S)):Ve("LocalStore","Ignoring outdated watch update for ",b,". Current version:",M.version," Watch version:",S.version)}),v})}function VR(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(s,e)))}function Xh(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.ze.getTargetData(s,e).next(l=>l?(a=l,Me.resolve(a)):t.ze.allocateTargetId(s).next(f=>(a=new od(e,f,0,s.currentSequenceNumber),t.ze.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Un.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Un=t.Un.insert(s.targetId,s),t.qn.set(e,s.targetId)),s})}function ef(n,e,t){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,be.Z)(function*(n,e,t){const s=He(n),a=s.Un.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Kh(f))throw f;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Un=s.Un.remove(e),s.qn.delete(a.target)})).apply(this,arguments)}function kw(n,e,t){const s=He(n);let a=Ct.min(),l=tn();return s.persistence.runTransaction("Execute query","readonly",f=>function(v,b,S){const M=He(v),P=M.qn.get(S);return void 0!==P?Me.resolve(M.Un.get(P)):M.ze.getTargetData(b,S)}(s,f,Zi(e)).next(v=>{if(v)return a=v.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(f,v.targetId).next(b=>{l=b})}).next(()=>s.Bn.getDocumentsMatchingQuery(f,e,t?a:Ct.min(),t?l:tn())).next(v=>({documents:v,Gn:l})))}function Fw(n,e){const t=He(n),s=He(t.ze),a=t.Un.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>s.Tt(l,e).next(f=>f?f.target:null))}function nD(n){const e=He(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(s,a,l){const f=He(s);let v=zs(),b=Iw(l);const S=Ic(a),M=IDBKeyRange.lowerBound(b,!0);return S.Kt({index:cn.readTimeIndex,range:M},(P,Y)=>{const J=kr(f.N,Y);v=v.insert(J.key,J),b=Y.readTime}).next(()=>({En:v,readTime:Ky(b)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:s})=>(e.Kn=s,t))}function Jy(){return(Jy=(0,be.Z)(function*(n){const e=He(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(s){const a=Ic(s);let l=Ct.min();return a.Kt({index:cn.readTimeIndex,reverse:!0},(f,v,b)=>{v.readTime&&(l=Ky(v.readTime)),b.done()}).next(()=>l)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function yg(){return(yg=(0,be.Z)(function*(n,e,t,s){const a=He(n);let l=tn(),f=zs(),v=wI();for(const M of t){const P=e.zn(M.metadata.name);M.document&&(l=l.add(P)),f=f.insert(P,e.Hn(M)),v=v.insert(P,e.Jn(M.metadata.readTime))}const b=a.jn.newChangeBuffer({trackRemovals:!0}),S=yield Xh(a,(M=s,Zi(Yl(Kt.fromString(`__bundle__/docs/${M}`)))));var M;return a.persistence.runTransaction("Apply bundle documents","readwrite",M=>tD(M,b,f,Ct.min(),v).next(P=>(b.apply(M),P)).next(P=>a.ze.removeMatchingKeysForTargetId(M,S.targetId).next(()=>a.ze.addMatchingKeys(M,l,S.targetId)).next(()=>a.Qn.vn(M,P)).next(()=>P)))})).apply(this,arguments)}function FS(n,e){return Lw.apply(this,arguments)}function Lw(){return(Lw=(0,be.Z)(function*(n,e,t=tn()){const s=yield Xh(n,Zi(Dw(e.bundledQuery))),a=He(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const f=Jn(e.readTime);if(s.snapshotVersion.compareTo(f)>=0)return a.Je.saveNamedQuery(l,e);const v=s.withResumeToken(wr.EMPTY_BYTE_STRING,f);return a.Un=a.Un.insert(v.targetId,v),a.ze.updateTargetData(l,v).next(()=>a.ze.removeMatchingKeysForTargetId(l,s.targetId)).next(()=>a.ze.addMatchingKeys(l,t,s.targetId)).next(()=>a.Je.saveNamedQuery(l,e))})})).apply(this,arguments)}class rD{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Me.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var s;return this.Yn.set(t.id,{id:(s=t).id,version:s.version,createTime:Jn(s.createTime)}),Me.resolve()}getNamedQuery(e,t){return Me.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(s=t).name,query:Dw(s.bundledQuery),readTime:Jn(s.readTime)}),Me.resolve();var s}}class Vw{constructor(){this.Zn=new Dn(Lr.ts),this.es=new Dn(Lr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const s=new Lr(e,t);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.rs(new Lr(e,t))}os(e,t){e.forEach(s=>this.removeReference(s,t))}cs(e){const t=new nt(new Kt([])),s=new Lr(t,e),a=new Lr(t,e+1),l=[];return this.es.forEachInRange([s,a],f=>{this.rs(f),l.push(f.key)}),l}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new nt(new Kt([])),s=new Lr(t,e),a=new Lr(t,e+1);let l=tn();return this.es.forEachInRange([s,a],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new Lr(e,0),s=this.Zn.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Lr{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return nt.comparator(e.key,t.key)||Ot(e.ls,t.ls)}static ns(e,t){return Ot(e.ls,t.ls)||nt.comparator(e.key,t.key)}}class LS{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Dn(Lr.ts)}checkEmpty(e){return Me.resolve(0===this.In.length)}addMutationBatch(e,t,s,a){const l=this.fs;this.fs++;const f=new Cw(l,t,s,a);this.In.push(f);for(const v of a)this.ds=this.ds.add(new Lr(v.key,l)),this.Ht.addToCollectionParentIndex(e,v.key.path.popLast());return Me.resolve(f)}lookupMutationBatch(e,t){return Me.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const a=this._s(t+1),l=a<0?0:a;return Me.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Me.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Lr(t,0),a=new Lr(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([s,a],f=>{const v=this.ws(f.ls);l.push(v)}),Me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dn(Ot);return t.forEach(a=>{const l=new Lr(a,0),f=new Lr(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,f],v=>{s=s.add(v.ls)})}),Me.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;nt.isDocumentKey(l)||(l=l.child(""));const f=new Lr(new nt(l),0);let v=new Dn(Ot);return this.ds.forEachWhile(b=>{const S=b.key.path;return!!s.isPrefixOf(S)&&(S.length===a&&(v=v.add(b.ls)),!0)},f),Me.resolve(this.gs(v))}gs(e){const t=[];return e.forEach(s=>{const a=this.ws(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){ft(0===this.ys(t.batchId,"removed")),this.In.shift();let s=this.ds;return Me.forEach(t.mutations,a=>{const l=new Lr(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ds=s})}te(e){}containsKey(e,t){const s=new Lr(t,0),a=this.ds.firstAfterOrEqual(s);return Me.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Me.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class VS{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Un(nt.comparator),this.size=0}addEntry(e,t,s){const a=t.key,l=this.docs.get(a),f=l?l.size:0,v=this.ps(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:v,readTime:s}),this.size+=v-f,this.Ht.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Me.resolve(s?s.document.clone():Rn.newInvalidDocument(t))}getEntries(e,t){let s=zs();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.clone():Rn.newInvalidDocument(a))}),Me.resolve(s)}getDocumentsMatchingQuery(e,t,s){let a=zs();const l=new nt(t.path.child("")),f=this.docs.getIteratorFrom(l);for(;f.hasNext();){const{key:v,value:{document:b,readTime:S}}=f.getNext();if(!t.path.isPrefixOf(v.path))break;S.compareTo(s)<=0||Lh(t,b)&&(a=a.insert(b.key,b.clone()))}return Me.resolve(a)}Ts(e,t){return Me.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new US(this)}getSize(e){return Me.resolve(this.size)}}class US extends NS{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.document.isValidDocument()?t.push(this.Se.addEntry(e,a.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Me.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class BS{constructor(e){this.persistence=e,this.Es=new fg(t=>Zl(t),zp),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Is=0,this.As=new Vw,this.targetCount=0,this.Rs=bc.se()}forEachTarget(e,t){return this.Es.forEach((s,a)=>t(a)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Is&&(this.Is=t),Me.resolve()}ae(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new bc(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Me.resolve()}updateTargetData(e,t){return this.ae(t),Me.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Es.forEach((f,v)=>{v.sequenceNumber<=t&&null===s.get(v.targetId)&&(this.Es.delete(f),l.push(this.removeMatchingKeysForTargetId(e,v.targetId)),a++)}),Me.waitFor(l).next(()=>a)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,t){const s=this.Es.get(t)||null;return Me.resolve(s)}addMatchingKeys(e,t,s){return this.As.ss(t,s),Me.resolve()}removeMatchingKeys(e,t,s){this.As.os(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(f=>{l.push(a.markPotentiallyOrphaned(e,f))}),Me.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Me.resolve()}getMatchingKeysForTargetId(e,t){const s=this.As.hs(t);return Me.resolve(s)}containsKey(e,t){return Me.resolve(this.As.containsKey(t))}}class jS{constructor(e,t){this.bs={},this.Le=new Ds(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new BS(this),this.Ht=new jI,this.He=new VS(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new FI(t),this.Je=new rD(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new LS(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,s){Ve("MemoryPersistence","Starting transaction:",e);const a=new _g(this.Le.next());return this.referenceDelegate.vs(),s(a).next(l=>this.referenceDelegate.Vs(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ss(e,t){return Me.or(Object.values(this.bs).map(s=>()=>s.containsKey(e,t)))}}class _g extends ww{constructor(e){super(),this.currentSequenceNumber=e}}class Xy{constructor(e){this.persistence=e,this.Ds=new Vw,this.Cs=null}static Ns(e){return new Xy(e)}get xs(){if(this.Cs)return this.Cs;throw tt()}addReference(e,t,s){return this.Ds.addReference(s,t),this.xs.delete(s.toString()),Me.resolve()}removeReference(e,t,s){return this.Ds.removeReference(s,t),this.xs.add(s.toString()),Me.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Me.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(a=>this.xs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.xs,s=>{const a=nt.fromPath(s);return this.ks(e,a).next(l=>{l||t.removeEntry(a)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(s=>{s?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Me.or([()=>Me.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function Uw(n,e){return`firestore_clients_${n}_${e}`}function Bw(n,e,t){let s=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function e_(n,e){return`firestore_targets_${n}_${e}`}class vg{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static $s(e,t,s){const a=JSON.parse(s);let l,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(l=new Oe(a.error.code,a.error.message))),f?new vg(e,t,a.state,l):(lr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Eg{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static $s(e,t){const s=JSON.parse(t);let a,l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(a=new Oe(s.error.code,s.error.message))),l?new Eg(e,s.state,a):(lr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class t_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,l=Gy();for(let f=0;a&&f<s.activeTargetIds.length;++f)a=Wp(s.activeTargetIds[f]),l=l.add(s.activeTargetIds[f]);return a?new t_(e,l):(lr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class jw{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new jw(t.clientId,t.onlineState):(lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $w{constructor(){this.activeTargetIds=Gy()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hw{constructor(e,t,s,a,l){this.window=e,this.Oe=t,this.persistenceKey=s,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Un(Ot),this.started=!1,this.Ks=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=Uw(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new $w),this.Ws=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(v){return`firestore_bundle_loaded_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.pn();for(const a of t){if(a===e.Ls)continue;const l=e.getItem(Uw(e.persistenceKey,a));if(l){const f=t_.$s(a,l);f&&(e.qs=e.qs.insert(f.clientId,f))}}e.Ys();const s=e.storage.getItem(e.Hs);if(s){const a=e.Xs(s);a&&e.Zs(a)}for(const a of e.Ks)e.Us(a);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,s){this.ei(e,t,s),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(e_(this.persistenceKey,e));if(s){const a=Eg.$s(e,s);a&&(t=a.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(e_(this.persistenceKey,e))}updateQueryState(e,t,s){this.ii(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.ni(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Ve("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==s.key)if(t.Ws.test(s.key)){if(null==s.newValue){const a=t.ai(s.key);return t.ci(a,null)}{const a=t.ui(s.key,s.newValue);if(a)return t.ci(a.clientId,a)}}else if(t.Gs.test(s.key)){if(null!==s.newValue){const a=t.hi(s.key,s.newValue);if(a)return t.li(a)}}else if(t.zs.test(s.key)){if(null!==s.newValue){const a=t.fi(s.key,s.newValue);if(a)return t.di(a)}}else if(s.key===t.Hs){if(null!==s.newValue){const a=t.Xs(s.newValue);if(a)return t.Zs(a)}}else if(s.key===t.Qs){const a=function(l){let f=Ds.T;if(null!=l)try{const v=JSON.parse(l);ft("number"==typeof v),f=v}catch(v){lr("SharedClientState","Failed to read sequence number from WebStorage",v)}return f}(s.newValue);a!==Ds.T&&t.sequenceNumberHandler(a)}else if(s.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,s){const a=new vg(this.currentUser,e,t,s),l=Bw(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Os())}ni(e){const t=Bw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,s){const a=e_(this.persistenceKey,e),l=new Eg(e,t,s);this.setItem(a,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const s=this.ai(e);return t_.$s(s,t)}hi(e,t){const s=this.Gs.exec(e),a=Number(s[1]);return vg.$s(new Mr(void 0!==s[2]?s[2]:null),a,t)}fi(e,t){const s=this.zs.exec(e),a=Number(s[1]);return Eg.$s(a,t)}Xs(e){return jw.$s(e)}li(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const s=t?this.qs.insert(e,t):this.qs.remove(e),a=this.ti(this.qs),l=this.ti(s),f=[],v=[];return l.forEach(b=>{a.has(b)||f.push(b)}),a.forEach(b=>{l.has(b)||v.push(b)}),this.syncEngine.gi(f,v).then(()=>{this.qs=s})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Gy();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class iD{constructor(){this.yi=new $w,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,s){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new $w,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class $S{Ti(e){}shutdown(){}}class tf{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class HS{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Gw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,s,a){const l=this.Bi(e,t);Ve("RestConnection","Sending: ",l,s);const f={};return this.Ui(f,a),this.qi(e,l,f,s).then(v=>(Ve("RestConnection","Received: ",v),v),v=>{throw Ec("RestConnection",`${e} failed with error: `,v,"url: ",l,"request:",s),v})}Ki(e,t,s,a){return this.Li(e,t,s,a)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Hl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const s in t.authHeaders)t.authHeaders.hasOwnProperty(s)&&(e[s]=t.authHeaders[s])}Bi(e,t){return`${this.Fi}/v1/${t}:${wg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,s,a){return new Promise((l,f)=>{const v=new KE;v.listenOnce($l.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Ay.NO_ERROR:const S=v.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(S)),l(S);break;case Ay.TIMEOUT:Ve("Connection",'RPC "'+e+'" timed out'),f(new Oe(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Ay.HTTP_ERROR:const M=v.getStatus();if(Ve("Connection",'RPC "'+e+'" failed with status:',M,"response text:",v.getResponseText()),M>0){const P=v.getResponseJson().error;if(P&&P.status&&P.message){const Y=function(J){const xe=J.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(xe)>=0?xe:ye.UNKNOWN}(P.status);f(new Oe(Y,P.message))}else f(new Oe(ye.UNKNOWN,"Server responded with status "+v.getStatus()))}else f(new Oe(ye.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Ve("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(a);v.send(t,"POST",b,s,15)})}ji(e,t){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=eI(),l=WE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new xh({})),this.Ui(f.initMessageHeaders,t),(0,Nt.uI)()||(0,Nt.b$)()||(0,Nt.d)()||(0,Nt.w1)()||(0,Nt.Mn)()||(0,Nt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const v=s.join("");Ve("Connection","Creating WebChannel: "+v,f);const b=a.createWebChannel(v,f);let S=!1,M=!1;const P=new HS({vi:J=>{M?Ve("Connection","Not sending because WebChannel is closed:",J):(S||(Ve("Connection","Opening WebChannel transport."),b.open(),S=!0),Ve("Connection","WebChannel sending:",J),b.send(J))},Vi:()=>b.close()}),Y=(J,xe,je)=>{J.listen(xe,Ze=>{try{je(Ze)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return Y(b,zE.EventType.OPEN,()=>{M||Ve("Connection","WebChannel transport opened.")}),Y(b,zE.EventType.CLOSE,()=>{M||(M=!0,Ve("Connection","WebChannel transport closed"),P.$i())}),Y(b,zE.EventType.ERROR,J=>{M||(M=!0,Ec("Connection","WebChannel transport errored:",J),P.$i(new Oe(ye.UNAVAILABLE,"The operation could not be completed")))}),Y(b,zE.EventType.MESSAGE,J=>{var xe;if(!M){const je=J.data[0];ft(!!je);const Ze=je,Pt=Ze.error||(null===(xe=Ze[0])||void 0===xe?void 0:xe.error);if(Pt){Ve("Connection","WebChannel received error:",Pt);const nn=Pt.status;let Mn=function(pr){const xa=Qn[pr];if(void 0!==xa)return gw(xa)}(nn),Ut=Pt.message;void 0===Mn&&(Mn=ye.INTERNAL,Ut="Unknown error status: "+nn+" with message "+Pt.message),M=!0,P.$i(new Oe(Mn,Ut)),b.close()}else Ve("Connection","WebChannel received:",je),P.Oi(je)}}),Y(l,WA.STAT_EVENT,J=>{J.stat===tI.PROXY?Ve("Connection","Detected buffering proxy"):J.stat===tI.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.ki()},0),P}}function Bo(){return"undefined"!=typeof window?window:null}function n_(){return"undefined"!=typeof document?document:null}function Tc(n){return new DI(n,!0)}class qw{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Oe=e,this.timerId=t,this.Qi=s,this.Wi=a,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),a=Math.max(0,t-s);a>0&&Ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class sD{constructor(e,t,s,a,l,f){this.Oe=e,this.er=s,this.nr=a,this.credentialsProvider=l,this.listener=f,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new qw(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,be.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,be.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var s=this;return(0,be.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==e?s.rr.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(lr(t.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):t&&t.code===ye.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===t&&this.yr(s)},s=>{e(()=>{const a=new Oe(ye.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(a)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{t(()=>this.pr(s))}),this.stream.onMessage(s=>{t(()=>this.onMessage(s))})}ur(){var e=this;this.state=4,this.rr.Xi((0,be.Z)(function*(){e.state=0,e.start()}))}pr(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BR extends sD{constructor(e,t,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,s,l),this.N=a}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:tt(),a=e.targetChange.targetIds||[],l=function(b,S){return b.D?(ft(void 0===S||"string"==typeof S),wr.fromBase64String(S||"")):(ft(void 0===S||S instanceof Uint8Array),wr.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,v=f&&function(b){const S=void 0===b.code?ye.UNKNOWN:gw(b.code);return new Oe(S,b.message||"")}(f);t=new bI(s,a,l,v||null)}else if("documentChange"in e){const s=e.documentChange,a=Fo(n,s.document.name),l=Jn(s.document.updateTime),f=new yi({mapValue:{fields:s.document.fields}}),v=Rn.newFoundDocument(a,l,f);t=new qy(s.targetIds||[],s.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const s=e.documentDelete,a=Fo(n,s.document),l=s.readTime?Jn(s.readTime):Ct.min(),f=Rn.newNoDocument(a,l);t=new qy([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=Fo(n,s.document);t=new qy([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return tt();{const s=e.filter,l=new _I(s.count||0);t=new _S(s.targetId,l)}}var b;return t}(this.N,e),s=function(a){if(!("targetChange"in a))return Ct.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ct.min():l.readTime?Jn(l.readTime):Ct.min()}(e);return this.listener.Er(t,s)}Ir(e){const t={};t.database=Hh(this.N),t.addTarget=function(a,l){let f;const v=l.target;return f=Kp(v)?{documents:Gh(a,v)}:{query:Zt(a,v)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?f.resumeToken=ES(a,l.resumeToken):l.snapshotVersion.compareTo(Ct.min())>0&&(f.readTime=ig(a,l.snapshotVersion.toTimestamp())),f}(this.N,e);const s=function(n,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.wr(t)}Ar(e){const t={};t.database=Hh(this.N),t.removeTarget=e,this.wr(t)}}class Ww extends sD{constructor(e,t,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle",t,s,l),this.N=a,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(n,e){return n&&n.length>0?(ft(void 0!==e),n.map(t=>function(s,a){let l=Jn(s.updateTime?s.updateTime:a);return l.isEqual(Ct.min())&&(l=Jn(a)),new dS(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Jn(e.commitTime);return this.listener.vr(s,t)}return ft(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=Hh(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>nd(this.N,s))};this.wr(t)}}class zw extends class{}{constructor(e,t,s){super(),this.credentials=e,this.nr=t,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Oe(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Li(e,t,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ye.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Oe(ye.UNKNOWN,a.toString())})}Ki(e,t,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Ki(e,t,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ye.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Oe(ye.UNKNOWN,a.toString())})}terminate(){this.Dr=!0}}class oD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(lr(t),this.$r=!1):Ve("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Kw{constructor(e,t,s,a,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=l,this.Qr.Ti(v=>{s.enqueueAndForget((0,be.Z)(function*(){var b;Iu(f)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,be.Z)(function*(S){const M=He(S);M.Kr.add(4),yield nf(M),M.Wr.set("Unknown"),M.Kr.delete(4),yield ud(M)}),function(S){return b.apply(this,arguments)})(f))}))}),this.Wr=new oD(s,a)}}function ud(n){return Zw.apply(this,arguments)}function Zw(){return(Zw=(0,be.Z)(function*(n){if(Iu(n))for(const e of n.jr)yield e(!0)})).apply(this,arguments)}function nf(n){return Yw.apply(this,arguments)}function Yw(){return(Yw=(0,be.Z)(function*(n){for(const e of n.jr)yield e(!1)})).apply(this,arguments)}function r_(n,e){const t=He(n);t.qr.has(e.targetId)||(t.qr.set(e.targetId,e),i_(t)?Jw(t):of(t).cr()&&bg(t,e))}function rf(n,e){const t=He(n),s=of(t);t.qr.delete(e),s.cr()&&Qw(t,e),0===t.qr.size&&(s.cr()?s.lr():Iu(t)&&t.Wr.set("Unknown"))}function bg(n,e){n.Gr.Y(e.targetId),of(n).Ir(e)}function Qw(n,e){n.Gr.Y(e),of(n).Ar(e)}function Jw(n){n.Gr=new vS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qr.get(e)||null}),of(n).start(),n.Wr.Or()}function i_(n){return Iu(n)&&!of(n).ar()&&n.qr.size>0}function Iu(n){return 0===He(n).Kr.size}function aD(n){n.Gr=void 0}function uD(n){return s_.apply(this,arguments)}function s_(){return(s_=(0,be.Z)(function*(n){n.qr.forEach((e,t)=>{bg(n,e)})})).apply(this,arguments)}function GS(n,e){return o_.apply(this,arguments)}function o_(){return(o_=(0,be.Z)(function*(n,e){aD(n),i_(n)?(n.Wr.Lr(e),Jw(n)):n.Wr.set("Unknown")})).apply(this,arguments)}function qS(n,e,t){return cD.apply(this,arguments)}function cD(){return(cD=(0,be.Z)(function*(n,e,t){if(n.Wr.set("Online"),e instanceof bI&&2===e.state&&e.cause)try{yield(s=(0,be.Z)(function*(a,l){const f=l.cause;for(const v of l.targetIds)a.qr.has(v)&&(yield a.remoteSyncer.rejectListen(v,f),a.qr.delete(v),a.Gr.removeTarget(v))}),function(a,l){return s.apply(this,arguments)})(n,e)}catch(s){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Vr(n,s)}else if(e instanceof qy?n.Gr.rt(e):e instanceof _S?n.Gr.ft(e):n.Gr.ct(e),!t.isEqual(Ct.min()))try{const s=yield XI(n.localStore);t.compareTo(s)>=0&&(yield function(a,l){const f=a.Gr._t(l);return f.targetChanges.forEach((v,b)=>{if(v.resumeToken.approximateByteSize()>0){const S=a.qr.get(b);S&&a.qr.set(b,S.withResumeToken(v.resumeToken,l))}}),f.targetMismatches.forEach(v=>{const b=a.qr.get(v);if(!b)return;a.qr.set(v,b.withResumeToken(wr.EMPTY_BYTE_STRING,b.snapshotVersion)),Qw(a,v);const S=new od(b.target,v,1,b.sequenceNumber);bg(a,S)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(s){Ve("RemoteStore","Failed to raise snapshot:",s),yield Vr(n,s)}var s})).apply(this,arguments)}function Vr(n,e,t){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,be.Z)(function*(n,e,t){if(!Kh(e))throw e;n.Kr.add(1),yield nf(n),n.Wr.set("Offline"),t||(t=()=>XI(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.Kr.delete(1),yield ud(n)}))})).apply(this,arguments)}function lD(n,e){return e().catch(t=>Vr(n,t,e))}function sf(n){return dD.apply(this,arguments)}function dD(){return(dD=(0,be.Z)(function*(n){const e=He(n),t=Du(e);let s=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;Cg(e);)try{const a=yield VR(e.localStore,s);if(null===a){0===e.Ur.length&&t.lr();break}s=a.batchId,WS(e,a)}catch(a){yield Vr(e,a)}a_(e)&&hD(e)})).apply(this,arguments)}function Cg(n){return Iu(n)&&n.Ur.length<10}function WS(n,e){n.Ur.push(e);const t=Du(n);t.cr()&&t.br&&t.Pr(e.mutations)}function a_(n){return Iu(n)&&!Du(n).ar()&&n.Ur.length>0}function hD(n){Du(n).start()}function fD(n){return Xw.apply(this,arguments)}function Xw(){return(Xw=(0,be.Z)(function*(n){Du(n).Sr()})).apply(this,arguments)}function zS(n){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,be.Z)(function*(n){const e=Du(n);for(const t of n.Ur)e.Pr(t.mutations)})).apply(this,arguments)}function pD(n,e,t){return u_.apply(this,arguments)}function u_(){return(u_=(0,be.Z)(function*(n,e,t){const s=n.Ur.shift(),a=kI.from(s,e,t);yield lD(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield sf(n)})).apply(this,arguments)}function c_(n,e){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,be.Z)(function*(n,e){var t;e&&Du(n).br&&(yield(t=(0,be.Z)(function*(s,a){if(vI(l=a.code)&&l!==ye.ABORTED){const f=s.Ur.shift();Du(s).hr(),yield lD(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield sf(s)}var l}),function(s,a){return t.apply(this,arguments)})(n,e)),a_(n)&&hD(n)})).apply(this,arguments)}function gD(n,e){return l_.apply(this,arguments)}function l_(){return(l_=(0,be.Z)(function*(n,e){const t=He(n);e?(t.Kr.delete(2),yield ud(t)):e||(t.Kr.add(2),yield nf(t),t.Wr.set("Unknown"))})).apply(this,arguments)}function of(n){return n.zr||(n.zr=function(e,t,s){const a=He(e);return a.Cr(),new BR(t,a.nr,a.credentials,a.N,s)}(n.datastore,n.asyncQueue,{Si:uD.bind(null,n),Ci:GS.bind(null,n),Er:qS.bind(null,n)}),n.jr.push(function(){var e=(0,be.Z)(function*(t){t?(n.zr.hr(),i_(n)?Jw(n):n.Wr.set("Unknown")):(yield n.zr.stop(),aD(n))});return function(t){return e.apply(this,arguments)}}())),n.zr}function Du(n){return n.Hr||(n.Hr=function(e,t,s){const a=He(e);return a.Cr(),new Ww(t,a.nr,a.credentials,a.N,s)}(n.datastore,n.asyncQueue,{Si:fD.bind(null,n),Ci:c_.bind(null,n),Vr:zS.bind(null,n),vr:pD.bind(null,n)}),n.jr.push(function(){var e=(0,be.Z)(function*(t){t?(n.Hr.hr(),yield sf(n)):(yield n.Hr.stop(),n.Ur.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.Ur.length} pending writes`),n.Ur=[]))});return function(t){return e.apply(this,arguments)}}())),n.Hr}class af{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,l){const f=Date.now()+s,v=new af(e,t,f,a,l);return v.start(s),v}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cd(n,e){if(lr("AsyncQueue",`${e}: ${n}`),Kh(n))return new Oe(ye.UNAVAILABLE,`${e}: ${n}`);throw n}class uf{constructor(e){this.comparator=e?(t,s)=>e(t,s)||nt.comparator(t.key,s.key):(t,s)=>nt.comparator(t.key,s.key),this.keyedMap=EI(),this.sortedSet=new Un(this.comparator)}static emptySet(e){return new uf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new uf;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class d_{constructor(){this.Jr=new Un(nt.comparator)}track(e){const t=e.doc.key,s=this.Jr.get(t);s?0!==e.type&&3===s.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==s.type?this.Jr=this.Jr.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Jr=this.Jr.remove(t):1===e.type&&2===s.type?this.Jr=this.Jr.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):tt():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,s)=>{e.push(s)}),e}}class Sc{constructor(e,t,s,a,l,f,v,b){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=v,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,s,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new Sc(e,t,uf.emptySet(t),l,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class KS{constructor(){this.Xr=void 0,this.listeners=[]}}class ZS{constructor(){this.queries=new fg(e=>ky(e),Jp),this.onlineState="Unknown",this.Zr=new Set}}function h_(n,e){return f_.apply(this,arguments)}function f_(){return(f_=(0,be.Z)(function*(n,e){const t=He(n),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new KS),a)try{l.Xr=yield t.onListen(s)}catch(f){const v=cd(f,`Initialization of query '${aw(e.query)}' failed`);return void e.onError(v)}t.queries.set(s,l),l.listeners.push(e),e.eo(t.onlineState),l.Xr&&e.no(l.Xr)&&t0(t)})).apply(this,arguments)}function p_(n,e){return e0.apply(this,arguments)}function e0(){return(e0=(0,be.Z)(function*(n,e){const t=He(n),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)})).apply(this,arguments)}function mD(n,e){const t=He(n);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const v of f.listeners)v.no(a)&&(s=!0);f.Xr=a}}s&&t0(t)}function yD(n,e,t){const s=He(n),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function t0(n){n.Zr.forEach(e=>{e.next()})}class n0{constructor(e,t,s){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Sc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=Sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class _D{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class vD{constructor(e){this.N=e}zn(e){return Fo(this.N,e)}Hn(e){return e.metadata.exists?_w(this.N,e.document,!1):Rn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Jn(e)}}class ED{constructor(e,t,s){this.lo=e,this.localStore=t,this.N=s,this.queries=[],this.documents=[],this.progress=r0(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,s=new vD(this.N);for(const a of e)if(a.metadata.queries){const l=s.zn(a.metadata.name);for(const f of a.metadata.queries){const v=(t.get(f)||tn()).add(l);t.set(f,v)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function(n,e,t,s){return yg.apply(this,arguments)}(e.localStore,new vD(e.N),e.documents,e.lo.id),s=e.wo(e.documents);for(const a of e.queries)yield FS(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",new YI(Object.assign({},e.progress),t)})()}}function r0(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class s0{constructor(e){this.key=e}}class o0{constructor(e){this.key=e}}class wD{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=tn(),this.mutatedKeys=tn(),this.po=pI(e),this.To=new uf(this.po)}get Eo(){return this._o}Io(e,t){const s=t?t.Ao:new d_,a=t?t.To:this.To;let l=t?t.mutatedKeys:this.mutatedKeys,f=a,v=!1;const b=Oy(this.query)&&a.size===this.query.limit?a.last():null,S=Py(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((M,P)=>{const Y=a.get(M),J=Lh(this.query,P)?P:null,xe=!!Y&&this.mutatedKeys.has(Y.key),je=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let Ze=!1;Y&&J?Y.data.isEqual(J.data)?xe!==je&&(s.track({type:3,doc:J}),Ze=!0):this.Ro(Y,J)||(s.track({type:2,doc:J}),Ze=!0,(b&&this.po(J,b)>0||S&&this.po(J,S)<0)&&(v=!0)):!Y&&J?(s.track({type:0,doc:J}),Ze=!0):Y&&!J&&(s.track({type:1,doc:Y}),Ze=!0,(b||S)&&(v=!0)),Ze&&(J?(f=f.add(J),l=je?l.add(M):l.delete(M)):(f=f.delete(M),l=l.delete(M)))}),Oy(this.query)||Py(this.query))for(;f.size>this.query.limit;){const M=Oy(this.query)?f.last():f.first();f=f.delete(M.key),l=l.delete(M.key),s.track({type:1,doc:M})}return{To:f,Ao:s,Ln:v,mutatedKeys:l}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const l=e.Ao.Yr();l.sort((S,M)=>function(P,Y){const J=xe=>{switch(xe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return J(P)-J(Y)}(S.type,M.type)||this.po(S.doc,M.doc)),this.bo(s);const f=t?this.Po():[],v=0===this.yo.size&&this.current?1:0,b=v!==this.mo;return this.mo=v,0!==l.length||b?{snapshot:new Sc(this.query,e.To,a,l,e.mutatedKeys,0===v,b,!1),vo:f}:{vo:f}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new d_,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(t=>this._o=this._o.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this._o=this._o.delete(t)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=tn(),this.To.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const t=[];return e.forEach(s=>{this.yo.has(s)||t.push(new o0(s))}),this.yo.forEach(s=>{e.has(s)||t.push(new s0(s))}),t}So(e){this._o=e.Gn,this.yo=tn();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Sc.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class YS{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class QS{constructor(e){this.key=e,this.Co=!1}}class bD{constructor(e,t,s,a,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.No={},this.xo=new fg(v=>ky(v),Jp),this.ko=new Map,this.$o=new Set,this.Oo=new Un(nt.comparator),this.Fo=new Map,this.Mo=new Vw,this.Lo={},this.Bo=new Map,this.Uo=bc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function jR(n,e){return CD.apply(this,arguments)}function CD(){return(CD=(0,be.Z)(function*(n,e){const t=UD(n);let s,a;const l=t.xo.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.Do();else{const f=yield Xh(t.localStore,Zi(e)),v=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield ID(t,e,s,"current"===v),t.isPrimaryClient&&r_(t.remoteStore,f)}return a})).apply(this,arguments)}function ID(n,e,t,s){return DD.apply(this,arguments)}function DD(){return(DD=(0,be.Z)(function*(n,e,t,s){n.Ko=(M,P,Y)=>{return(J=(0,be.Z)(function*(xe,je,Ze,Pt){let nn=je.view.Io(Ze);nn.Ln&&(nn=yield kw(xe.localStore,je.query,!1).then(({documents:pr})=>je.view.Io(pr,nn)));const Mn=Pt&&Pt.targetChanges.get(je.targetId),Ut=je.view.applyChanges(nn,xe.isPrimaryClient,Mn);return c0(xe,je.targetId,Ut.vo),Ut.snapshot}),function(xe,je,Ze,Pt){return J.apply(this,arguments)})(n,M,P,Y);var J};const a=yield kw(n.localStore,e,!0),l=new wD(e,a.Gn),f=l.Io(a.documents),v=rg.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState),b=l.applyChanges(f,n.isPrimaryClient,v);c0(n,t,b.vo);const S=new YS(e,t,l);return n.xo.set(e,S),n.ko.has(t)?n.ko.get(t).push(e):n.ko.set(t,[e]),b.snapshot})).apply(this,arguments)}function $R(n,e){return TD.apply(this,arguments)}function TD(){return(TD=(0,be.Z)(function*(n,e){const t=He(n),s=t.xo.get(e),a=t.ko.get(s.targetId);if(a.length>1)return t.ko.set(s.targetId,a.filter(l=>!Jp(l,e))),void t.xo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield ef(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),rf(t.remoteStore,s.targetId),Tg(t,s.targetId)}).catch(ad))):(Tg(t,s.targetId),yield ef(t.localStore,s.targetId,!0))})).apply(this,arguments)}function AD(){return(AD=(0,be.Z)(function*(n,e,t){const s=BD(n);try{const a=yield function(l,f){const v=He(l),b=Er.now(),S=f.reduce((P,Y)=>P.add(Y.key),tn());let M;return v.persistence.runTransaction("Locally write mutations","readwrite",P=>v.Qn.Pn(P,S).next(Y=>{M=Y;const J=[];for(const xe of f){const je=fw(xe,M.get(xe.key));null!=je&&J.push(new wc(xe.key,je,tw(je.value.mapValue),hr.exists(!0)))}return v.In.addMutationBatch(P,b,J,f)})).then(P=>(P.applyToLocalDocumentSet(M),{batchId:P.batchId,changes:M}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,f,v){let b=l.Lo[l.currentUser.toKey()];b||(b=new Un(Ot)),b=b.insert(f,v),l.Lo[l.currentUser.toKey()]=b}(s,a.batchId,t),yield xc(s,a.changes),yield sf(s.remoteStore)}catch(a){const l=cd(a,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function JS(n,e){return SD.apply(this,arguments)}function SD(){return(SD=(0,be.Z)(function*(n,e){const t=He(n);try{const s=yield eD(t.localStore,e);e.targetChanges.forEach((a,l)=>{const f=t.Fo.get(l);f&&(ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Co=!0:a.modifiedDocuments.size>0?ft(f.Co):a.removedDocuments.size>0&&(ft(f.Co),f.Co=!1))}),yield xc(t,s,e)}catch(s){yield ad(s)}})).apply(this,arguments)}function XS(n,e,t){const s=He(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.xo.forEach((l,f)=>{const v=f.view.eo(e);v.snapshot&&a.push(v.snapshot)}),function(l,f){const v=He(l);v.onlineState=f;let b=!1;v.queries.forEach((S,M)=>{for(const P of M.listeners)P.eo(f)&&(b=!0)}),b&&t0(v)}(s.eventManager,e),a.length&&s.No.Er(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function GR(n,e,t){return xD.apply(this,arguments)}function xD(){return(xD=(0,be.Z)(function*(n,e,t){const s=He(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Fo.get(e),l=a&&a.key;if(l){let f=new Un(nt.comparator);f=f.insert(l,Rn.newNoDocument(l,Ct.min()));const v=tn().add(l),b=new ng(Ct.min(),new Map,new Dn(Ot),f,v);yield JS(s,b),s.Oo=s.Oo.remove(l),s.Fo.delete(e),l0(s)}else yield ef(s.localStore,e,!1).then(()=>Tg(s,e,t)).catch(ad)})).apply(this,arguments)}function qR(n,e){return RD.apply(this,arguments)}function RD(){return(RD=(0,be.Z)(function*(n,e){const t=He(n),s=e.batch.batchId;try{const a=yield PS(t.localStore,e);MD(t,s,null),u0(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield xc(t,a)}catch(a){yield ad(a)}})).apply(this,arguments)}function WR(n,e,t){return ND.apply(this,arguments)}function ND(){return(ND=(0,be.Z)(function*(n,e,t){const s=He(n);try{const a=yield function(l,f){const v=He(l);return v.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let S;return v.In.lookupMutationBatch(b,f).next(M=>(ft(null!==M),S=M.keys(),v.In.removeMutationBatch(b,M))).next(()=>v.In.performConsistencyCheck(b)).next(()=>v.Qn.Pn(b,S))})}(s.localStore,e);MD(s,e,t),u0(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield xc(s,a)}catch(a){yield ad(a)}})).apply(this,arguments)}function a0(){return(a0=(0,be.Z)(function*(n,e){const t=He(n);Iu(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(l){const f=He(l);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>f.In.getHighestUnacknowledgedBatchId(v))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Bo.get(s)||[];a.push(e),t.Bo.set(s,a)}catch(s){const a=cd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function u0(n,e){(n.Bo.get(e)||[]).forEach(t=>{t.resolve()}),n.Bo.delete(e)}function MD(n,e,t){const s=He(n);let a=s.Lo[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Lo[s.currentUser.toKey()]=a}}function Tg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.ko.get(e))n.xo.delete(s),t&&n.No.jo(s,t);n.ko.delete(e),n.isPrimaryClient&&n.Mo.cs(e).forEach(s=>{n.Mo.containsKey(s)||tx(n,s)})}function tx(n,e){n.$o.delete(e.path.canonicalString());const t=n.Oo.get(e);null!==t&&(rf(n.remoteStore,t),n.Oo=n.Oo.remove(e),n.Fo.delete(t),l0(n))}function c0(n,e,t){for(const s of t)s instanceof s0?(n.Mo.addReference(s.key,e),nx(n,s)):s instanceof o0?(Ve("SyncEngine","Document no longer in limbo: "+s.key),n.Mo.removeReference(s.key,e),n.Mo.containsKey(s.key)||tx(n,s.key)):tt()}function nx(n,e){const t=e.key,s=t.path.canonicalString();n.Oo.get(t)||n.$o.has(s)||(Ve("SyncEngine","New document in limbo: "+t),n.$o.add(s),l0(n))}function l0(n){for(;n.$o.size>0&&n.Oo.size<n.maxConcurrentLimboResolutions;){const e=n.$o.values().next().value;n.$o.delete(e);const t=new nt(Kt.fromString(e)),s=n.Uo.next();n.Fo.set(s,new QS(t)),n.Oo=n.Oo.insert(t,s),r_(n.remoteStore,new od(Zi(Yl(t.path)),s,2,Ds.T))}}function xc(n,e,t){return OD.apply(this,arguments)}function OD(){return(OD=(0,be.Z)(function*(n,e,t){const s=He(n),a=[],l=[],f=[];var v;s.xo.isEmpty()||(s.xo.forEach((v,b)=>{f.push(s.Ko(b,e,t).then(S=>{if(S){s.isPrimaryClient&&s.sharedClientState.updateQueryState(b.targetId,S.fromCache?"not-current":"current"),a.push(S);const M=mg.kn(b.targetId,S);l.push(M)}}))}),yield Promise.all(f),s.No.Er(a),yield(v=(0,be.Z)(function*(b,S){const M=He(b);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>Me.forEach(S,Y=>Me.forEach(Y.Nn,J=>M.persistence.referenceDelegate.addReference(P,Y.targetId,J)).next(()=>Me.forEach(Y.xn,J=>M.persistence.referenceDelegate.removeReference(P,Y.targetId,J)))))}catch(P){if(!Kh(P))throw P;Ve("LocalStore","Failed to update sequence numbers: "+P)}for(const P of S){const Y=P.targetId;if(!P.fromCache){const J=M.Un.get(Y),je=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);M.Un=M.Un.insert(Y,je)}}}),function(b,S){return v.apply(this,arguments)})(s.localStore,l))})).apply(this,arguments)}function zR(n,e){return PD.apply(this,arguments)}function PD(){return(PD=(0,be.Z)(function*(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const s=yield Ow(t.localStore,e);t.currentUser=e,(a=t).Bo.forEach(f=>{f.forEach(v=>{v.reject(new Oe(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Bo.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield xc(t,s.Wn)}var a})).apply(this,arguments)}function rx(n,e){const t=He(n),s=t.Fo.get(e);if(s&&s.Co)return tn().add(s.key);{let a=tn();const l=t.ko.get(e);if(!l)return a;for(const f of l){const v=t.xo.get(f);a=a.unionWith(v.view.Eo)}return a}}function KR(n,e){return d0.apply(this,arguments)}function d0(){return(d0=(0,be.Z)(function*(n,e){const t=He(n),s=yield kw(t.localStore,e.query,!0),a=e.view.So(s);return t.isPrimaryClient&&c0(t,e.targetId,a.vo),a})).apply(this,arguments)}function h0(n){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,be.Z)(function*(n){const e=He(n);return nD(e.localStore).then(t=>xc(e,t))})).apply(this,arguments)}function kD(n,e,t,s){return f0.apply(this,arguments)}function f0(){return(f0=(0,be.Z)(function*(n,e,t,s){const a=He(n),l=yield function(f,v){const b=He(f),S=He(b.In);return b.persistence.runTransaction("Lookup mutation documents","readonly",M=>S.Xt(M,v).next(P=>P?b.Qn.Pn(M,P):Me.resolve(null)))}(a.localStore,e);var v;null!==l?("pending"===t?yield sf(a.remoteStore):"acknowledged"===t||"rejected"===t?(MD(a,e,s||null),u0(a,e),v=e,He(He(a.localStore).In).te(v)):tt(),yield xc(a,l)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Ag(){return(Ag=(0,be.Z)(function*(n,e){const t=He(n);if(UD(t),BD(t),!0===e&&!0!==t.qo){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield p0(t,s.toArray());t.qo=!0,yield gD(t.remoteStore,!0);for(const l of a)r_(t.remoteStore,l)}else if(!1===e&&!1!==t.qo){const s=[];let a=Promise.resolve();t.ko.forEach((l,f)=>{t.sharedClientState.isLocalQueryTarget(f)?s.push(f):a=a.then(()=>(Tg(t,f),ef(t.localStore,f,!0))),rf(t.remoteStore,f)}),yield a,yield p0(t,s),function(l){const f=He(l);f.Fo.forEach((v,b)=>{rf(f.remoteStore,b)}),f.Mo.us(),f.Fo=new Map,f.Oo=new Un(nt.comparator)}(t),t.qo=!1,yield gD(t.remoteStore,!1)}})).apply(this,arguments)}function p0(n,e,t){return g_.apply(this,arguments)}function g_(){return(g_=(0,be.Z)(function*(n,e,t){const s=He(n),a=[],l=[];for(const f of e){let v;const b=s.ko.get(f);if(b&&0!==b.length){v=yield Xh(s.localStore,Zi(b[0]));for(const S of b){const M=s.xo.get(S),P=yield KR(s,M);P.snapshot&&l.push(P.snapshot)}}else{const S=yield Fw(s.localStore,f);v=yield Xh(s.localStore,S),yield ID(s,g0(S),f,!1)}a.push(v)}return s.No.Er(l),a})).apply(this,arguments)}function g0(n){return hI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ZR(n){const e=He(n);return He(He(e.localStore).persistence).pn()}function FD(n,e,t,s){return cf.apply(this,arguments)}function cf(){return(cf=(0,be.Z)(function*(n,e,t,s){const a=He(n);if(a.qo)Ve("SyncEngine","Ignoring unexpected query state notification.");else if(a.ko.has(e))switch(t){case"current":case"not-current":{const l=yield nD(a.localStore),f=ng.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield xc(a,l,f);break}case"rejected":yield ef(a.localStore,e,!0),Tg(a,e,s);break;default:tt()}})).apply(this,arguments)}function LD(n,e,t){return VD.apply(this,arguments)}function VD(){return(VD=(0,be.Z)(function*(n,e,t){const s=UD(n);if(s.qo){for(const a of e){if(s.ko.has(a)){Ve("SyncEngine","Adding an already active target "+a);continue}const l=yield Fw(s.localStore,a),f=yield Xh(s.localStore,l);yield ID(s,g0(l),f.targetId,!1),r_(s.remoteStore,f)}for(const a of t)s.ko.has(a)&&(yield ef(s.localStore,a,!1).then(()=>{rf(s.remoteStore,a),Tg(s,a)}).catch(ad))}})).apply(this,arguments)}function UD(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GR.bind(null,e),e.No.Er=mD.bind(null,e.eventManager),e.No.jo=yD.bind(null,e.eventManager),e}function BD(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WR.bind(null,e),e}class ox{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.N=Tc(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return Mw(this.persistence,new QI,e.initialUser,this.N)}Go(e){return new jS(Xy.Ns,this.N)}Wo(e){return new iD}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Sg extends ox{constructor(e,t,s){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield t().call(s,e),yield function(n){return Jy.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,e),yield BD(s.Jo.syncEngine),yield sf(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(e){return Mw(this.persistence,new QI,e.initialUser,this.N)}zo(e){return new zI(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=Fr(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Qi.withCacheSize(this.cacheSizeBytes):Qi.DEFAULT;return new pg(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Bo(),n_(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new iD}}class ax extends Sg{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield t().call(s,e);const a=s.Jo.syncEngine;s.sharedClientState instanceof Hw&&(s.sharedClientState.syncEngine={_i:kD.bind(null,a),mi:FD.bind(null,a),gi:LD.bind(null,a),pn:ZR.bind(null,a),wi:h0.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var l=(0,be.Z)(function*(f){yield function(n,e){return Ag.apply(this,arguments)}(s.Jo.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):f||s.gcScheduler.stop())});return function(f){return l.apply(this,arguments)}}())})()}Wo(e){const t=Bo();if(!Hw.bt(t))throw new Oe(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Fr(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hw(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class jD{initialize(e,t){var s=this;return(0,be.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>XS(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=zR.bind(null,s.syncEngine),yield gD(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ZS}createDatastore(e){const t=Tc(e.databaseInfo.databaseId),s=new Gw(e.databaseInfo);return new zw(e.credentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=v=>XS(this.syncEngine,v,0),f=tf.bt()?new tf:new $S,new Kw(t,s,a,l,f);var t,s,a,l,f}createSyncEngine(e,t){return function(s,a,l,f,v,b,S){const M=new bD(s,a,l,f,v,b);return S&&(M.qo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const s=He(t);Ve("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield nf(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ux(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class lf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cx{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new Or,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,be.Z)(function*(){const t=yield e.na();if(null===t)return null;const s=e.ta.decode(t),a=Number(s);isNaN(a)&&e.sa(`length string (${s}) is not valid number`);const l=yield e.ia(a);return new _D(JSON.parse(l),t.length+a)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,be.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}ia(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const s=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,be.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class YR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,be.Z)(function*(l,f){const v=He(l),b=Hh(v.N)+"/documents",S={documents:f.map(J=>$h(v.N,J))},M=yield v.Ki("BatchGetDocuments",b,S),P=new Map;M.forEach(J=>{const xe=function(n,e){return"found"in e?function(t,s){ft(!!s.found);const a=Fo(t,s.found.name),l=Jn(s.found.updateTime),f=new yi({mapValue:{fields:s.found.fields}});return Rn.newFoundDocument(a,l,f)}(n,e):"missing"in e?function(t,s){ft(!!s.missing),ft(!!s.readTime);const a=Fo(t,s.missing),l=Jn(s.readTime);return Rn.newNoDocument(a,l)}(n,e):tt()}(v.N,J);P.set(xe.key.toString(),xe)});const Y=[];return f.forEach(J=>{const xe=P.get(J.toString());ft(!!xe),Y.push(xe)}),Y}),function(l,f){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Xp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const l=nt.fromPath(a);e.mutations.push(new $y(l,e.precondition(l)))}),yield(s=(0,be.Z)(function*(a,l){const f=He(a),v=Hh(f.N)+"/documents",b={writes:l.map(S=>nd(f.N,S))};yield f.Li("Commit",v,b)}),function(a,l){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tt();t=Ct.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Oe(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?hr.updateTime(t):hr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ct.min()))throw new Oe(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hr.updateTime(t)}return hr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class QR{constructor(e,t,s,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=s,this.deferred=a,this.aa=5,this.rr=new qw(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,be.Z)(function*(){const t=new YR(e.datastore),s=e.ua(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.ha(l)}))}).catch(a=>{e.ha(a)})}))}ua(e){try{const t=this.updateFunction(e);return!Oh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!vI(t)}return!1}}class lx{constructor(e,t,s){var a=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=s,this.user=Mr.UNAUTHENTICATED,this.clientId=sI.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var l=(0,be.Z)(function*(f){Ve("FirestoreClient","Received user=",f.uid),yield a.credentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(s){const a=cd(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function dx(n,e){return m_.apply(this,arguments)}function m_(){return(m_=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,be.Z)(function*(l){s.isEqual(l)||(yield Ow(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function $D(n,e){return HD.apply(this,arguments)}function HD(){return(HD=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield GD(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(a=>{return(l=(0,be.Z)(function*(f,v){const b=He(f);b.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const S=Iu(b);b.Kr.add(3),yield nf(b),S&&b.Wr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(v),b.Kr.delete(3),yield ud(b)}),function(f,v){return l.apply(this,arguments)})(e.remoteStore,a);var l}),n.onlineComponents=e})).apply(this,arguments)}function GD(n){return m0.apply(this,arguments)}function m0(){return(m0=(0,be.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield dx(n,new ox)),n.offlineComponents})).apply(this,arguments)}function Nc(n){return y0.apply(this,arguments)}function y0(){return(y0=(0,be.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield $D(n,new jD)),n.onlineComponents})).apply(this,arguments)}function qD(n){return GD(n).then(e=>e.persistence)}function _0(n){return GD(n).then(e=>e.localStore)}function y_(n){return Nc(n).then(e=>e.remoteStore)}function v0(n){return Nc(n).then(e=>e.syncEngine)}function Ur(n){return E0.apply(this,arguments)}function E0(){return(E0=(0,be.Z)(function*(n){const e=yield Nc(n),t=e.eventManager;return t.onListen=jR.bind(null,e.syncEngine),t.onUnlisten=$R.bind(null,e.syncEngine),t})).apply(this,arguments)}function __(n,e,t={}){const s=new Or;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(a,l,f,v,b){const S=new lf({next:P=>{l.enqueueAndForget(()=>p_(a,M));const Y=P.docs.has(f);!Y&&P.fromCache?b.reject(new Oe(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&P.fromCache&&v&&"server"===v.source?b.reject(new Oe(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(P)},error:P=>b.reject(P)}),M=new n0(Yl(f.path),S,{includeMetadataChanges:!0,uo:!0});return h_(a,M)}(yield Ur(n),n.asyncQueue,e,t,s)})),s.promise}function b0(n,e,t={}){const s=new Or;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(a,l,f,v,b){const S=new lf({next:P=>{l.enqueueAndForget(()=>p_(a,M)),P.fromCache&&"server"===v.source?b.reject(new Oe(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(P)},error:P=>b.reject(P)}),M=new n0(f,S,{includeMetadataChanges:!0,uo:!0});return h_(a,M)}(yield Ur(n),n.asyncQueue,e,t,s)})),s.promise}class mx{constructor(e,t,s,a,l,f,v,b){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=v,this.useFetchStreams=b}}class Mc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mc&&e.projectId===this.projectId&&e.database===this.database}}const C0=new Map;function v_(n,e,t){if(!t)throw new Oe(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function E_(n,e,t,s){if(!0===e&&!0===s)throw new Oe(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ZD(n){if(!nt.isDocumentKey(n))throw new Oe(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Xs(n){if(nt.isDocumentKey(n))throw new Oe(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function w_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":tt()}function qt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=w_(n);throw new Oe(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function YD(n,e){if(e<=0)throw new Oe(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class yx{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,E_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xg{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yx({}),this._settingsFrozen=!1,e instanceof Mc?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Oe(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mc(s.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yx(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new nI;switch(t.type){case"gapi":const s=t.client;return ft(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new YA(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(ye.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=C0.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),C0.delete(e),t.terminate())}(this),Promise.resolve()}}class Tn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Oi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class Aa extends Oi{constructor(e,t,s){super(e,t,Yl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new nt(e))}withConverter(e){return new Aa(this.firestore,e,this._path)}}function I0(n,e,...t){if(n=(0,Nt.m9)(n),v_("collection","path",e),n instanceof xg){const s=Kt.fromString(e,...t);return Xs(s),new Aa(n,null,s)}{if(!(n instanceof Tn||n instanceof Aa))throw new Oe(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Kt.fromString(e,...t));return Xs(s),new Aa(n.firestore,null,s)}}function b_(n,e,...t){if(n=(0,Nt.m9)(n),1===arguments.length&&(e=sI.I()),v_("doc","path",e),n instanceof xg){const s=Kt.fromString(e,...t);return ZD(s),new Tn(n,null,new nt(s))}{if(!(n instanceof Tn||n instanceof Aa))throw new Oe(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Kt.fromString(e,...t));return ZD(s),new Tn(n.firestore,n instanceof Aa?n.converter:null,new nt(s))}}function D0(n,e){return n=(0,Nt.m9)(n),e=(0,Nt.m9)(e),(n instanceof Tn||n instanceof Aa)&&(e instanceof Tn||e instanceof Aa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function QD(n,e){return n=(0,Nt.m9)(n),e=(0,Nt.m9)(e),n instanceof Oi&&e instanceof Oi&&n.firestore===e.firestore&&Jp(n._query,e._query)&&n.converter===e.converter}class JR{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new qw(this,"async_queue_retry"),this.Ta=()=>{const t=n_();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.rr.tr()};const e=n_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=n_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const t=new Or;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,be.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!Kh(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(s=>{throw this.ma=s,this.ga=!1,lr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=t,t}enqueueAfterDelay(e,t,s){this.Ea(),this.pa.indexOf(e)>-1&&(t=0);const a=af.createAndSchedule(this,e,t,s,l=>this.Ra(l));return this._a.push(a),a}Ea(){this.ma&&tt()}verifyOperationInProgress(){}ba(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function C_(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class JD{constructor(){this._progressObserver={},this._taskCompletionResolver=new Or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Bn extends xg{constructor(e,t){super(e,t),this.type="firestore",this._queue=new JR,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||T0(this),this._firestoreClient.terminate()}}function er(n){return n._firestoreClient||T0(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function T0(n){var e;const t=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new mx(n._databaseId,l,n._persistenceKey,(v=t).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var l,v;n._firestoreClient=new lx(n._credentials,n._queue,s)}function Ix(n,e,t){const s=new Or;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield dx(n,t),yield $D(n,e),s.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===ye.FAILED_PRECONDITION||l.code===ye.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),s.reject(a)}var l})).then(()=>s.promise)}function tT(n){if(n._initialized||n._terminated)throw new Oe(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Sa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tu(wr.fromBase64String(e))}catch(t){throw new Oe(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tu(wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ld{constructor(e){this._methodName=e}}class df{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}const Br=/^__.*__$/;class nN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new wc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bh(e,this.data,t,this.fieldTransforms)}}class A0{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new wc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function S0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class D_{constructor(e,t,s,a,l,f){this.settings=e,this.databaseId=t,this.N=s,this.ignoreUndefinedProperties=a,void 0===l&&this.Sa(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new D_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:s,xa:!1});return a.ka(e),a}$a(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:s,xa:!1});return a.Sa(),a}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return R_(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(S0(this.Da)&&Br.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class T_{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=s||Tc(e)}Ba(e,t,s,a=!1){return new D_({Da:e,methodName:t,La:s,path:ti.emptyPath(),xa:!1,Ma:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function dd(n){const e=n._freezeSettings(),t=Tc(n._databaseId);return new T_(n._databaseId,!!e.ignoreUndefinedProperties,t)}function A_(n,e,t,s,a,l={}){const f=n.Ba(l.merge||l.mergeFields?2:0,e,t,a);M0("Data must be an object, but it was:",f,s);const v=Ir(s,f);let b,S;if(l.merge)b=new Wl(f.fieldMask),S=f.fieldTransforms;else if(l.mergeFields){const M=[];for(const P of l.mergeFields){const Y=O0(e,P,t);if(!f.contains(Y))throw new Oe(ye.INVALID_ARGUMENT,`Field '${Y}' is specified in your field mask but missing from your input data.`);xx(M,Y)||M.push(Y)}b=new Wl(M),S=f.fieldTransforms.filter(P=>b.covers(P.field))}else b=null,S=f.fieldTransforms;return new nN(new yi(v),b,S)}class hf extends ld{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hf}}function Oc(n,e,t){return new D_({Da:3,La:e.settings.La,methodName:n._methodName,xa:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class S_ extends ld{_toFieldTransform(e){return new Vy(e.path,new vu)}isEqual(e){return e instanceof S_}}class x0 extends ld{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Oc(this,e,!0),s=this.Ua.map(l=>Pc(l,t)),a=new Jl(s);return new Vy(e.path,a)}isEqual(e){return this===e}}class R0 extends ld{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Oc(this,e,!0),s=this.Ua.map(l=>Pc(l,t)),a=new ed(s);return new Vy(e.path,a)}isEqual(e){return this===e}}class Ax extends ld{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new Uh(e.N,cS(e.N,this.qa));return new Vy(e.path,t)}isEqual(e){return this===e}}function ff(n,e,t,s){const a=n.Ba(1,e,t);M0("Data must be an object, but it was:",a,s);const l=[],f=yi.empty();ql(s,(b,S)=>{const M=pf(e,b,t);S=(0,Nt.m9)(S);const P=a.$a(M);if(S instanceof hf)l.push(M);else{const Y=Pc(S,P);null!=Y&&(l.push(M),f.set(M,Y))}});const v=new Wl(l);return new A0(f,v,a.fieldTransforms)}function N0(n,e,t,s,a,l){const f=n.Ba(1,e,t),v=[O0(e,s,t)],b=[a];if(l.length%2!=0)throw new Oe(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Y=0;Y<l.length;Y+=2)v.push(O0(e,l[Y])),b.push(l[Y+1]);const S=[],M=yi.empty();for(let Y=v.length-1;Y>=0;--Y)if(!xx(S,v[Y])){const J=v[Y];let xe=b[Y];xe=(0,Nt.m9)(xe);const je=f.$a(J);if(xe instanceof hf)S.push(J);else{const Ze=Pc(xe,je);null!=Ze&&(S.push(J),M.set(J,Ze))}}const P=new Wl(S);return new A0(M,P,f.fieldTransforms)}function x_(n,e,t,s=!1){return Pc(t,n.Ba(s?4:3,e))}function Pc(n,e){if(Sx(n=(0,Nt.m9)(n)))return M0("Unsupported field value:",e,n),Ir(n,e);if(n instanceof ld)return function(t,s){if(!S0(s.Da))throw s.Fa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(t,s){const a=[];let l=0;for(const f of t){let v=Pc(f,s.Oa(l));null==v&&(v={nullValue:"NULL_VALUE"}),a.push(v),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,s){if(null===(t=(0,Nt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return cS(s.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Er.fromDate(t);return{timestampValue:ig(s.N,a)}}if(t instanceof Er){const a=new Er(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ig(s.N,a)}}if(t instanceof df)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tu)return{bytesValue:ES(s.N,t._byteString)};if(t instanceof Tn){const a=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw s.Fa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:mw(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.Fa(`Unsupported field value: ${w_(t)}`)}(n,e)}function Ir(n,e){const t={};return Nh(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ql(n,(s,a)=>{const l=Pc(a,e.Na(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function Sx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Er||n instanceof df||n instanceof Tu||n instanceof Tn||n instanceof ld)}function M0(n,e,t){if(!Sx(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=w_(t);throw e.Fa("an object"===s?n+" a custom object":n+" "+s)}var s}function O0(n,e,t){if((e=(0,Nt.m9)(e))instanceof Sa)return e._internalPath;if("string"==typeof e)return pf(n,e);throw R_("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const rN=new RegExp("[~\\*/\\[\\]]");function pf(n,e,t){if(e.search(rN)>=0)throw R_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sa(...e.split("."))._internalPath}catch(s){throw R_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function R_(n,e,t,s,a){const l=s&&!s.isEmpty(),f=void 0!==a;let v=`Function ${e}() called with invalid data`;t&&(v+=" (via `toFirestore()`)"),v+=". ";let b="";return(l||f)&&(b+=" (found",l&&(b+=` in field ${s}`),f&&(b+=` in document ${a}`),b+=")"),new Oe(ye.INVALID_ARGUMENT,v+n+b)}function xx(n,e){return n.some(t=>t.isEqual(e))}class N_{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(M_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class iN extends N_{data(){return super.data()}}function M_(n,e){return"string"==typeof e?pf(n,e):e instanceof Sa?e._internalPath:e._delegate._internalPath}class hd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Au extends N_{constructor(e,t,s,a,l,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(M_("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Rg extends Au{data(e={}){return super.data(e)}}class kc{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new hd(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Rg(this._firestore,this._userDataWriter,s.key,s,new hd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Rg(s._firestore,s._userDataWriter,f.doc.key,f.doc,new hd(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const v=new Rg(s._firestore,s._userDataWriter,f.doc.key,f.doc,new hd(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let b=-1,S=-1;return 0!==f.type&&(b=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),S=l.indexOf(f.doc.key)),{type:sN(f.type),doc:v,oldIndex:b,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function nT(n,e){return n instanceof Au&&e instanceof Au?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof kc&&e instanceof kc&&n._firestore===e._firestore&&QD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function rT(n){if(Py(n)&&0===n.explicitOrderBy.length)throw new Oe(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}function fd(n,...e){for(const t of e)n=t._apply(n);return n}class oN extends Ng{constructor(e,t,s){super(),this.Ka=e,this.ja=t,this.Qa=s,this.type="where"}_apply(e){const t=dd(e.firestore),s=function(a,l,f,v,b,S,M){let P;if(b.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Oe(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){gf(M,S);const J=[];for(const xe of M)J.push(uT(v,a,xe));P={arrayValue:{values:J}}}else P=uT(v,a,M)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||gf(M,S),P=x_(f,"where",M,"in"===S||"not-in"===S);const Y=Ni.create(b,S,P);return function(J,xe){if(xe.v()){const Ze=Yp(J);if(null!==Ze&&!Ze.isEqual(xe.field))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ze.toString()}' and '${xe.field.toString()}'`);const Pt=ow(J);null!==Pt&&P0(0,xe.field,Pt)}const je=function(Ze,Pt){for(const nn of Ze.filters)if(Pt.indexOf(nn.op)>=0)return nn.op;return null}(J,function(Ze){switch(Ze){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(xe.op));if(null!==je)throw new Oe(ye.INVALID_ARGUMENT,je===xe.op?`Invalid query. You cannot use more than one '${xe.op.toString()}' filter.`:`Invalid query. You cannot use '${xe.op.toString()}' filters with '${je.toString()}' filters.`)}(a,Y),Y}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Oi(e.firestore,e.converter,function(a,l){const f=a.filters.concat([l]);return new _u(a.path,a.collectionGroup,a.explicitOrderBy.slice(),f,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class Nx extends Ng{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(s,a,l){if(null!==s.startAt)throw new Oe(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Oe(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Fh(a,l);return function(v,b){if(null===ow(v)){const S=Yp(v);null!==S&&P0(0,S,b.field)}}(s,f),f}(e._query,this.Ka,this.Wa);return new Oi(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new _u(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class iT extends Ng{constructor(e,t,s){super(),this.type=e,this.Ga=t,this.za=s}_apply(e){return new Oi(e.firestore,e.converter,fI(e._query,this.Ga,this.za))}}class sT extends Ng{constructor(e,t,s){super(),this.type=e,this.Ha=t,this.Ja=s}_apply(e){const t=aT(e,this.type,this.Ha,this.Ja);return new Oi(e.firestore,e.converter,(a=t,new _u((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class oT extends Ng{constructor(e,t,s){super(),this.type=e,this.Ha=t,this.Ja=s}_apply(e){const t=aT(e,this.type,this.Ha,this.Ja);return new Oi(e.firestore,e.converter,(a=t,new _u((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function aT(n,e,t,s){if(t[0]=(0,Nt.m9)(t[0]),t[0]instanceof N_)return function(a,l,f,v,b){if(!v)throw new Oe(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const S=[];for(const M of Ql(a))if(M.field.isKeyField())S.push(xy(l,v.key));else{const P=v.data.field(M.field);if(aI(P))throw new Oe(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const Y=M.field.canonicalString();throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Y}' (used as the orderBy) does not exist.`)}S.push(P)}return new Zp(S,b)}(n._query,n.firestore._databaseId,e,t[0]._document,s);{const a=dd(n.firestore);return function(l,f,v,b,S,M){const P=l.explicitOrderBy;if(S.length>P.length)throw new Oe(ye.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Y=[];for(let J=0;J<S.length;J++){const xe=S[J];if(P[J].field.isKeyField()){if("string"!=typeof xe)throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof xe}`);if(!Qp(l)&&-1!==xe.indexOf("/"))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${b}() must be a plain document ID, but '${xe}' contains a slash.`);const je=l.path.child(Kt.fromString(xe));if(!nt.isDocumentKey(je))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${b}() must result in a valid document path, but '${je}' is not because it contains an odd number of segments.`);const Ze=new nt(je);Y.push(xy(f,Ze))}else{const je=x_(v,b,xe);Y.push(je)}}return new Zp(Y,M)}(n._query,n.firestore._databaseId,a,e,t,s)}}function uT(n,e,t){if("string"==typeof(t=(0,Nt.m9)(t))){if(""===t)throw new Oe(ye.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qp(e)&&-1!==t.indexOf("/"))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Kt.fromString(t));if(!nt.isDocumentKey(s))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xy(n,new nt(s))}if(t instanceof Tn)return xy(n,t._key);throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${w_(t)}.`)}function gf(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(ye.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function P0(n,e,t){if(!t.isEqual(e))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class cT{convertValue(e,t="none"){switch(zl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tt()}}convertObject(e,t){const s={};return ql(e.fields,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new df(dr(e.latitude),dr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=XA(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Sy(e));default:return null}}convertTimestamp(e){const t=mu(e);return new Er(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Kt.fromString(e);ft(MI(s));const a=new Mc(s.get(1),s.get(3)),l=new nt(s.popFirst(5));return a.isEqual(t)||lr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function O_(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class uN extends cT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,t)}}class Lx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=dd(e)}set(e,t,s){this._verifyNotCommitted();const a=pd(e,this._firestore),l=O_(a.converter,t,s),f=A_(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(f.toMutation(a._key,hr.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const l=pd(e,this._firestore);let f;return f="string"==typeof(t=(0,Nt.m9)(t))||t instanceof Sa?N0(this._dataReader,"WriteBatch.update",l._key,t,s,a):ff(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(f.toMutation(l._key,hr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pd(e,this._firestore);return this._mutations=this._mutations.concat(new Xp(t._key,hr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pd(n,e){if((n=(0,Nt.m9)(n)).firestore!==e)throw new Oe(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class gd extends cT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,t)}}function lT(n,e,t){n=qt(n,Tn);const s=qt(n.firestore,Bn),a=O_(n.converter,e,t);return md(s,[A_(dd(s),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,hr.none())])}function eo(n,e,t,...s){n=qt(n,Tn);const a=qt(n.firestore,Bn),l=dd(a);let f;return f="string"==typeof(e=(0,Nt.m9)(e))||e instanceof Sa?N0(l,"updateDoc",n._key,e,t,s):ff(l,"updateDoc",n._key,e),md(a,[f.toMutation(n._key,hr.exists(!0))])}function hT(n,...e){var t,s,a;n=(0,Nt.m9)(n);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||C_(e[f])||(l=e[f],f++);const v={includeMetadataChanges:l.includeMetadataChanges};if(C_(e[f])){const P=e[f];e[f]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[f+1]=null===(s=P.error)||void 0===s?void 0:s.bind(P),e[f+2]=null===(a=P.complete)||void 0===a?void 0:a.bind(P)}let b,S,M;if(n instanceof Tn)S=qt(n.firestore,Bn),M=Yl(n._key.path),b={next:P=>{e[f]&&e[f](P_(S,n,P))},error:e[f+1],complete:e[f+2]};else{const P=qt(n,Oi);S=qt(P.firestore,Bn),M=P._query;const Y=new gd(S);b={next:J=>{e[f]&&e[f](new kc(S,Y,P,J))},error:e[f+1],complete:e[f+2]},rT(n._query)}return function(P,Y,J,xe){const je=new lf(xe),Ze=new n0(Y,je,J);return P.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return h_(yield Ur(P),Ze)})),()=>{je.Xo(),P.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return p_(yield Ur(P),Ze)}))}}(er(S),M,v,b)}function md(n,e){return function(t,s){const a=new Or;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(n,e,t){return AD.apply(this,arguments)}(yield v0(t),s,a)})),a.promise}(er(n),e)}function P_(n,e,t){const s=t.docs.get(e._key),a=new gd(n);return new Au(n,a,e._key,s,new hd(t.hasPendingWrites,t.fromCache),e.converter)}class F0 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=dd(e)}get(e){const t=pd(e,this._firestore),s=new uN(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return tt();const l=a[0];if(l.isFoundDocument())return new N_(this._firestore,s,l.key,l,t.converter);if(l.isNoDocument())return new N_(this._firestore,s,t._key,null,t.converter);throw tt()})}set(e,t,s){const a=pd(e,this._firestore),l=O_(a.converter,t,s),f=A_(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,f),this}update(e,t,s,...a){const l=pd(e,this._firestore);let f;return f="string"==typeof(t=(0,Nt.m9)(t))||t instanceof Sa?N0(this._dataReader,"Transaction.update",l._key,t,s,a):ff(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,f),this}delete(e){const t=pd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pd(e,this._firestore),s=new gd(this._firestore);return super.get(e).then(a=>new Au(this._firestore,s,t._key,a._document,new hd(!1,!1),t.converter))}}function U0(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function yT(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function L_(){if("undefined"==typeof atob)throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(n){Hl=n})(fc.SDK_VERSION),(0,fc._registerComponent)(new Km.wA("firestore",(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),s=new Bn(t,new iI(n.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),s._setSettings(e),s},"PUBLIC")),(0,fc.registerVersion)(zA,"3.1.1",void 0),(0,fc.registerVersion)(zA,"3.1.1","esm2017");class Mg{constructor(e){this._delegate=e}static fromBase64String(e){return L_(),new Mg(Tu.fromBase64String(e))}static fromUint8Array(e){return yT(),new Mg(Tu.fromUint8Array(e))}toBase64(){return L_(),this._delegate.toBase64()}toUint8Array(){return yT(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ri(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const s of["next","error","complete"])if(s in t&&"function"==typeof t[s])return!0;return!1}(n)}class V_{enableIndexedDbPersistence(e,t){return function(n,e){tT(n=qt(n,Bn));const t=er(n),s=n._freezeSettings(),a=new jD;return Ix(t,a,new Sg(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){tT(n=qt(n,Bn));const e=er(n),t=n._freezeSettings(),s=new jD;return Ix(e,s,new ax(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Oe(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Or;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(s){if(!Uo.bt())return Promise.resolve();const a=s+"main";yield Uo.delete(a)}),function(s){return t.apply(this,arguments)})(Fr(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class B0{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ec("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function(n,e,t,s={}){var a;const l=(n=qt(n,xg))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Ec("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let f,v;if("string"==typeof s.mockUserToken)f=s.mockUserToken,v=Mr.MOCK_USER;else{f=(0,Nt.Sg)(s.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new Oe(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Mr(b)}n._credentials=new rI(new YE(f,v))}}(this._delegate,e,t,s)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield qD(n),t=yield y_(n);return e.setNetworkEnabled(!0),function(s){const a=He(s);return a.Kr.delete(0),ud(a)}(t)}))}(er(n=qt(n,Bn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield qD(n),t=yield y_(n);return e.setNetworkEnabled(!1),(s=(0,be.Z)(function*(a){const l=He(a);l.Kr.add(0),yield nf(l),l.Wr.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(er(n=qt(n,Bn)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,E_("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Or;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(n,e){return a0.apply(this,arguments)}(yield v0(e),t)})),t.promise}(er(n=qt(n,Bn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new lf(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield Ur(n),a=t,He(s).Zr.add(a),void a.next();var s,a})),()=>{t.Xo(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield Ur(n),a=t,void He(s).Zr.delete(a);var s,a}))}}(er(n=qt(n,Bn)),C_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Lc(this,I0(this._delegate,e))}catch(t){throw Pi(t,"collection()","Firestore.collection()")}}doc(e){try{return new to(this,b_(this._delegate,e))}catch(t){throw Pi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ki(this,function(n,e){if(n=qt(n,xg),v_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Oi(n,null,(t=e,new _u(Kt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Pi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const s=yield(a=n,Nc(a).then(l=>l.datastore));var a;new QR(n.asyncQueue,s,e,t).run()})),t.promise}(er(n),t=>e(new F0(n,t)))}(this._delegate,t=>e(new $0(this,t)))}batch(){return er(this._delegate),new Pg(new Lx(this._delegate,e=>md(this._delegate,e)))}loadBundle(e){return function(n,e){const t=er(n=qt(n,Bn)),s=new JD;return function(n,e,t,s){const a=function(l,f){let v;return v="string"==typeof l?(new TextEncoder).encode(l):l,b=function(b,S){if(b instanceof Uint8Array)return ux(b,S);if(b instanceof ArrayBuffer)return ux(new Uint8Array(b),S);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new cx(b,f);var b}(t,Tc(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function(n,e,t){const s=He(n);var a;(a=(0,be.Z)(function*(l,f,v){try{const b=yield f.getMetadata();if(yield function(Y,J){const xe=He(Y),je=Jn(J.createTime);return xe.persistence.runTransaction("hasNewerBundle","readonly",Ze=>xe.Je.getBundleMetadata(Ze,J.id)).then(Ze=>!!Ze&&Ze.createTime.compareTo(je)>=0)}(l.localStore,b))return yield f.close(),void v._completeWith((Y=b,{taskState:"Success",documentsLoaded:Y.totalDocuments,bytesLoaded:Y.totalBytes,totalDocuments:Y.totalDocuments,totalBytes:Y.totalBytes}));v._updateProgress(r0(b));const S=new ED(b,l.localStore,f.N);let M=yield f.Qo();for(;M;){const Y=yield S.fo(M);Y&&v._updateProgress(Y),M=yield f.Qo()}const P=yield S.complete();yield xc(l,P.En,void 0),yield function(Y,J){const xe=He(Y);return xe.persistence.runTransaction("Save bundle","readwrite",je=>xe.Je.saveBundleMetadata(je,J))}(l.localStore,b),v._completeWith(P.progress)}catch(b){Ec("SyncEngine",`Loading bundle failed with ${b}`),v._failWith(b)}var Y}),function(l,f,v){return a.apply(this,arguments)})(s,e,t).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield v0(n),a,s)}))}(t,n._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,s){const a=He(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.Je.getNamedQuery(l,s))}(yield _0(n),e)}))}(er(n=qt(n,Bn)),e).then(t=>t?new Oi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ki(this,t):null)}}class yd extends cT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mg(new Tu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return to.forKey(t,this.firestore,null)}}class $0{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new yd(e)}get(e){const t=Ed(e);return this._delegate.get(t).then(s=>new kg(this._firestore,new Au(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=Ed(e);return s?(U0("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=Ed(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=Ed(e);return this._delegate.delete(t),this}}class Pg{constructor(e){this._delegate=e}set(e,t,s){const a=Ed(e);return s?(U0("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=Ed(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=Ed(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class _d{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Rg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Fg(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=_d.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let l=a.get(t);return l||(l=new _d(e,new yd(e),t),a.set(t,l)),l}}_d.INSTANCES=new WeakMap;class to{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yd(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new to(t,new Tn(t._delegate,s,new nt(e)))}static forKey(e,t,s){return new to(t,new Tn(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Lc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Lc(this.firestore,I0(this._delegate,e))}catch(t){throw Pi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Nt.m9)(e))instanceof Tn&&D0(this._delegate,e)}set(e,t){t=U0("DocumentReference.set",t);try{return t?lT(this._delegate,e,t):lT(this._delegate,e)}catch(s){throw Pi(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?eo(this._delegate,e):eo(this._delegate,e,t,...s)}catch(a){throw Pi(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return md(qt(n.firestore,Bn),[new Xp(n._key,hr.none())])}(this._delegate)}onSnapshot(...e){const t=_T(e),s=H0(e,a=>new kg(this.firestore,new Au(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return hT(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=qt(n,Tn);const e=qt(n.firestore,Bn),t=er(e),s=new gd(e);return function(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(a,l,f){try{const v=yield function(b,S){const M=He(b);return M.persistence.runTransaction("read document","readonly",P=>M.Qn.An(P,S))}(a,l);v.isFoundDocument()?f.resolve(v):v.isNoDocument()?f.resolve(null):f.reject(new Oe(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const b=cd(v,`Failed to get document '${l} from cache`);f.reject(b)}}),function(a,l,f){return s.apply(this,arguments)})(yield _0(n),e,t);var s})),t.promise}(t,n._key).then(a=>new Au(e,s,n._key,a,new hd(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=qt(n,Tn);const e=qt(n.firestore,Bn);return __(er(e),n._key,{source:"server"}).then(t=>P_(e,n,t))}(this._delegate):function(n){n=qt(n,Tn);const e=qt(n.firestore,Bn);return __(er(e),n._key).then(t=>P_(e,n,t))}(this._delegate),t.then(s=>new kg(this.firestore,new Au(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new to(this.firestore,this._delegate.withConverter(e?_d.getInstance(this.firestore,e):null))}}function Pi(n,e,t){return n.message=n.message.replace(e,t),n}function _T(n){for(const e of n)if("object"==typeof e&&!ri(e))return e;return{}}function H0(n,e){var t,s;let a;return a=ri(n[0])?n[0]:ri(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class kg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new to(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return nT(this._delegate,e._delegate)}}class Fg extends kg{data(e){const t=this._delegate.data(e);return function(n,e){n||tt()}(void 0!==t),t}}class ki{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yd(e)}where(e,t,s){try{return new ki(this.firestore,fd(this._delegate,function(n,e,t){const s=e,a=M_("where",n);return new oN(a,s,t)}(e,t,s)))}catch(a){throw Pi(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ki(this.firestore,fd(this._delegate,function(n,e="asc"){const t=e,s=M_("orderBy",n);return new Nx(s,t)}(e,t)))}catch(s){throw Pi(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ki(this.firestore,fd(this._delegate,function(n){return YD("limit",n),new iT("limit",n,"F")}(e)))}catch(t){throw Pi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ki(this.firestore,fd(this._delegate,function(n){return YD("limitToLast",n),new iT("limitToLast",n,"L")}(e)))}catch(t){throw Pi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ki(this.firestore,fd(this._delegate,function(...n){return new sT("startAt",n,!0)}(...e)))}catch(t){throw Pi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ki(this.firestore,fd(this._delegate,function(...n){return new sT("startAfter",n,!1)}(...e)))}catch(t){throw Pi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ki(this.firestore,fd(this._delegate,function(...n){return new oT("endBefore",n,!0)}(...e)))}catch(t){throw Pi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ki(this.firestore,fd(this._delegate,function(...n){return new oT("endAt",n,!1)}(...e)))}catch(t){throw Pi(t,"endAt()","Query.endAt()")}}isEqual(e){return QD(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=qt(n,Oi);const e=qt(n.firestore,Bn),t=er(e),s=new gd(e);return function(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(a,l,f){try{const v=yield kw(a,l,!0),b=new wD(l,v.Gn),S=b.Io(v.documents),M=b.applyChanges(S,!1);f.resolve(M.snapshot)}catch(v){const b=cd(v,`Failed to execute query '${l} against cache`);f.reject(b)}}),function(a,l,f){return s.apply(this,arguments)})(yield _0(n),e,t);var s})),t.promise}(t,n._query).then(a=>new kc(e,s,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=qt(n,Oi);const e=qt(n.firestore,Bn),t=er(e),s=new gd(e);return b0(t,n._query,{source:"server"}).then(a=>new kc(e,s,n,a))}(this._delegate):function(n){n=qt(n,Oi);const e=qt(n.firestore,Bn),t=er(e),s=new gd(e);return rT(n._query),b0(t,n._query).then(a=>new kc(e,s,n,a))}(this._delegate),t.then(s=>new vd(this.firestore,new kc(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=_T(e),s=H0(e,a=>new vd(this.firestore,new kc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return hT(this._delegate,t,s)}withConverter(e){return new ki(this.firestore,this._delegate.withConverter(e?_d.getInstance(this.firestore,e):null))}}class Fc{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Fg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vd{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ki(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Fg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Fc(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Fg(this._firestore,s))})}isEqual(e){return nT(this._delegate,e._delegate)}}class Lc extends ki{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new to(this.firestore,e):null}doc(e){try{return new to(this.firestore,void 0===e?b_(this._delegate):b_(this._delegate,e))}catch(t){throw Pi(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=qt(n.firestore,Bn),s=b_(n),a=O_(n.converter,e);return md(t,[A_(dd(n.firestore),"addDoc",s._key,a,null!==n.converter,{}).toMutation(s._key,hr.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new to(this.firestore,t))}isEqual(e){return D0(this._delegate,e._delegate)}withConverter(e){return new Lc(this.firestore,this._delegate.withConverter(e?_d.getInstance(this.firestore,e):null))}}function Ed(n){return qt(n,Tn)}class G0{constructor(...e){this._delegate=new Sa(...e)}static documentId(){return new G0(ti.keyField().canonicalString())}isEqual(e){return(e=(0,Nt.m9)(e))instanceof Sa&&this._delegate._internalPath.isEqual(e._internalPath)}}class wd{constructor(e){this._delegate=e}static serverTimestamp(){const e=new S_("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new wd(e)}static delete(){const e=new hf("deleteField");return e._methodName="FieldValue.delete",new wd(e)}static arrayUnion(...e){const t=function(...n){return new x0("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new wd(t)}static arrayRemove(...e){const t=function(...n){return new R0("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new wd(t)}static increment(e){const t=function(n){return new Ax("increment",n)}(e);return t._methodName="FieldValue.increment",new wd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const q0={Firestore:B0,GeoPoint:df,Timestamp:Er,Blob:Mg,Transaction:$0,WriteBatch:Pg,DocumentReference:to,DocumentSnapshot:kg,Query:ki,QueryDocumentSnapshot:Fg,QuerySnapshot:vd,CollectionReference:Lc,FieldPath:G0,FieldValue:wd,setLogLevel:function(n){!function(n){Gl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new Km.wA("firestore-compat",t=>((e,t)=>new B0(e,t,new V_))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},q0)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.4")}(uC.Z);var ET=V(6682),Lg=V(309),qx=V(7771),Wx=V(8858);class Su extends Ao.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Vg(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,s=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=s.length;let f;if(this.closed)throw new dm.N;if(this.isStopped||this.hasError?f=NT.w.EMPTY:(this.observers.push(e),f=new Wx.W(this,e)),a&&e.add(e=new Lg.ht(e,a)),t)for(let v=0;v<l&&!e.closed;v++)e.next(s[v]);else for(let v=0;v<l&&!e.closed;v++)e.next(s[v].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),f}_getNow(){return(this.scheduler||qx.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,s=this._windowTime,a=this._events,l=a.length;let f=0;for(;f<l&&!(e-a[f].time<s);)f++;return l>t&&(f=Math.max(f,l-t)),f>0&&a.splice(0,f),a}}class Vg{constructor(e,t){this.time=e,this.value=t}}function bd(n,e,t){let s;return s=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:s}){let a,f,l=0,v=!1,b=!1;return function(M){let P;l++,!a||v?(v=!1,a=new Su(n,e,s),P=a.subscribe(this),f=M.subscribe({next(Y){a.next(Y)},error(Y){v=!0,a.error(Y)},complete(){b=!0,f=void 0,a.complete()}}),b&&(f=void 0)):P=a.subscribe(this),this.add(()=>{l--,P.unsubscribe(),P=void 0,f&&!b&&t&&0===l&&(f.unsubscribe(),f=void 0,a=void 0)})}}(s))}function Cd(n,e){return e?kn(()=>n,e):kn(()=>n)}var W0=V(3101);V(2329);const AT=new Map,Zx={activated:!1,tokenObservers:[]},gN={initialized:!1,enabled:!1};function Ji(n){return AT.get(n)||Zx}function xu(n,e){AT.set(n,e)}function z0(){return gN}class _N{constructor(e,t,s,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new Nt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Nt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const o=new Nt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function c(n){if(!Ji(n).activated)throw o.create("use-before-activation",{appName:n.name})}function g(n,e){return y.apply(this,arguments)}function y(){return(y=(0,be.Z)(function*({url:n,body:e},t){const s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(s["X-Firebase-Client"]=a.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:s};let f,v;try{f=yield fetch(n,l)}catch(P){throw o.create("fetch-network-error",{originalErrorMessage:P.message})}if(200!==f.status)throw o.create("fetch-status-error",{httpStatus:f.status});try{v=yield f.json()}catch(P){throw o.create("fetch-parse-error",{originalErrorMessage:P.message})}const b=v.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw o.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const S=1e3*Number(b[1]),M=Date.now();return{token:v.attestationToken,expireTimeMillis:M+S,issuedAtTimeMillis:M}})).apply(this,arguments)}function I(n,e){const{projectId:t,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const O="firebase-app-check-store";let H=null;function ae(){return H||(H=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=s=>{n(s.target.result)},t.onerror=s=>{var a;e(o.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=s=>{const a=s.target.result;switch(s.oldVersion){case 0:a.createObjectStore(O,{keyPath:"compositeKey"})}}}catch(t){e(o.create("storage-open",{originalErrorMessage:t.message}))}}),H)}function At(){return(At=(0,be.Z)(function*(n,e){const s=(yield ae()).transaction(O,"readwrite"),l=s.objectStore(O).put({compositeKey:n,value:e});return new Promise((f,v)=>{l.onsuccess=b=>{f()},s.onerror=b=>{var S;v(o.create("storage-set",{originalErrorMessage:null===(S=b.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const Ru=new pc.Yd("@firebase/app-check");function $_(n,e){return(0,Nt.hl)()?function(n,e){return function(n,e){return At.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ru.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function H_(){return z0().enabled}function G_(){return Qx.apply(this,arguments)}function Qx(){return(Qx=(0,be.Z)(function*(){const n=z0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const KN={error:"UNKNOWN_ERROR"};function ZN(n){return Nt.US.encodeString(JSON.stringify(n),!1)}function xT(n){return Jx.apply(this,arguments)}function Jx(){return(Jx=(0,be.Z)(function*(n,e=!1){const t=n.app;c(t);const s=Ji(t);let l,f,a=s.token;if(!a){const v=yield s.cachedTokenPromise;v&&Z0(v)&&(a=v,xu(t,Object.assign(Object.assign({},s),{token:a})),EN(t,{token:a.token}))}if(!e&&a&&Z0(a))return{token:a.token};if(H_()){const v=yield g(I(t,yield G_()),n.platformLoggerProvider);return yield $_(t,v),xu(t,Object.assign(Object.assign({},s),{token:v})),{token:v.token}}try{a=yield s.provider.getToken()}catch(v){Ru.error(v),l=v}return a?(f={token:a.token},xu(t,Object.assign(Object.assign({},s),{token:a})),yield $_(t,a)):f=QN(l),EN(t,f),f})).apply(this,arguments)}function Xx(n,e){const t=Ji(n),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),xu(n,Object.assign(Object.assign({},t),{tokenObservers:s}))}function EN(n,e){const t=Ji(n).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function Z0(n){return n.expireTimeMillis-Date.now()>0}function QN(n){return{token:ZN(KN),error:n}}class JN{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Ji(this.app);for(const t of e)Xx(this.app,t.next);return Promise.resolve()}}const IN="app-check-internal";(0,fc._registerComponent)(new Km.wA("app-check",n=>function(n,e){return new JN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(IN).initialize()})),(0,fc._registerComponent)(new Km.wA(IN,n=>function(n){return{getToken:e=>xT(n,e),addTokenListener:e=>function(n,e,t,s){const{app:a}=n,l=Ji(a),f={next:t,error:s,type:e},v=Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,f]});if(!v.tokenRefresher){const b=function(n){const{app:e}=n;return new _N((0,be.Z)(function*(){let s;if(s=Ji(e).token?yield xT(n,!0):yield xT(n),s.error)throw s.error}),()=>!0,()=>{const t=Ji(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n);v.tokenRefresher=b}if(!v.tokenRefresher.isRunning()&&l.isTokenAutoRefreshEnabled&&v.tokenRefresher.start(),l.token&&Z0(l.token)){const b=l.token;Promise.resolve().then(()=>t({token:b.token})).catch(()=>{})}else null==l.token&&l.cachedTokenPromise.then(b=>{b&&Z0(b)&&t({token:b.token})}).catch(()=>{});xu(a,v)}(n,"INTERNAL",e),removeTokenListener:e=>Xx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fc.registerVersion)("@firebase/app-check","0.4.2");class rR{constructor(){return(0,ei.vb)("app-check")}}"undefined"!=typeof window&&window,V(7841);const TN=new m.OlP("angularfire2.auth.use-emulator"),AN=new m.OlP("angularfire2.auth.settings"),SN=new m.OlP("angularfire2.auth.tenant-id"),xN=new m.OlP("angularfire2.auth.langugage-code"),RN=new m.OlP("angularfire2.auth.use-device-language"),NN=new m.OlP("angularfire.auth.persistence"),MN=(n,e,t,s,a,l,f,v)=>(0,bs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),s&&(b.tenantId=s),b.languageCode=a,l&&b.useDeviceLanguage(),f)for(const[S,M]of Object.entries(f))b.settings[S]=M;return v&&b.setPersistence(v),b},[t,s,a,l,f,v]);let ON=(()=>{class n{constructor(t,s,a,l,f,v,b,S,M,P,Y,J){const xe=new Ao.xQ,je=(0,qe.of)(void 0).pipe((0,Lg.QV)(f.outsideAngular),kn(()=>l.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,4671)))),(0,ht.U)(()=>(0,bs.on)(t,l,s)),(0,ht.U)(Ze=>MN(Ze,l,v,S,M,P,b,Y)),bd({bufferSize:1,refCount:!1}));if(lo(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,qe.of)(null);else{je.pipe(Gi()).subscribe();const Pt=je.pipe(kn(Ut=>Ut.getRedirectResult().then(pr=>pr,()=>null)),ei.iC,bd({bufferSize:1,refCount:!1})),nn=je.pipe(kn(Ut=>new Cn.y(pr=>({unsubscribe:l.runOutsideAngular(()=>Ut.onAuthStateChanged(xa=>pr.next(xa),xa=>pr.error(xa),()=>pr.complete()))})))),Mn=je.pipe(kn(Ut=>new Cn.y(pr=>({unsubscribe:l.runOutsideAngular(()=>Ut.onIdTokenChanged(xa=>pr.next(xa),xa=>pr.error(xa),()=>pr.complete()))}))));this.authState=Pt.pipe(Cd(nn),(0,W0.R)(f.outsideAngular),(0,Lg.QV)(f.insideAngular)),this.user=Pt.pipe(Cd(Mn),(0,W0.R)(f.outsideAngular),(0,Lg.QV)(f.insideAngular)),this.idToken=this.user.pipe(kn(Ut=>Ut?(0,pn.D)(Ut.getIdToken()):(0,qe.of)(null))),this.idTokenResult=this.user.pipe(kn(Ut=>Ut?(0,pn.D)(Ut.getIdTokenResult()):(0,qe.of)(null))),this.credential=(0,ET.T)(Pt,xe,this.authState.pipe(A(Ut=>!Ut))).pipe((0,ht.U)(Ut=>(null==Ut?void 0:Ut.user)?Ut:null),(0,W0.R)(f.outsideAngular),(0,Lg.QV)(f.insideAngular))}return(0,bs.pX)(this,je,l,{spy:{apply:(Ze,Pt,nn)=>{(Ze.startsWith("signIn")||Ze.startsWith("createUser"))&&nn.then(Mn=>xe.next(Mn))}}})}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(bs.Dh),m.LFG(bs.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(ei.HU),m.LFG(TN,8),m.LFG(AN,8),m.LFG(SN,8),m.LFG(xN,8),m.LFG(RN,8),m.LFG(NN,8),m.LFG(rR,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function PN(n,e){return function(n,e=SA.z){return new Cn.y(t=>{let s;return null!=e?e.schedule(()=>{s=n.onSnapshot({includeMetadataChanges:!0},t)}):s=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(n,e)}function sR(n,e){return PN(n,e).pipe((0,ht.U)(t=>({payload:t,type:"query"})))}function RT(n,e){return sR(n,e).pipe(_(void 0),zm(),(0,ht.U)(([t,s])=>{const a=s.payload.docChanges(),l=a.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((f,v)=>{const b=a.find(M=>M.doc.ref.isEqual(f.ref)),S=null==t?void 0:t.payload.docs.find(M=>M.ref.isEqual(f.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(f.metadata)||!b&&S&&JSON.stringify(S.metadata)===JSON.stringify(f.metadata)||l.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:f}})}),l}))}function kN(n,e,t){return RT(n,t).pipe(h((s,a)=>function(n,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return oR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return oR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return oR(n,e.oldIndex,1)}return n}(n,s))}),n}(s,a.map(l=>l.payload),e),[]),t=>t.lift(new RA(void 0,void 0)),(0,ht.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function oR(n,e,t,...s){const a=n.slice();return a.splice(e,t,...s),a}function FN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class LN{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=RT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ht.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(_(void 0),zm(),A(([s,a])=>a.length>0||!s),(0,ht.U)(([s,a])=>a),ei.iC)}auditTrail(e){return this.stateChanges(e).pipe(h((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=FN(e);return kN(this.query,t,this.afs.schedulers.outsideAngular).pipe(ei.iC)}valueChanges(e={}){return sR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),ei.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(ei.iC)}add(e){return this.ref.add(e)}doc(e){return new VN(this.ref.doc(e),this.afs)}}class VN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:l}=UN(s,t);return new LN(a,l,this.afs)}snapshotChanges(){return function(n,e){return PN(n,e).pipe(_(void 0),zm(),(0,ht.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ei.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pn.D)(this.ref.get(e)).pipe(ei.iC)}}class vM{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?RT(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),A(t=>t.length>0),ei.iC):RT(this.query,this.afs.schedulers.outsideAngular).pipe(ei.iC)}auditTrail(e){return this.stateChanges(e).pipe(h((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=FN(e);return kN(this.query,t,this.afs.schedulers.outsideAngular).pipe(ei.iC)}valueChanges(e={}){return sR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),ei.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(ei.iC)}}const EM=new m.OlP("angularfire2.enableFirestorePersistence"),wM=new m.OlP("angularfire2.firestore.persistenceSettings"),bM=new m.OlP("angularfire2.firestore.settings"),CM=new m.OlP("angularfire2.firestore.use-emulator");function UN(n,e=(t=>t)){return{query:e(n),ref:n}}let BN=(()=>{class n{constructor(t,s,a,l,f,v,b,S,M,P,Y,J,xe,je,Ze,Pt,nn){this.schedulers=b;const Mn=(0,bs.on)(t,v,s),Ut=M;P&&MN(Mn,v,Y,xe,je,Ze,J,Pt),[this.firestore,this.persistenceEnabled$]=(0,bs.cc)(`${Mn.name}.firestore`,"AngularFirestore",Mn.name,()=>{const pr=v.runOutsideAngular(()=>Mn.firestore());if(l&&pr.settings(l),Ut&&pr.useEmulator(...Ut),a&&!lo(f)){const xa=()=>{try{return(0,pn.D)(pr.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(RM){return"undefined"!=typeof console&&console.warn(RM),(0,qe.of)(!1)}};return[pr,v.runOutsideAngular(xa)]}return[pr,(0,qe.of)(!1)]},[l,Ut,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:f}=UN(a,s),v=this.schedulers.ngZone.run(()=>l);return new LN(v,f,this)}collectionGroup(t,s){const a=s||(f=>f),l=this.firestore.collectionGroup(t);return new vM(a(l),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new VN(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(bs.Dh),m.LFG(bs.xv,8),m.LFG(EM,8),m.LFG(bM,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(ei.HU),m.LFG(wM,8),m.LFG(CM,8),m.LFG(ON,8),m.LFG(TN,8),m.LFG(AN,8),m.LFG(SN,8),m.LFG(xN,8),m.LFG(RN,8),m.LFG(NN,8),m.LFG(rR,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),aR=(()=>{class n{constructor(t){this.firestore=t,this.notasCollection=t.collection("notas"),this.notas=this.notasCollection.snapshotChanges().pipe((0,ht.U)(s=>s.map(a=>{const l=a.payload.doc.data();return Object.assign({id:a.payload.doc.id},l)})))}listaNota(){return this.notas}agregarNota(t){this.notasCollection.add(t)}eliminarNota(t){this.notaDoc=this.firestore.doc(`notas/${t.id}`),this.notaDoc.delete()}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(BN))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IM=function(n,e){return{textError:n,text:e}};let DM=(()=>{class n{constructor(t){this.servicio=t,this.nota={textoNota:""},this.vacio=!1}ngOnInit(){}agregar(){""==this.nota.textoNota?this.vacio=!0:(this.vacio=!1,this.servicio.agregarNota(this.nota),this.nota.textoNota="")}cambiarClase(){this.vacio=!1}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(aR))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-lista-guardar"]],decls:7,vars:5,consts:[[1,"principal"],[1,"wrap"],[1,"formulario",3,"ngSubmit"],["type","text","id","tareaInput","placeholder","Agrega tu tarea","name","textoNota",3,"ngClass","ngModel","click","ngModelChange"],["type","submit","value","Agregar Tarea",1,"boton"]],template:function(t,s){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"p"),m._uU(2,"Mis notas"),m.qZA(),m.TgZ(3,"div",1),m.TgZ(4,"form",2),m.NdJ("ngSubmit",function(){return s.agregar()}),m.TgZ(5,"input",3),m.NdJ("click",function(){return s.cambiarClase()})("ngModelChange",function(l){return s.nota.textoNota=l}),m.qZA(),m._UZ(6,"input",4),m.qZA(),m.qZA(),m.qZA()),2&t&&(m.xp6(5),m.Q6J("ngClass",m.WLB(2,IM,s.vacio,!s.vacio))("ngModel",s.nota.textoNota))},directives:[em,Zr,sc,ps,Ma,Kr,Xg],styles:[".wrap[_ngcontent-%COMP%]{margin:auto;max-width:800px;width:90%}.principal[_ngcontent-%COMP%]{background:#a566ca;color:#fff;padding:50px 0;width:100%;text-align:center;font-size:50px;font-family:arial;position:fixed top}.principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]{color:#212121;text-align:center}.text[_ngcontent-%COMP%]{margin-bottom:20px;padding:10px 25px;width:80%;border-radius:15px;border:none}.textError[_ngcontent-%COMP%]{margin-bottom:20px;padding:10px 25px;width:80%;border:2px solid #D32F2F;border-radius:15px}.textError[_ngcontent-%COMP%]::placeholder{color:red}.principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .boton[_ngcontent-%COMP%]:hover{background-color:#2e642e}.principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .boton[_ngcontent-%COMP%]{background:rgb(111,180,111);border-radius:10px;border:green;padding:15px;text-align:center;display:inline-block;font-size:16px;color:#fff}"]}),n})();function TM(n,e){if(1&n){const t=m.EpF();m.TgZ(0,"li"),m.TgZ(1,"a",4),m.NdJ("click",function(){const l=m.CHM(t).$implicit;return m.oxw().eliminar(l)}),m._uU(2),m.qZA(),m.qZA()}if(2&n){const t=e.$implicit;m.xp6(2),m.Oqu(t.textoNota)}}let AM=(()=>{class n{constructor(t){this.conexion=t,this.conexion.listaNota().subscribe(s=>{this.notas=s,console.log(this.notas)})}ngOnInit(){}eliminar(t){this.conexion.eliminarNota(t)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(aR))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-lista"]],decls:4,vars:1,consts:[[1,"tareas"],[1,"wrap"],["id","lista",1,"lista"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(t,s){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"ul",2),m.YNc(3,TM,3,1,"li",3),m.qZA(),m.qZA(),m.qZA()),2&t&&(m.xp6(3),m.Q6J("ngForOf",s.notas))},directives:[wi],styles:[".wrap[_ngcontent-%COMP%]{margin:auto;max-width:800px;width:90%}.tareas[_ngcontent-%COMP%]   .lista[_ngcontent-%COMP%]{list-style:none}.tareas[_ngcontent-%COMP%]   .lista[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid #B6B6B6}.tareas[_ngcontent-%COMP%]   .lista[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#212121;display:block;padding:20px 0;text-decoration:none}.tareas[_ngcontent-%COMP%]   .lista[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:line-through}"]}),n})(),SM=(()=>{class n{constructor(t){this.notas=t.collection("notas").valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(BN))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,s){1&t&&(m._UZ(0,"app-lista-guardar"),m._UZ(1,"app-lista"))},directives:[DM,AM],styles:[""]}),n})();const jN_firebase={apiKey:"AIzaSyDBCJI7UlWnv325oHvMur7iSLRQeFHwrLU",authDomain:"notasangular-732b2.firebaseapp.com",projectId:"notasangular-732b2",storageBucket:"notasangular-732b2.appspot.com",messagingSenderId:"445421210116",appId:"1:445421210116:web:d0b7507fd184730f07c351"};let xM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n,bootstrap:[SM]}),n.\u0275inj=m.cJS({providers:[aR],imports:[[Ha,bs.hO.initializeApp(jN_firebase),AA,cm]]}),n})();el().bootstrapModule(xM).catch(n=>console.error(n))},4762:(et,Te,V)=>{"use strict";function ce(ne,oe){var ge={};for(var ue in ne)Object.prototype.hasOwnProperty.call(ne,ue)&&oe.indexOf(ue)<0&&(ge[ue]=ne[ue]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(ue=Object.getOwnPropertySymbols(ne);Pe<ue.length;Pe++)oe.indexOf(ue[Pe])<0&&Object.prototype.propertyIsEnumerable.call(ne,ue[Pe])&&(ge[ue[Pe]]=ne[ue[Pe]])}return ge}function he(ne,oe,ge,ue){return new(ge||(ge=Promise))(function(me,it){function Bt(Gt){try{_t(ue.next(Gt))}catch(Pn){it(Pn)}}function On(Gt){try{_t(ue.throw(Gt))}catch(Pn){it(Pn)}}function _t(Gt){Gt.done?me(Gt.value):function(me){return me instanceof ge?me:new ge(function(it){it(me)})}(Gt.value).then(Bt,On)}_t((ue=ue.apply(ne,oe||[])).next())})}function W(ne,oe){var ue,Pe,me,it,ge={label:0,sent:function(){if(1&me[0])throw me[1];return me[1]},trys:[],ops:[]};return it={next:Bt(0),throw:Bt(1),return:Bt(2)},"function"==typeof Symbol&&(it[Symbol.iterator]=function(){return this}),it;function Bt(_t){return function(Gt){return function(_t){if(ue)throw new TypeError("Generator is already executing.");for(;ge;)try{if(ue=1,Pe&&(me=2&_t[0]?Pe.return:_t[0]?Pe.throw||((me=Pe.return)&&me.call(Pe),0):Pe.next)&&!(me=me.call(Pe,_t[1])).done)return me;switch(Pe=0,me&&(_t=[2&_t[0],me.value]),_t[0]){case 0:case 1:me=_t;break;case 4:return ge.label++,{value:_t[1],done:!1};case 5:ge.label++,Pe=_t[1],_t=[0];continue;case 7:_t=ge.ops.pop(),ge.trys.pop();continue;default:if(!(me=(me=ge.trys).length>0&&me[me.length-1])&&(6===_t[0]||2===_t[0])){ge=0;continue}if(3===_t[0]&&(!me||_t[1]>me[0]&&_t[1]<me[3])){ge.label=_t[1];break}if(6===_t[0]&&ge.label<me[1]){ge.label=me[1],me=_t;break}if(me&&ge.label<me[2]){ge.label=me[2],ge.ops.push(_t);break}me[2]&&ge.ops.pop(),ge.trys.pop();continue}_t=oe.call(ne,ge)}catch(Gt){_t=[6,Gt],Pe=0}finally{ue=me=0}if(5&_t[0])throw _t[1];return{value:_t[0]?_t[1]:void 0,done:!0}}([_t,Gt])}}}function Q(ne){var oe="function"==typeof Symbol&&Symbol.iterator,ge=oe&&ne[oe],ue=0;if(ge)return ge.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&ue>=ne.length&&(ne=void 0),{value:ne&&ne[ue++],done:!ne}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(ne,oe){var ge="function"==typeof Symbol&&ne[Symbol.iterator];if(!ge)return ne;var Pe,it,ue=ge.call(ne),me=[];try{for(;(void 0===oe||oe-- >0)&&!(Pe=ue.next()).done;)me.push(Pe.value)}catch(Bt){it={error:Bt}}finally{try{Pe&&!Pe.done&&(ge=ue.return)&&ge.call(ue)}finally{if(it)throw it.error}}return me}function fe(ne,oe,ge){if(ge||2===arguments.length)for(var me,ue=0,Pe=oe.length;ue<Pe;ue++)(me||!(ue in oe))&&(me||(me=Array.prototype.slice.call(oe,0,ue)),me[ue]=oe[ue]);return ne.concat(me||Array.prototype.slice.call(oe))}V.d(Te,{_T:()=>ce,mG:()=>he,Jh:()=>W,XA:()=>Q,CR:()=>K,ev:()=>fe})},8239:(et,Te,V)=>{"use strict";function m(F,ce,te,ie,Ee,he,W){try{var k=F[he](W),L=k.value}catch(Q){return void te(Q)}k.done?ce(L):Promise.resolve(L).then(ie,Ee)}function ee(F){return function(){var ce=this,te=arguments;return new Promise(function(ie,Ee){var he=F.apply(ce,te);function W(L){m(he,ie,Ee,W,k,"next",L)}function k(L){m(he,ie,Ee,W,k,"throw",L)}W(void 0)})}}V.d(Te,{Z:()=>ee})}},et=>{et(et.s=9267)}]);